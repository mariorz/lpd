{
"version":3,
"file":"module$node_modules$async_mutex$lib$Semaphore.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/async-mutex/lib/Semaphore.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$async_mutex$lib$Semaphore\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Semaphore = /** @class */ (function () {\n    function Semaphore(_maxConcurrency) {\n        this._maxConcurrency = _maxConcurrency;\n        this._queue = [];\n        if (_maxConcurrency <= 0) {\n            throw new Error('semaphore must be initialized to a positive value');\n        }\n        this._value = _maxConcurrency;\n    }\n    Semaphore.prototype.acquire = function () {\n        var _this = this;\n        var locked = this.isLocked();\n        var ticket = new Promise(function (r) { return _this._queue.push(r); });\n        if (!locked)\n            this._dispatch();\n        return ticket;\n    };\n    Semaphore.prototype.runExclusive = function (callback) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, value, release;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.acquire()];\n                    case 1:\n                        _a = _b.sent(), value = _a[0], release = _a[1];\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, , 4, 5]);\n                        return [4 /*yield*/, callback(value)];\n                    case 3: return [2 /*return*/, _b.sent()];\n                    case 4:\n                        release();\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Semaphore.prototype.isLocked = function () {\n        return this._value <= 0;\n    };\n    Semaphore.prototype.release = function () {\n        if (this._maxConcurrency > 1) {\n            throw new Error('this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead');\n        }\n        if (this._currentReleaser) {\n            var releaser = this._currentReleaser;\n            this._currentReleaser = undefined;\n            releaser();\n        }\n    };\n    Semaphore.prototype._dispatch = function () {\n        var _this = this;\n        var nextConsumer = this._queue.shift();\n        if (!nextConsumer)\n            return;\n        var released = false;\n        this._currentReleaser = function () {\n            if (released)\n                return;\n            released = true;\n            _this._value++;\n            _this._dispatch();\n        };\n        nextConsumer([this._value--, this._currentReleaser]);\n    };\n    return Semaphore;\n}());\nexports.default = Semaphore;\n\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","tslib_1","Semaphore","_maxConcurrency","_queue","Error","_value","prototype","acquire","Semaphore.prototype.acquire","_this","locked","isLocked","ticket","Promise","r","push","_dispatch","runExclusive","Semaphore.prototype.runExclusive","callback","__awaiter","_a","release","__generator","_b","label","sent","trys","Semaphore.prototype.isLocked","Semaphore.prototype.release","_currentReleaser","releaser","undefined","Semaphore.prototype._dispatch","nextConsumer","shift","released","this._currentReleaser","default"]
}
