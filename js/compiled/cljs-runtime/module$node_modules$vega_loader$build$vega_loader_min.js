shadow$provide.module$node_modules$vega_loader$build$vega_loader_min=function(global,require,module,exports){var Buffer=require("module$node_modules$buffer$index").Buffer;!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("module$node_modules$vega_util$build$vega_util"),require("module$node_modules$vega_format$build$vega_format")):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],t):t((e="undefined"!=typeof globalThis?globalThis:
e||self).vega={},e.vega,e.vega)}(this,function(e$jscomp$3,t$jscomp$2,n$jscomp$2){async function u$jscomp$1(e,t){e=await this.sanitize(e,t);const r=e.href;return e.localFile?this.file(r):this.http(r,t)}async function s$jscomp$0(e,n){n=t$jscomp$2.extend({},this.options,n);const u=this.fileAccess,s={href:null};let c,f,l;var p=o$jscomp$2.test(e.replace(i$jscomp$1,""));null!=e&&"string"==typeof e&&p||t$jscomp$2.error("Sanitize failure, invalid URI: "+t$jscomp$2.stringValue(e));p=r$jscomp$2.test(e);return(l=
n.baseURL)&&!p&&(e.startsWith("/")||"/"===l[l.length-1]||(e="/"+e),e=l+e),f=(c=e.startsWith("file://"))||"file"===n.mode||"http"!==n.mode&&!p&&u,c?e=e.slice(7):e.startsWith("//")&&("file"===n.defaultProtocol?(e=e.slice(2),f=!0):e=(n.defaultProtocol||"http")+":"+e),Object.defineProperty(s,"localFile",{value:!!f}),s.href=e,n.target&&(s.target=n.target+""),n.rel&&(s.rel=n.rel+""),"image"===n.context&&n.crossOrigin&&(s.crossOrigin=n.crossOrigin+""),s}function c$jscomp$0(e$jscomp$0){return e$jscomp$0?
t$jscomp$0=>new Promise((n,r)=>{e$jscomp$0.readFile(t$jscomp$0,(e,t)=>{e?r(e):n(t)})}):f$jscomp$0}async function f$jscomp$0(){t$jscomp$2.error("No file system access.")}function l$jscomp$0(e){return e?async function(n,r){const o=t$jscomp$2.extend({},this.options.http,r);r=r&&r.response;n=await e(n,o);return n.ok?t$jscomp$2.isFunction(n[r])?n[r]():n.text():t$jscomp$2.error(n.status+""+n.statusText)}:p$jscomp$0}async function p$jscomp$0(){t$jscomp$2.error("No HTTP fetch method available.")}function y(e$jscomp$0,
t$jscomp$0){if(!e$jscomp$0||!e$jscomp$0.length)return"unknown";const n=e$jscomp$0.length,r=g.length,o=g.map((e,t)=>t+1);for(let a,u,s=0,c=0;s<n;++s)for(u=t$jscomp$0?e$jscomp$0[s][t$jscomp$0]:e$jscomp$0[s],a=0;a<r;++a)if(o[a]&&null!=(i=u)&&i==i&&!g[a](u)&&(o[a]=0,++c,c===g.length))return"string";var i;return m[o.reduce((e,t)=>0===e?t:e,0)-1]}function v(e,t$jscomp$0){return t$jscomp$0.reduce((t,n)=>(t[n]=y(e,n),t),{})}function j(e$jscomp$0){return new Function("d","return {"+e$jscomp$0.map(function(e,
t){return JSON.stringify(e)+": d["+t+'] || ""'}).join(",")+"}")}function C(e$jscomp$0){var t=Object.create(null),n=[];return e$jscomp$0.forEach(function(e){for(var r in e)r in t||n.push(t[r]=r)}),n}function w(e,t){e+="";var r=e.length;return r<t?Array(t-r+1).join(0)+e:e}function A(e$jscomp$2){function r$jscomp$1(e,t$jscomp$0){function f(){if(s)return T;if(c)return c=!1,b;var t,r,o=a;if(34===e.charCodeAt(o)){for(;a++<i&&34!==e.charCodeAt(a)||34===e.charCodeAt(++a););return(t=a)>=i?s=!0:10===(r=e.charCodeAt(a++))?
c=!0:13===r&&(c=!0,10===e.charCodeAt(a)&&++a),e.slice(o+1,t-1).replace(/""/g,'"')}for(;a<i;){if(10===(r=e.charCodeAt(t=a++)))c=!0;else if(13===r)c=!0,10===e.charCodeAt(a)&&++a;else if(r!==n$jscomp$1)continue;return e.slice(o,t)}return s=!0,e.slice(o,i)}var r$jscomp$0,o$jscomp$0=[],i=e.length,a=0,u=0,s=0>=i,c=!1;10===e.charCodeAt(i-1)&&--i;for(13===e.charCodeAt(i-1)&&--i;(r$jscomp$0=f())!==T;){for(var l=[];r$jscomp$0!==b&&r$jscomp$0!==T;)l.push(r$jscomp$0),r$jscomp$0=f();t$jscomp$0&&null==(l=t$jscomp$0(l,
u++))||o$jscomp$0.push(l)}return o$jscomp$0}function o$jscomp$1(t$jscomp$0,n){return t$jscomp$0.map(function(t){return n.map(function(e){return a$jscomp$0(t[e])}).join(e$jscomp$2)})}function i$jscomp$0(t){return t.map(a$jscomp$0).join(e$jscomp$2)}function a$jscomp$0(e){if(null==e)var JSCompiler_temp="";else{if(e instanceof Date){var JSCompiler_temp$jscomp$0=e.getUTCHours();var r=e.getUTCMinutes(),o=e.getUTCSeconds(),i=e.getUTCMilliseconds();JSCompiler_temp$jscomp$0=isNaN(e)?"Invalid Date":(0>(JSCompiler_temp=
e.getUTCFullYear())?"-"+w(-JSCompiler_temp,6):9999<JSCompiler_temp?"+"+w(JSCompiler_temp,6):w(JSCompiler_temp,4))+"-"+w(e.getUTCMonth()+1,2)+"-"+w(e.getUTCDate(),2)+(i?"T"+w(JSCompiler_temp$jscomp$0,2)+":"+w(r,2)+":"+w(o,2)+"."+w(i,3)+"Z":o?"T"+w(JSCompiler_temp$jscomp$0,2)+":"+w(r,2)+":"+w(o,2)+"Z":r||JSCompiler_temp$jscomp$0?"T"+w(JSCompiler_temp$jscomp$0,2)+":"+w(r,2)+"Z":"")}else JSCompiler_temp$jscomp$0=t$jscomp$1.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;JSCompiler_temp=JSCompiler_temp$jscomp$0}return JSCompiler_temp}
var t$jscomp$1=new RegExp('["'+e$jscomp$2+"\n\r]"),n$jscomp$1=e$jscomp$2.charCodeAt(0);return{parse:function(e$jscomp$1,t$jscomp$0){var n$jscomp$0,o$jscomp$0;e$jscomp$1=r$jscomp$1(e$jscomp$1,function(e$jscomp$0,r$jscomp$0){if(n$jscomp$0)return n$jscomp$0(e$jscomp$0,r$jscomp$0-1);o$jscomp$0=e$jscomp$0;n$jscomp$0=t$jscomp$0?function(e,t){var n=j(e);return function(r,o){return t(n(r),o,e)}}(e$jscomp$0,t$jscomp$0):j(e$jscomp$0)});return e$jscomp$1.columns=o$jscomp$0||[],e$jscomp$1},parseRows:r$jscomp$1,
format:function(t,n){return null==n&&(n=C(t)),[n.map(a$jscomp$0).join(e$jscomp$2)].concat(o$jscomp$1(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=C(e)),o$jscomp$1(e,t).join("\n")},formatRows:function(e){return e.map(i$jscomp$0).join("\n")},formatRow:i$jscomp$0,formatValue:a$jscomp$0}}function x(e){const n$jscomp$0=function(n,r){const o={delimiter:e};return O(n,r?t$jscomp$2.extend(r,o):o)};return n$jscomp$0.responseType="text",n$jscomp$0}function O(e,n){return n.header&&(e=n.header.map(t$jscomp$2.stringValue).join(n.delimiter)+
"\n"+e),A(n.delimiter).parse(e+"")}function P(e,n){const r=n&&n.property?t$jscomp$2.field(n.property):t$jscomp$2.identity;!t$jscomp$2.isObject(e)||(o=e,"function"==typeof Buffer&&t$jscomp$2.isFunction(Buffer.isBuffer)&&Buffer.isBuffer(o))?n=r(JSON.parse(e)):(e=r(e),!t$jscomp$2.isArray(e)&&t$jscomp$2.isIterable(e)&&(e=[...e]),n=n&&n.copy?JSON.parse(JSON.stringify(e)):e);return n;var o}function k(e){return e}function E(e,t$jscomp$0){return"string"==typeof t$jscomp$0&&(t$jscomp$0=e.objects[t$jscomp$0]),
"GeometryCollection"===t$jscomp$0.type?{type:"FeatureCollection",features:t$jscomp$0.geometries.map(function(t){return S(e,t)})}:S(e,t$jscomp$0)}function S(e,t){var n=t.id,r=t.bbox,o=null==t.properties?{}:t.properties;e=F(e,t);return null==n&&null==r?{type:"Feature",properties:o,geometry:e}:null==r?{type:"Feature",id:n,properties:o,geometry:e}:{type:"Feature",id:n,bbox:r,properties:o,geometry:e}}function F(e$jscomp$1,t$jscomp$1){function i$jscomp$0(e){return n$jscomp$1(e)}function a$jscomp$0(e$jscomp$0){for(var t=
[],n=0,r=e$jscomp$0.length;n<r;++n){var n$jscomp$0,e=e$jscomp$0[n],t$jscomp$0=t;t$jscomp$0.length&&t$jscomp$0.pop();var o=r$jscomp$0[0>e?~e:e],i=0;for(n$jscomp$0=o.length;i<n$jscomp$0;++i)t$jscomp$0.push(n$jscomp$1(o[i],i));if(0>e)for(e=t$jscomp$0.length,o=e-n$jscomp$0;o<--e;)n$jscomp$0=t$jscomp$0[o],t$jscomp$0[o++]=t$jscomp$0[e],t$jscomp$0[e]=n$jscomp$0}return 2>t.length&&t.push(t[0]),t}function u$jscomp$0(e){for(e=a$jscomp$0(e);4>e.length;)e.push(e[0]);return e}function s(e){return e.map(u$jscomp$0)}
var n$jscomp$1=function(e$jscomp$0){if(null==e$jscomp$0)return k;var t,n,r=e$jscomp$0.scale[0],o=e$jscomp$0.scale[1],i=e$jscomp$0.translate[0],a=e$jscomp$0.translate[1];return function(e,u){u||(t=n=0);u=2;var c=e.length,f=Array(c);f[0]=(t+=e[0])*r+i;for(f[1]=(n+=e[1])*o+a;u<c;)f[u]=e[u],++u;return f}}(e$jscomp$1.transform),r$jscomp$0=e$jscomp$1.arcs;return function e(t){var r=t.type;switch(r){case "GeometryCollection":return{type:r,geometries:t.geometries.map(e)};case "Point":t=n$jscomp$1(t.coordinates);
break;case "MultiPoint":t=t.coordinates.map(i$jscomp$0);break;case "LineString":t=a$jscomp$0(t.arcs);break;case "MultiLineString":t=t.arcs.map(a$jscomp$0);break;case "Polygon":t=s(t.arcs);break;case "MultiPolygon":t=t.arcs.map(s);break;default:return null}return{type:r,coordinates:t}}(t$jscomp$1)}function M(e$jscomp$1,t$jscomp$1){function u$jscomp$0(e$jscomp$0,t){for(var r in e$jscomp$0){var o=e$jscomp$0[r];delete t[o.start];delete o.start;delete o.end;o.forEach(function(e){n$jscomp$1[0>e?~e:e]=1});
i$jscomp$0.push(o)}}var n$jscomp$1={},r$jscomp$0={},o$jscomp$0={},i$jscomp$0=[],a=-1;return t$jscomp$1.forEach(function(n,r){var o,i=e$jscomp$1.arcs[0>n?~n:n];3>i.length&&!i[1][0]&&!i[1][1]&&(o=t$jscomp$1[++a],t$jscomp$1[a]=n,t$jscomp$1[r]=o)}),t$jscomp$1.forEach(function(t$jscomp$0){var n$jscomp$0=function(t){var n,r=e$jscomp$1.arcs[0>t?~t:t],o=r[0];e$jscomp$1.transform?(n=[0,0],r.forEach(function(e){n[0]+=e[0];n[1]+=e[1]})):n=r[r.length-1];return 0>t?[n,o]:[o,n]}(t$jscomp$0);var u=n$jscomp$0[0],
s=n$jscomp$0[1];(n$jscomp$0=o$jscomp$0[u])?(delete o$jscomp$0[n$jscomp$0.end],n$jscomp$0.push(t$jscomp$0),n$jscomp$0.end=s,t$jscomp$0=r$jscomp$0[s])?(delete r$jscomp$0[t$jscomp$0.start],u=t$jscomp$0===n$jscomp$0?n$jscomp$0:n$jscomp$0.concat(t$jscomp$0),r$jscomp$0[u.start=n$jscomp$0.start]=o$jscomp$0[u.end=t$jscomp$0.end]=u):r$jscomp$0[n$jscomp$0.start]=o$jscomp$0[n$jscomp$0.end]=n$jscomp$0:(n$jscomp$0=r$jscomp$0[s])?(delete r$jscomp$0[n$jscomp$0.start],n$jscomp$0.unshift(t$jscomp$0),n$jscomp$0.start=
u,t$jscomp$0=o$jscomp$0[u])?(delete o$jscomp$0[t$jscomp$0.end],u=t$jscomp$0===n$jscomp$0?n$jscomp$0:t$jscomp$0.concat(n$jscomp$0),r$jscomp$0[u.start=t$jscomp$0.start]=o$jscomp$0[u.end=n$jscomp$0.end]=u):r$jscomp$0[n$jscomp$0.start]=o$jscomp$0[n$jscomp$0.end]=n$jscomp$0:r$jscomp$0[(n$jscomp$0=[t$jscomp$0]).start=u]=o$jscomp$0[n$jscomp$0.end=s]=n$jscomp$0}),u$jscomp$0(o$jscomp$0,r$jscomp$0),u$jscomp$0(r$jscomp$0,o$jscomp$0),t$jscomp$1.forEach(function(e){n$jscomp$1[0>e?~e:e]||i$jscomp$0.push([e])}),
i$jscomp$0}function U(e){return F(e,z.apply(this,arguments))}function z(e,t,n){var i;if(1<arguments.length)var r=B(e,t,n);else{var o=0;for(r=Array(i=e.arcs.length);o<i;++o)r[o]=o}return{type:"MultiLineString",arcs:M(e,r)}}function B(e$jscomp$0,t$jscomp$0,n){function a(e){var t=0>e?~e:e;(i[t]||(i[t]=[])).push({i:e,g:r})}function u(e){e.forEach(a)}function s(e){e.forEach(u)}var r,o=[],i=[];return function e(t){switch(r=t,t.type){case "GeometryCollection":t.geometries.forEach(e);break;case "LineString":u(t.arcs);
break;case "MultiLineString":case "Polygon":s(t.arcs);break;case "MultiPolygon":t.arcs.forEach(s),!0}}(t$jscomp$0),i.forEach(null==n?function(e){o.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&o.push(e[0].i)}),o}function L(e,n){let r,o,i,a;return e=P(e,n),n&&n.feature?(r=E,i=n.feature):n&&n.mesh?(r=U,i=n.mesh,a=D[n.filter]):t$jscomp$2.error("Missing TopoJSON feature or mesh parameter."),o=(o=e.objects[i])?r(e,o,a):t$jscomp$2.error("Invalid TopoJSON object: "+i),o&&o.features||[o]}function J(e,
n){return 1<arguments.length?(I[e]=n,this):t$jscomp$2.hasOwnProperty(I,e)?I[e]:null}const r$jscomp$2=/^([A-Za-z]+:)?\/\//,o$jscomp$2=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,i$jscomp$1=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,h$jscomp$0=e=>!(Number.isNaN(+e)||e instanceof Date),d={boolean:t$jscomp$2.toBoolean,integer:t$jscomp$2.toNumber,number:t$jscomp$2.toNumber,date:t$jscomp$2.toDate,string:t$jscomp$2.toString,unknown:t$jscomp$2.identity},
g=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>h$jscomp$0(e)&&Number.isInteger(+e),h$jscomp$0,e=>!Number.isNaN(Date.parse(e))],m=["boolean","integer","number","date"];var b={},T={};O.responseType="text";P.responseType="json";const D={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};L.responseType="json";const I={dsv:O,csv:x(","),tsv:x("\t"),json:P,topojson:L},R=function(e,t){return n=>({options:n||{},sanitize:s$jscomp$0,load:u$jscomp$1,fileAccess:!!t,file:c$jscomp$0(t),http:l$jscomp$0(e)})}("undefined"!=
typeof fetch&&fetch,null);e$jscomp$3.format=I;e$jscomp$3.formats=J;e$jscomp$3.inferType=y;e$jscomp$3.inferTypes=v;e$jscomp$3.loader=R;e$jscomp$3.read=function(e$jscomp$1,r$jscomp$0,o$jscomp$0,i$jscomp$0){const a=J((r$jscomp$0=r$jscomp$0||{}).type||"json");return a||t$jscomp$2.error("Unknown data format type: "+r$jscomp$0.type),e$jscomp$1=a(e$jscomp$1,r$jscomp$0),r$jscomp$0.parse&&function(e$jscomp$0,t,r,o){if(e$jscomp$0.length){var i=n$jscomp$2.timeFormatDefaultLocale();r=r||i.timeParse;o=o||i.utcParse;
var c,l,p=e$jscomp$0.columns||Object.keys(e$jscomp$0[0]);"auto"===t&&(t=v(e$jscomp$0,p));p=Object.keys(t);var h=p.map(e=>{var n=t[e];if(n&&(n.startsWith("date:")||n.startsWith("utc:")))return e=n.split(/:(.+)?/,2),n=e[1],("'"===n[0]&&"'"===n[n.length-1]||'"'===n[0]&&'"'===n[n.length-1])&&(n=n.slice(1,-1)),("utc"===e[0]?o:r)(n);if(!d[n])throw Error("Illegal format pattern: "+e+":"+n);return d[n]});var s=0;var f=e$jscomp$0.length;for(l=p.length;s<f;++s)for(i=e$jscomp$0[s],c=0;c<l;++c){var u=p[c];i[u]=
h[c](i[u])}}}(e$jscomp$1,r$jscomp$0.parse,o$jscomp$0,i$jscomp$0),t$jscomp$2.hasOwnProperty(e$jscomp$1,"columns")&&delete e$jscomp$1.columns,e$jscomp$1};e$jscomp$3.responseType=function(e){return(e=J(e))&&e.responseType||"text"};e$jscomp$3.typeParsers=d;Object.defineProperty(e$jscomp$3,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$vega_loader$build$vega_loader_min.js.map
