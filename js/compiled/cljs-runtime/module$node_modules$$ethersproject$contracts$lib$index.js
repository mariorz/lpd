shadow$provide.module$node_modules$$ethersproject$contracts$lib$index=function(global,require,module,exports){function resolveName(resolver,nameOrPromise){return __awaiter(this,void 0,void 0,function(){var name,address;return __generator(this,function(_a){switch(_a.label){case 0:return[4,nameOrPromise];case 1:name=_a.sent();try{return[2,address_1.getAddress(name)]}catch(error){}resolver||logger.throwError("a provider or signer is needed to resolve ENS names",logger_1.Logger.errors.UNSUPPORTED_OPERATION,
{operation:"resolveName"});return[4,resolver.resolveName(name)];case 2:return address=_a.sent(),null==address&&logger.throwArgumentError("resolver or addr is not configured for ENS name","name",name),[2,address]}})})}function resolveAddresses(resolver,value,paramType){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return Array.isArray(paramType)?[4,Promise.all(paramType.map(function(paramType,index){return resolveAddresses(resolver,Array.isArray(value)?
value[index]:value[paramType.name],paramType)}))]:[3,2];case 1:return[2,_a.sent()];case 2:return"address"!==paramType.type?[3,4]:[4,resolveName(resolver,value)];case 3:return[2,_a.sent()];case 4:return"tuple"!==paramType.type?[3,6]:[4,resolveAddresses(resolver,value,paramType.components)];case 5:return[2,_a.sent()];case 6:return"array"!==paramType.baseType?[3,8]:Array.isArray(value)?[4,Promise.all(value.map(function(v){return resolveAddresses(resolver,v,paramType.arrayChildren)}))]:[2,Promise.reject(Error("invalid value for array"))];
case 7:return[2,_a.sent()];case 8:return[2,value]}})})}function populateTransaction(contract,fragment,args){return __awaiter(this,void 0,void 0,function(){var overrides,resolved,data,tx,ro,intrinsic,bytes,i,roValue,leftovers,_this=this;return __generator(this,function(_a$jscomp$0){switch(_a$jscomp$0.label){case 0:return overrides={},args.length===fragment.inputs.length+1&&"object"===typeof args[args.length-1]&&(overrides=properties_1.shallowCopy(args.pop())),logger.checkArgumentCount(args.length,
fragment.inputs.length,"passed to contract"),contract.signer?overrides.from=overrides.from?properties_1.resolveProperties({override:resolveName(contract.signer,overrides.from),signer:contract.signer.getAddress()}).then(function(check){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){address_1.getAddress(check.signer)!==check.override&&logger.throwError("Contract with a Signer cannot override from",logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"});
return[2,check.override]})})}):contract.signer.getAddress():overrides.from&&(overrides.from=resolveName(contract.provider,overrides.from)),[4,properties_1.resolveProperties({args:resolveAddresses(contract.signer||contract.provider,args,fragment.inputs),address:contract.resolvedAddress,overrides:properties_1.resolveProperties(overrides)||{}})];case 1:resolved=_a$jscomp$0.sent();data=contract.interface.encodeFunctionData(fragment,resolved.args);tx={data,to:resolved.address};ro=resolved.overrides;null!=
ro.nonce&&(tx.nonce=bignumber_1.BigNumber.from(ro.nonce).toNumber());null!=ro.gasLimit&&(tx.gasLimit=bignumber_1.BigNumber.from(ro.gasLimit));null!=ro.gasPrice&&(tx.gasPrice=bignumber_1.BigNumber.from(ro.gasPrice));null!=ro.from&&(tx.from=ro.from);if(null==tx.gasLimit&&null!=fragment.gas){intrinsic=21E3;bytes=bytes_1.arrayify(data);for(i=0;i<bytes.length;i++)intrinsic+=4,bytes[i]&&(intrinsic+=64);tx.gasLimit=bignumber_1.BigNumber.from(fragment.gas).add(intrinsic)}ro.value&&(roValue=bignumber_1.BigNumber.from(ro.value),
roValue.isZero()||fragment.payable||logger.throwError("non-payable method cannot override value",logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:overrides.value}),tx.value=roValue);delete overrides.nonce;delete overrides.gasLimit;delete overrides.gasPrice;delete overrides.from;delete overrides.value;leftovers=Object.keys(overrides).filter(function(key){return null!=overrides[key]});leftovers.length&&logger.throwError("cannot override "+leftovers.map(function(l){return JSON.stringify(l)}).join(","),
logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:leftovers});return[2,tx]}})})}function buildPopulate(contract,fragment){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return populateTransaction(contract,fragment,args)}}function buildEstimate(contract,fragment){var signerOrProvider=contract.signer||contract.provider;return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return __awaiter(this,void 0,
void 0,function(){var tx;return __generator(this,function(_a){switch(_a.label){case 0:return signerOrProvider||logger.throwError("estimate require a provider or signer",logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),[4,populateTransaction(contract,fragment,args)];case 1:return tx=_a.sent(),[4,signerOrProvider.estimateGas(tx)];case 2:return[2,_a.sent()]}})})}}function buildCall(contract,fragment,collapseSimple){var signerOrProvider=contract.signer||contract.provider;return function(){for(var args=
[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return __awaiter(this,void 0,void 0,function(){var blockTag,overrides,tx,result,value;return __generator(this,function(_a){switch(_a.label){case 0:blockTag=void 0;if(args.length!==fragment.inputs.length+1||"object"!==typeof args[args.length-1])return[3,3];overrides=properties_1.shallowCopy(args.pop());return null==overrides.blockTag?[3,2]:[4,overrides.blockTag];case 1:blockTag=_a.sent(),_a.label=2;case 2:delete overrides.blockTag,args.push(overrides),
_a.label=3;case 3:return null==contract.deployTransaction?[3,5]:[4,contract._deployed(blockTag)];case 4:_a.sent(),_a.label=5;case 5:return[4,populateTransaction(contract,fragment,args)];case 6:return tx=_a.sent(),[4,signerOrProvider.call(tx,blockTag)];case 7:result=_a.sent();try{return value=contract.interface.decodeFunctionResult(fragment,result),collapseSimple&&1===fragment.outputs.length&&(value=value[0]),[2,value]}catch(error){throw error.code===logger_1.Logger.errors.CALL_EXCEPTION&&(error.address=
contract.address,error.args=args,error.transaction=tx),error;}}})})}}function buildSend(contract,fragment){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return __awaiter(this,void 0,void 0,function(){var txRequest,tx,wait;return __generator(this,function(_a){switch(_a.label){case 0:return contract.signer||logger.throwError("sending a transaction requires a signer",logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null==contract.deployTransaction?
[3,2]:[4,contract._deployed()];case 1:_a.sent(),_a.label=2;case 2:return[4,populateTransaction(contract,fragment,args)];case 3:return txRequest=_a.sent(),[4,contract.signer.sendTransaction(txRequest)];case 4:return tx=_a.sent(),wait=tx.wait.bind(tx),tx.wait=function(confirmations){return wait(confirmations).then(function(receipt){receipt.events=receipt.logs.map(function(log){var event=properties_1.deepCopy(log),parsed=null;try{parsed=contract.interface.parseLog(log)}catch(e){}parsed&&(event.args=
parsed.args,event.decode=function(data,topics){return contract.interface.decodeEventLog(parsed.eventFragment,data,topics)},event.event=parsed.name,event.eventSignature=parsed.signature);event.removeListener=function(){return contract.provider};event.getBlock=function(){return contract.provider.getBlock(receipt.blockHash)};event.getTransaction=function(){return contract.provider.getTransaction(receipt.transactionHash)};event.getTransactionReceipt=function(){return Promise.resolve(receipt)};return event});
return receipt})},[2,tx]}})})}}function buildDefault(contract,fragment,collapseSimple){return fragment.constant?buildCall(contract,fragment,collapseSimple):buildSend(contract,fragment)}function getEventTag(filter){return!filter.address||null!=filter.topics&&0!==filter.topics.length?(filter.address||"*")+"@"+(filter.topics?filter.topics.map(function(topic){return Array.isArray(topic)?topic.join("|"):topic}).join(":"):""):"*"}var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,
b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};return function(d,b){function __(){this.constructor=d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),
__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new (P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,
_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++;y=op[1];op=
[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=0<t.length&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3]))_.label=op[1];else if(6===op[0]&&_.label<t[1])_.label=t[1],t=op;else if(t&&_.label<t[2])_.label=t[2],_.ops.push(op);else{t[2]&&_.ops.pop();_.trys.pop();continue}}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}var _={label:0,sent:function(){if(t[0]&
1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"===typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g},__spreadArray=this&&this.__spreadArray||function(to,from){for(var i=0,il=from.length,j=to.length;i<il;i++,j++)to[j]=from[i];return to};Object.defineProperty(exports,"__esModule",{value:!0});exports.ContractFactory=exports.Contract=void 0;var abi_1=require("module$node_modules$$ethersproject$abi$lib$index"),abstract_provider_1=
require("module$node_modules$$ethersproject$abstract_provider$lib$index"),abstract_signer_1=require("module$node_modules$$ethersproject$abstract_signer$lib$index"),address_1=require("module$node_modules$$ethersproject$address$lib$index"),bignumber_1=require("module$node_modules$$ethersproject$bignumber$lib$index"),bytes_1=require("module$node_modules$$ethersproject$bytes$lib$index"),properties_1=require("module$node_modules$$ethersproject$properties$lib$index"),logger_1=require("module$node_modules$$ethersproject$logger$lib$index");
global=require("module$node_modules$$ethersproject$contracts$lib$_version");var logger=new logger_1.Logger(global.version),allowedTransactionKeys={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0},RunningEvent=function(){function RunningEvent(tag,filter){properties_1.defineReadOnly(this,"tag",tag);properties_1.defineReadOnly(this,"filter",filter);this._listeners=[]}RunningEvent.prototype.addListener=function(listener,once){this._listeners.push({listener,once})};RunningEvent.prototype.removeListener=
function(listener){var done=!1;this._listeners=this._listeners.filter(function(item){if(done||item.listener!==listener)return!0;done=!0;return!1})};RunningEvent.prototype.removeAllListeners=function(){this._listeners=[]};RunningEvent.prototype.listeners=function(){return this._listeners.map(function(i){return i.listener})};RunningEvent.prototype.listenerCount=function(){return this._listeners.length};RunningEvent.prototype.run=function(args){var _this=this,listenerCount=this.listenerCount();this._listeners=
this._listeners.filter(function(item){var argsCopy=args.slice();setTimeout(function(){item.listener.apply(_this,argsCopy)},0);return!item.once});return listenerCount};RunningEvent.prototype.prepareEvent=function(event){};RunningEvent.prototype.getEmit=function(event){return[event]};return RunningEvent}(),ErrorRunningEvent=function(_super){function ErrorRunningEvent(){return _super.call(this,"error",null)||this}__extends(ErrorRunningEvent,_super);return ErrorRunningEvent}(RunningEvent),FragmentRunningEvent=
function(_super){function FragmentRunningEvent(address,contractInterface,fragment,topics){var filter={address},topic=contractInterface.getEventTopic(fragment);topics?(topic!==topics[0]&&logger.throwArgumentError("topic mismatch","topics",topics),filter.topics=topics.slice()):filter.topics=[topic];topics=_super.call(this,getEventTag(filter),filter)||this;properties_1.defineReadOnly(topics,"address",address);properties_1.defineReadOnly(topics,"interface",contractInterface);properties_1.defineReadOnly(topics,
"fragment",fragment);return topics}__extends(FragmentRunningEvent,_super);FragmentRunningEvent.prototype.prepareEvent=function(event){var _this=this;_super.prototype.prepareEvent.call(this,event);event.event=this.fragment.name;event.eventSignature=this.fragment.format();event.decode=function(data,topics){return _this.interface.decodeEventLog(_this.fragment,data,topics)};try{event.args=this.interface.decodeEventLog(this.fragment,event.data,event.topics)}catch(error){event.args=null,event.decodeError=
error}};FragmentRunningEvent.prototype.getEmit=function(event){var errors=abi_1.checkResultErrors(event.args);if(errors.length)throw errors[0].error;errors=(event.args||[]).slice();errors.push(event);return errors};return FragmentRunningEvent}(RunningEvent),WildcardRunningEvent=function(_super){function WildcardRunningEvent(address,contractInterface){var _this=_super.call(this,"*",{address})||this;properties_1.defineReadOnly(_this,"address",address);properties_1.defineReadOnly(_this,"interface",contractInterface);
return _this}__extends(WildcardRunningEvent,_super);WildcardRunningEvent.prototype.prepareEvent=function(event){var _this=this;_super.prototype.prepareEvent.call(this,event);try{var parsed_1=this.interface.parseLog(event);event.event=parsed_1.name;event.eventSignature=parsed_1.signature;event.decode=function(data,topics){return _this.interface.decodeEventLog(parsed_1.eventFragment,data,topics)};event.args=parsed_1.args}catch(error){}};return WildcardRunningEvent}(RunningEvent),Contract=function(){function Contract(addressOrName,
contractInterface,signerOrProvider){var _newTarget=this.constructor,_this=this;logger.checkNew(_newTarget,Contract);properties_1.defineReadOnly(this,"interface",properties_1.getStatic(_newTarget,"getInterface")(contractInterface));null==signerOrProvider?(properties_1.defineReadOnly(this,"provider",null),properties_1.defineReadOnly(this,"signer",null)):abstract_signer_1.Signer.isSigner(signerOrProvider)?(properties_1.defineReadOnly(this,"provider",signerOrProvider.provider||null),properties_1.defineReadOnly(this,
"signer",signerOrProvider)):abstract_provider_1.Provider.isProvider(signerOrProvider)?(properties_1.defineReadOnly(this,"provider",signerOrProvider),properties_1.defineReadOnly(this,"signer",null)):logger.throwArgumentError("invalid signer or provider","signerOrProvider",signerOrProvider);properties_1.defineReadOnly(this,"callStatic",{});properties_1.defineReadOnly(this,"estimateGas",{});properties_1.defineReadOnly(this,"functions",{});properties_1.defineReadOnly(this,"populateTransaction",{});properties_1.defineReadOnly(this,
"filters",{});var uniqueFilters_1={};Object.keys(this.interface.events).forEach(function(eventSignature){var event=_this.interface.events[eventSignature];properties_1.defineReadOnly(_this.filters,eventSignature,function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return{address:_this.address,topics:_this.interface.encodeFilterTopics(event,args)}});uniqueFilters_1[event.name]||(uniqueFilters_1[event.name]=[]);uniqueFilters_1[event.name].push(eventSignature)});Object.keys(uniqueFilters_1).forEach(function(name){var filters=
uniqueFilters_1[name];1===filters.length?properties_1.defineReadOnly(_this.filters,name,_this.filters[filters[0]]):logger.warn("Duplicate definition of "+name+" ("+filters.join(", ")+")")});properties_1.defineReadOnly(this,"_runningEvents",{});properties_1.defineReadOnly(this,"_wrappedEmits",{});null==addressOrName&&logger.throwArgumentError("invalid contract address or ENS name","addressOrName",addressOrName);properties_1.defineReadOnly(this,"address",addressOrName);if(this.provider)properties_1.defineReadOnly(this,
"resolvedAddress",resolveName(this.provider,addressOrName));else try{properties_1.defineReadOnly(this,"resolvedAddress",Promise.resolve(address_1.getAddress(addressOrName)))}catch(error){logger.throwError("provider is required to use ENS name as contract address",logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}var uniqueNames={},uniqueSignatures={};Object.keys(this.interface.functions).forEach(function(signature){var fragment=_this.interface.functions[signature];if(uniqueSignatures[signature])logger.warn("Duplicate ABI entry for "+
JSON.stringify(name));else{uniqueSignatures[signature]=!0;var name_1=fragment.name;uniqueNames[name_1]||(uniqueNames[name_1]=[]);uniqueNames[name_1].push(signature);null==_this[signature]&&properties_1.defineReadOnly(_this,signature,buildDefault(_this,fragment,!0));null==_this.functions[signature]&&properties_1.defineReadOnly(_this.functions,signature,buildDefault(_this,fragment,!1));null==_this.callStatic[signature]&&properties_1.defineReadOnly(_this.callStatic,signature,buildCall(_this,fragment,
!0));null==_this.populateTransaction[signature]&&properties_1.defineReadOnly(_this.populateTransaction,signature,buildPopulate(_this,fragment));null==_this.estimateGas[signature]&&properties_1.defineReadOnly(_this.estimateGas,signature,buildEstimate(_this,fragment))}});Object.keys(uniqueNames).forEach(function(name){var signatures=uniqueNames[name];1<signatures.length||(signatures=signatures[0],null==_this[name]&&properties_1.defineReadOnly(_this,name,_this[signatures]),null==_this.functions[name]&&
properties_1.defineReadOnly(_this.functions,name,_this.functions[signatures]),null==_this.callStatic[name]&&properties_1.defineReadOnly(_this.callStatic,name,_this.callStatic[signatures]),null==_this.populateTransaction[name]&&properties_1.defineReadOnly(_this.populateTransaction,name,_this.populateTransaction[signatures]),null==_this.estimateGas[name]&&properties_1.defineReadOnly(_this.estimateGas,name,_this.estimateGas[signatures]))})}Contract.getContractAddress=function(transaction){return address_1.getContractAddress(transaction)};
Contract.getInterface=function(contractInterface){return abi_1.Interface.isInterface(contractInterface)?contractInterface:new abi_1.Interface(contractInterface)};Contract.prototype.deployed=function(){return this._deployed()};Contract.prototype._deployed=function(blockTag){var _this=this;this._deployedPromise||(this._deployedPromise=this.deployTransaction?this.deployTransaction.wait().then(function(){return _this}):this.provider.getCode(this.address,blockTag).then(function(code){"0x"===code&&logger.throwError("contract not deployed",
logger_1.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:_this.address,operation:"getDeployed"});return _this}));return this._deployedPromise};Contract.prototype.fallback=function(overrides){var _this=this;this.signer||logger.throwError("sending a transactions require a signer",logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});var tx=properties_1.shallowCopy(overrides||{});["from","to"].forEach(function(key){null!=tx[key]&&logger.throwError("cannot override "+
key,logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:key})});tx.to=this.resolvedAddress;return this.deployed().then(function(){return _this.signer.sendTransaction(tx)})};Contract.prototype.connect=function(signerOrProvider){"string"===typeof signerOrProvider&&(signerOrProvider=new abstract_signer_1.VoidSigner(signerOrProvider,this.provider));signerOrProvider=new this.constructor(this.address,this.interface,signerOrProvider);this.deployTransaction&&properties_1.defineReadOnly(signerOrProvider,
"deployTransaction",this.deployTransaction);return signerOrProvider};Contract.prototype.attach=function(addressOrName){return new this.constructor(addressOrName,this.interface,this.signer||this.provider)};Contract.isIndexed=function(value){return abi_1.Indexed.isIndexed(value)};Contract.prototype._normalizeRunningEvent=function(runningEvent){return this._runningEvents[runningEvent.tag]?this._runningEvents[runningEvent.tag]:runningEvent};Contract.prototype._getRunningEvent=function(eventName){if("string"===
typeof eventName){if("error"===eventName)return this._normalizeRunningEvent(new ErrorRunningEvent);if("event"===eventName)return this._normalizeRunningEvent(new RunningEvent("event",null));if("*"===eventName)return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface));var fragment=this.interface.getEvent(eventName);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,fragment))}if(eventName.topics&&0<eventName.topics.length){try{var topic=
eventName.topics[0];if("string"!==typeof topic)throw Error("invalid topic");fragment=this.interface.getEvent(topic);return this._normalizeRunningEvent(new FragmentRunningEvent(this.address,this.interface,fragment,eventName.topics))}catch(error){}eventName={address:this.address,topics:eventName.topics};return this._normalizeRunningEvent(new RunningEvent(getEventTag(eventName),eventName))}return this._normalizeRunningEvent(new WildcardRunningEvent(this.address,this.interface))};Contract.prototype._checkRunningEvents=
function(runningEvent){if(0===runningEvent.listenerCount()){delete this._runningEvents[runningEvent.tag];var emit=this._wrappedEmits[runningEvent.tag];emit&&(this.provider.off(runningEvent.filter,emit),delete this._wrappedEmits[runningEvent.tag])}};Contract.prototype._wrapEvent=function(runningEvent,log,listener){var _this=this,event=properties_1.deepCopy(log);event.removeListener=function(){listener&&(runningEvent.removeListener(listener),_this._checkRunningEvents(runningEvent))};event.getBlock=
function(){return _this.provider.getBlock(log.blockHash)};event.getTransaction=function(){return _this.provider.getTransaction(log.transactionHash)};event.getTransactionReceipt=function(){return _this.provider.getTransactionReceipt(log.transactionHash)};runningEvent.prepareEvent(event);return event};Contract.prototype._addEventListener=function(runningEvent,listener,once){var _this=this;this.provider||logger.throwError("events require a provider or a signer with a provider",logger_1.Logger.errors.UNSUPPORTED_OPERATION,
{operation:"once"});runningEvent.addListener(listener,once);this._runningEvents[runningEvent.tag]=runningEvent;if(!this._wrappedEmits[runningEvent.tag]&&(once=function(log){log=_this._wrapEvent(runningEvent,log,listener);if(null==log.decodeError)try{var args=runningEvent.getEmit(log);_this.emit.apply(_this,__spreadArray([runningEvent.filter],args))}catch(error){log.decodeError=error.error}null!=runningEvent.filter&&_this.emit("event",log);null!=log.decodeError&&_this.emit("error",log.decodeError,
log)},this._wrappedEmits[runningEvent.tag]=once,null!=runningEvent.filter))this.provider.on(runningEvent.filter,once)};Contract.prototype.queryFilter=function(event,fromBlockOrBlockhash,toBlock){var _this=this,runningEvent=this._getRunningEvent(event);event=properties_1.shallowCopy(runningEvent.filter);"string"===typeof fromBlockOrBlockhash&&bytes_1.isHexString(fromBlockOrBlockhash,32)?(null!=toBlock&&logger.throwArgumentError("cannot specify toBlock with blockhash","toBlock",toBlock),event.blockHash=
fromBlockOrBlockhash):(event.fromBlock=null!=fromBlockOrBlockhash?fromBlockOrBlockhash:0,event.toBlock=null!=toBlock?toBlock:"latest");return this.provider.getLogs(event).then(function(logs){return logs.map(function(log){return _this._wrapEvent(runningEvent,log,null)})})};Contract.prototype.on=function(event,listener){this._addEventListener(this._getRunningEvent(event),listener,!1);return this};Contract.prototype.once=function(event,listener){this._addEventListener(this._getRunningEvent(event),listener,
!0);return this};Contract.prototype.emit=function(eventName){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];if(!this.provider)return!1;_i=this._getRunningEvent(eventName);args=0<_i.run(args);this._checkRunningEvents(_i);return args};Contract.prototype.listenerCount=function(eventName){var _this=this;return this.provider?null==eventName?Object.keys(this._runningEvents).reduce(function(accum,key){return accum+_this._runningEvents[key].listenerCount()},0):this._getRunningEvent(eventName).listenerCount():
0};Contract.prototype.listeners=function(eventName){if(!this.provider)return[];if(null==eventName){var result_1=[],tag;for(tag in this._runningEvents)this._runningEvents[tag].listeners().forEach(function(listener){result_1.push(listener)});return result_1}return this._getRunningEvent(eventName).listeners()};Contract.prototype.removeAllListeners=function(eventName){if(!this.provider)return this;if(null==eventName){for(var tag in this._runningEvents)eventName=this._runningEvents[tag],eventName.removeAllListeners(),
this._checkRunningEvents(eventName);return this}tag=this._getRunningEvent(eventName);tag.removeAllListeners();this._checkRunningEvents(tag);return this};Contract.prototype.off=function(eventName,listener){if(!this.provider)return this;eventName=this._getRunningEvent(eventName);eventName.removeListener(listener);this._checkRunningEvents(eventName);return this};Contract.prototype.removeListener=function(eventName,listener){return this.off(eventName,listener)};return Contract}();exports.Contract=Contract;
global=function(){function ContractFactory(contractInterface,bytecode,signer){var _newTarget=this.constructor;var bytecodeHex="string"===typeof bytecode?bytecode:bytes_1.isBytes(bytecode)?bytes_1.hexlify(bytecode):bytecode&&"string"===typeof bytecode.object?bytecode.object:"!";"0x"!==bytecodeHex.substring(0,2)&&(bytecodeHex="0x"+bytecodeHex);(!bytes_1.isHexString(bytecodeHex)||bytecodeHex.length%2)&&logger.throwArgumentError("invalid bytecode","bytecode",bytecode);signer&&!abstract_signer_1.Signer.isSigner(signer)&&
logger.throwArgumentError("invalid signer","signer",signer);properties_1.defineReadOnly(this,"bytecode",bytecodeHex);properties_1.defineReadOnly(this,"interface",properties_1.getStatic(_newTarget,"getInterface")(contractInterface));properties_1.defineReadOnly(this,"signer",signer||null)}ContractFactory.prototype.getDeployTransaction=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var tx={};if(args.length===this.interface.deploy.inputs.length+1&&"object"===typeof args[args.length-
1]){tx=properties_1.shallowCopy(args.pop());for(var key$jscomp$0 in tx)if(!allowedTransactionKeys[key$jscomp$0])throw Error("unknown transaction override "+key$jscomp$0);}["data","from","to"].forEach(function(key){null!=tx[key]&&logger.throwError("cannot override "+key,logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:key})});logger.checkArgumentCount(args.length,this.interface.deploy.inputs.length," in Contract constructor");tx.data=bytes_1.hexlify(bytes_1.concat([this.bytecode,this.interface.encodeDeploy(args)]));
return tx};ContractFactory.prototype.deploy=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];return __awaiter(this,void 0,void 0,function(){var overrides,params,unsignedTx,tx,address,contract;return __generator(this,function(_a){switch(_a.label){case 0:return overrides={},args.length===this.interface.deploy.inputs.length+1&&(overrides=args.pop()),logger.checkArgumentCount(args.length,this.interface.deploy.inputs.length," in Contract constructor"),[4,resolveAddresses(this.signer,
args,this.interface.deploy.inputs)];case 1:return params=_a.sent(),params.push(overrides),unsignedTx=this.getDeployTransaction.apply(this,params),[4,this.signer.sendTransaction(unsignedTx)];case 2:return tx=_a.sent(),address=properties_1.getStatic(this.constructor,"getContractAddress")(tx),contract=properties_1.getStatic(this.constructor,"getContract")(address,this.interface,this.signer),properties_1.defineReadOnly(contract,"deployTransaction",tx),[2,contract]}})})};ContractFactory.prototype.attach=
function(address){return this.constructor.getContract(address,this.interface,this.signer)};ContractFactory.prototype.connect=function(signer){return new this.constructor(this.interface,this.bytecode,signer)};ContractFactory.fromSolidity=function(compilerOutput,signer){null==compilerOutput&&logger.throwError("missing compiler output",logger_1.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"});"string"===typeof compilerOutput&&(compilerOutput=JSON.parse(compilerOutput));var abi=compilerOutput.abi,
bytecode=null;compilerOutput.bytecode?bytecode=compilerOutput.bytecode:compilerOutput.evm&&compilerOutput.evm.bytecode&&(bytecode=compilerOutput.evm.bytecode);return new this(abi,bytecode,signer)};ContractFactory.getInterface=function(contractInterface){return Contract.getInterface(contractInterface)};ContractFactory.getContractAddress=function(tx){return address_1.getContractAddress(tx)};ContractFactory.getContract=function(address,contractInterface,signer){return new Contract(address,contractInterface,
signer)};return ContractFactory}();exports.ContractFactory=global}
//# sourceMappingURL=module$node_modules$$ethersproject$contracts$lib$index.js.map
