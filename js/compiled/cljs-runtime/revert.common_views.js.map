{"version":3,"sources":["revert/common_views.cljs"],"mappings":"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","names":["revert.common-views/show-provider-modal","c__52208__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__52209__auto__","switch__52185__auto__","state_87238","state_val_87239","inst_87203","cljs.core.async.impl.ioc-helpers/take!","inst_87207","inst_87222","inst_87223","statearr-87243","statearr-87245","statearr-87247","inst_87232","inst_87233","statearr-87251","statearr-87256","inst_87236","cljs.core.async.impl.ioc-helpers/return-chan","statearr-87259","state-machine__52186__auto__","ret-value__52187__auto__","result__52188__auto__","cljs.core/keyword-identical?","ex__52189__auto__","e87264","statearr-87266","cljs.core/seq","statearr-87269","cljs.core/first","state__52210__auto__","statearr-87279","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","revert.ethereum/select-provider","cljs.core/not","revert.utils/set-hash!","revert.common-views/connecting-component","e","re-frame.core/dispatch","revert.common-views/site-header","cljs.core/deref","connected","re_frame.core.subscribe","account","cljs.core.subs","cljs.core/count","revert.common-views/separator-str","revert.common-views/spark-line-bars","series","cljs.core/last","cljs.core/take-last","reagent.core/adapt-react-class","js/module$node_modules$react_sparklines$build$index.Sparklines","js/module$node_modules$react_sparklines$build$index.SparklinesBars","var_args","args__4742__auto__","len__4736__auto__","i__4737__auto__","argseq__4743__auto__","cljs.core/IndexedSeq","revert.common-views/spark-line","p__87368","map__87370","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply","cljs.core/hash-map","cljs.core.get","seq87361","G__87363","cljs.core/next","self__4723__auto__","currency","percentage","series'","refvalue","max-value","cljs.core/max","min-value","cljs.core/min","margin","height","vfactorn","vfactord","vfactor","refval","js/module$node_modules$react_sparklines$build$index.SparklinesLine","js/module$node_modules$react_sparklines$build$index.SparklinesReferenceLine","js/module$node_modules$react_sparklines$build$index.SparklinesSpots","revert.common-views/footer-links"],"sourcesContent":["(ns revert.common-views\n  (:require\n   [cljs.core.async :refer [go]]\n   [cljs.core.async.interop :refer-macros [<p!]]\n   [reagent.core :as reagent]\n   [re-frame.core :as re-frame]\n   [react-sparklines :as sparklines]\n   [revert.ethereum :as ethereum]\n   [revert.utils :as u]))\n\n\n\n(defn show-provider-modal\n  []\n  (go\n    (let [acc-address (<! (ethereum/select-provider))]\n      (if (not (nil? acc-address))\n        (do\n          #_(swap! app-state assoc :connected true)\n          (u/set-hash! (str \"/account/\" acc-address)))))))\n\n\n\n(defn connecting-component []\n  [:div\n   [:input {:type \"button\" :value \"Connect account\"\n            :class \"connect\"\n            :id \"connect-button\"\n            :on-click (fn [e]\n                        (.preventDefault e)\n                        (re-frame/dispatch [:connect-account])\n                        #_(show-provider-modal))}]])\n\n\n(defn site-header []\n  (let [connected  @(re-frame/subscribe [:connected])\n        account @(re-frame/subscribe [:account])]\n    [:div\n     [:div {:class \"app-inner\"}\n      [:a {:href \"/\"}\n       [:img {:src \"assets/Logo.png\"}]]\n      [:div {:class \"connect\"}\n       (if (not connected)\n       (connecting-component)\n       (str (subs account 0 7) \"...\" (subs account (- (count account) 4))))]\n      #_[:div (if (nil? 1 #_provider)\n                \" Requires Web3\")]\n      #_(if debug\n          [d/DataFriskShell {:account-state @app-state}])\n      ]\n     #_(when (:show-login @app-state)\n         [login-modal])\n     [:hr {:class \"top-line\"}]]))\n\n\n(def separator-str [:div\n                    [:br]])\n\n\n(defn spark-line-bars [series]\n  (if (> (count series) 1)\n    [:div {:style {:margin-top \"10px\"}}\n     [:div {:style {:margin-top \"0px\" :text-align \"left\"}}\n      (str\n       (.toLocaleString (. (last (take-last 30 series)) toNumber)\n                        \"en-US\"\n                        #js {:style \"currency\" :currency \"USD\"}))]\n     [(reagent/adapt-react-class sparklines/Sparklines)\n      {:height 25\n       :data (take-last 30 series)\n       #_[5 10  5  20  8  15 5 10  5  20  8  15 5 10  5  20  8  15 5 10  5  20  8  15 5 10  5  20  8  15]}\n      [(reagent/adapt-react-class sparklines/SparklinesBars)]]]))\n\n\n(defn spark-line [series & {:keys [currency percentage]\n                            :or {currency false\n                                 percentage false}}]\n  (let [series' (take-last 30 series)\n        ;; fix for reference line from\n        ;; https://github.com/borisyankov/react-sparklines/issues/121\n        refvalue (first series')\n        max-value (apply max series')\n        min-value (apply min series')\n        margin 4\n        height 25\n        vfactorn (- height (* margin 2))\n        vfactord (- max-value min-value)\n        vfactor (/ vfactorn vfactord)\n        refval (+ (* (- max-value refvalue) vfactor) margin)]\n    (if (> (count series') 1)\n      [:div {:style {:margin-top \"10px\" :width \"100%\"}}\n       [:div {:style {:margin-top \"0px\" :text-align \"left\"}}\n        (str\n         (if currency\n           (.toLocaleString (. (last series') toNumber)\n                            \"en-US\"\n                            #js {:style \"currency\" :currency \"USD\"})\n           (.toLocaleString (. (last series') toNumber)))\n         (if percentage \"%\"))]\n       [(reagent/adapt-react-class sparklines/Sparklines)\n        {;;:width 200\n         :height height\n         :data series'\n       ;;:data [5 10  5  20  8  15 5 10  5  20  8  15 5 10  5  20  8  15 5 10  5  20  8  15 5 10  5  20  8  15]\n         }\n        [(reagent/adapt-react-class sparklines/SparklinesLine) {:style {:stroke \"#fff\" :fill \"#ccc\"}}]\n        [(reagent/adapt-react-class sparklines/SparklinesReferenceLine) {:type \"custom\"\n                                                                         :style {:stroke \"red\"\n                                                                                 :strokeOpacity 0.75\n                                                                                 :strokeDasharray \"2, 2\"}\n                                                                         :value refval}]\n        [(reagent/adapt-react-class sparklines/SparklinesSpots)]]])))\n\n\n(defn footer-links []\n  [:div {:class \"landing-footer\"}\n   [:div {:class \"footer-text\"} \"REVERT \u00a9 2021\"]\n   [:div {:style {:display \"flex\" :margin-left \"auto\" :margin-right \"200px\"}}\n    [:div {:class \"footer-text-right\"} [:a {:href \"#/about\"} \"About\"]]\n    [:div {:class \"footer-text-right\"} [:a {:href \"https://twitter.com/revertfinance\"\n                                            :target \"_blank\"} \"Twitter\"]]\n    [:div {:class \"footer-text-right\"} [:a {:href \"https://discord.gg/HXfxKHrRmf\"\n                                            :target \"_blank\"} \"Discord\"]]\n    [:div {:class \"footer-text-right\"} [:a {:href \"https://t.me/revert_finance\"\n                                            :target \"_blank\"} \"Telegram\"]]\n    [:div {:class \"footer-text-right\"} [:a {:href \"https://157lkj525va.typeform.com/to/L16U1psx\" :target \"_blank\"} \"Report\"]]\n    [:div {:class \"footer-text-right\"} [:a {:href \"https://etherscan.io/address/0x8cadb20a4811f363dadb863a190708bed26245f8\" :target \"_blank\"} \"Support\"]]]])\n\n\n"]}