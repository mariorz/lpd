{
"version":3,
"file":"module$node_modules$async$asyncify.js",
"lineCount":3,
"mappings":"AAAAA,cAAA,CAAe,kCAAf,CAAuD,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAoB/FC,QAASA,uBAAsB,CAACC,GAAD,CAAM,CAAE,MAAOA,IAAA,EAAOA,GAAP,CAAWC,UAAX,CAAwBD,GAAxB,CAA8B,CAAEE,QAASF,GAAX,CAAvC,CAuFrCG,QAASA,QAAO,CAACC,KAAD,CAAQ,CACpB,KAAMA,MAAN,CADoB,CAxGxBC,MAAA,CAAOC,cAAP,CAAsBR,OAAtB,CAA+B,YAA/B,CAA6C,CACzCS,MAAO,CAAA,CADkC,CAA7C,CAGAT,QAAA,CAAQI,OAAR,CAwEAM,QAAiB,CAACC,IAAD,CAAO,CACpB,MAAO,CAAC,CAAA,CAAGC,eAAH,CAAmBR,OAApB,EAA6B,QAAS,CAACS,IAAD,CAAOC,QAAP,CAAiB,CAE1D,GAAI,CACA,IAAAC,OAASJ,IAAA,CAAKK,KAAL,CAAW,IAAX,CAAiBH,IAAjB,CADT,CAEF,MAAOI,CAAP,CAAU,CACR,MAAOH,SAAA,CAASG,CAAT,CADC,CAIR,CAAC,CAAA,CAAGC,UAAH,CAAcd,OAAf,EAAwBW,MAAxB,CAAJ,EAA8D,UAA9D,GAAuC,MAAOA,OAAP,CAAcI,IAArD,CACIJ,MAAA,CAAOI,IAAP,CAAY,QAAS,CAACV,KAAD,CAAQ,CAYrC,GAAI,CAXuBK,QAYvB,CAZiCR,IAYjC;AAZuCG,KAYvC,CADA,CAEF,MAAOQ,CAAP,CAAU,CACR,CAAC,CAAA,CAAGG,cAAH,CAAkBhB,OAAnB,EAA4BC,OAA5B,CAAqCY,CAArC,CADQ,CAdyB,CAA7B,CAEG,QAAS,CAACI,GAAD,CAAM,CACW,GAAA,CAAAA,GAAA,CAAIC,OAAJ,CAAcD,GAAd,CAAwBE,KAAJ,CAAUF,GAAV,CASzD,IAAI,CATuBP,QAUvB,CAASR,GAAT,CAVQG,IAAA,EAUR,CADA,CAEF,MAAOQ,CAAP,CAAU,CACR,CAAC,CAAA,CAAGG,cAAH,CAAkBhB,OAAnB,EAA4BC,OAA5B,CAAqCY,CAArC,CADQ,CAZc,CAFlB,CADJ,CAOIH,QAAA,CAAS,IAAT,CAAeC,MAAf,CAfsD,CAAvD,CADa,CAtEpBS,OAAAA,CAAY1B,OAAA,CAAQ,qCAAR,CAEhB,KAAIoB,WAAajB,sBAAA,CAAuBuB,MAAvB,CAEbC,OAAAA,CAAiB3B,OAAA,CAAQ,kDAAR,CAErB,KAAIc,gBAAkBX,sBAAA,CAAuBwB,MAAvB,CAElBC,QAAAA,CAAgB5B,OAAA,CAAQ,iDAAR,CAEpB,KAAIsB;AAAiBnB,sBAAA,CAAuByB,OAAvB,CA4FrB3B,OAAA,CAAOC,OAAP,CAAiBA,OAAA,CAAQ,SAAR,CA9G8E;",
"sources":["node_modules/async/asyncify.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$async$asyncify\"] = function(global,require,module,exports) {\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = asyncify;\n\nvar _isObject = require('lodash/isObject');\n\nvar _isObject2 = _interopRequireDefault(_isObject);\n\nvar _initialParams = require('./internal/initialParams');\n\nvar _initialParams2 = _interopRequireDefault(_initialParams);\n\nvar _setImmediate = require('./internal/setImmediate');\n\nvar _setImmediate2 = _interopRequireDefault(_setImmediate);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Take a sync function and make it async, passing its return value to a\n * callback. This is useful for plugging sync functions into a waterfall,\n * series, or other async functions. Any arguments passed to the generated\n * function will be passed to the wrapped function (except for the final\n * callback argument). Errors thrown will be passed to the callback.\n *\n * If the function passed to `asyncify` returns a Promise, that promises's\n * resolved/rejected state will be used to call the callback, rather than simply\n * the synchronous return value.\n *\n * This also means you can asyncify ES2017 `async` functions.\n *\n * @name asyncify\n * @static\n * @memberOf module:Utils\n * @method\n * @alias wrapSync\n * @category Util\n * @param {Function} func - The synchronous function, or Promise-returning\n * function to convert to an {@link AsyncFunction}.\n * @returns {AsyncFunction} An asynchronous wrapper of the `func`. To be\n * invoked with `(args..., callback)`.\n * @example\n *\n * // passing a regular synchronous function\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(JSON.parse),\n *     function (data, next) {\n *         // data is the result of parsing the text.\n *         // If there was a parsing error, it would have been caught.\n *     }\n * ], callback);\n *\n * // passing a function returning a promise\n * async.waterfall([\n *     async.apply(fs.readFile, filename, \"utf8\"),\n *     async.asyncify(function (contents) {\n *         return db.model.create(contents);\n *     }),\n *     function (model, next) {\n *         // `model` is the instantiated model object.\n *         // If there was an error, this function would be skipped.\n *     }\n * ], callback);\n *\n * // es2017 example, though `asyncify` is not needed if your JS environment\n * // supports async functions out of the box\n * var q = async.queue(async.asyncify(async function(file) {\n *     var intermediateStep = await processFile(file);\n *     return await somePromise(intermediateStep)\n * }));\n *\n * q.push(files);\n */\nfunction asyncify(func) {\n    return (0, _initialParams2.default)(function (args, callback) {\n        var result;\n        try {\n            result = func.apply(this, args);\n        } catch (e) {\n            return callback(e);\n        }\n        // if result is Promise object\n        if ((0, _isObject2.default)(result) && typeof result.then === 'function') {\n            result.then(function (value) {\n                invokeCallback(callback, null, value);\n            }, function (err) {\n                invokeCallback(callback, err.message ? err : new Error(err));\n            });\n        } else {\n            callback(null, result);\n        }\n    });\n}\n\nfunction invokeCallback(callback, error, value) {\n    try {\n        callback(error, value);\n    } catch (e) {\n        (0, _setImmediate2.default)(rethrow, e);\n    }\n}\n\nfunction rethrow(error) {\n    throw error;\n}\nmodule.exports = exports['default'];\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","default","rethrow","error","Object","defineProperty","value","asyncify","func","_initialParams2","args","callback","result","apply","e","_isObject2","then","_setImmediate2","err","message","Error","_isObject","_initialParams","_setImmediate"]
}
