{
"version":3,
"file":"module$node_modules$browserify_sign$browser$sign.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/browserify-sign/browser/sign.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$browserify_sign$browser$sign\"] = function(global,require,module,exports) {\n// much of this based on https://github.com/indutny/self-signed/blob/gh-pages/lib/rsa.js\nvar Buffer = require('safe-buffer').Buffer\nvar createHmac = require('create-hmac')\nvar crt = require('browserify-rsa')\nvar EC = require('elliptic').ec\nvar BN = require('bn.js')\nvar parseKeys = require('parse-asn1')\nvar curves = require('./curves.json')\n\nfunction sign (hash, key, hashType, signType, tag) {\n  var priv = parseKeys(key)\n  if (priv.curve) {\n    // rsa keys can be interpreted as ecdsa ones in openssl\n    if (signType !== 'ecdsa' && signType !== 'ecdsa/rsa') throw new Error('wrong private key type')\n    return ecSign(hash, priv)\n  } else if (priv.type === 'dsa') {\n    if (signType !== 'dsa') throw new Error('wrong private key type')\n    return dsaSign(hash, priv, hashType)\n  } else {\n    if (signType !== 'rsa' && signType !== 'ecdsa/rsa') throw new Error('wrong private key type')\n  }\n  hash = Buffer.concat([tag, hash])\n  var len = priv.modulus.byteLength()\n  var pad = [0, 1]\n  while (hash.length + pad.length + 1 < len) pad.push(0xff)\n  pad.push(0x00)\n  var i = -1\n  while (++i < hash.length) pad.push(hash[i])\n\n  var out = crt(pad, priv)\n  return out\n}\n\nfunction ecSign (hash, priv) {\n  var curveId = curves[priv.curve.join('.')]\n  if (!curveId) throw new Error('unknown curve ' + priv.curve.join('.'))\n\n  var curve = new EC(curveId)\n  var key = curve.keyFromPrivate(priv.privateKey)\n  var out = key.sign(hash)\n\n  return Buffer.from(out.toDER())\n}\n\nfunction dsaSign (hash, priv, algo) {\n  var x = priv.params.priv_key\n  var p = priv.params.p\n  var q = priv.params.q\n  var g = priv.params.g\n  var r = new BN(0)\n  var k\n  var H = bits2int(hash, q).mod(q)\n  var s = false\n  var kv = getKey(x, q, hash, algo)\n  while (s === false) {\n    k = makeKey(q, kv, algo)\n    r = makeR(g, k, p, q)\n    s = k.invm(q).imul(H.add(x.mul(r))).mod(q)\n    if (s.cmpn(0) === 0) {\n      s = false\n      r = new BN(0)\n    }\n  }\n  return toDER(r, s)\n}\n\nfunction toDER (r, s) {\n  r = r.toArray()\n  s = s.toArray()\n\n  // Pad values\n  if (r[0] & 0x80) r = [0].concat(r)\n  if (s[0] & 0x80) s = [0].concat(s)\n\n  var total = r.length + s.length + 4\n  var res = [0x30, total, 0x02, r.length]\n  res = res.concat(r, [0x02, s.length], s)\n  return Buffer.from(res)\n}\n\nfunction getKey (x, q, hash, algo) {\n  x = Buffer.from(x.toArray())\n  if (x.length < q.byteLength()) {\n    var zeros = Buffer.alloc(q.byteLength() - x.length)\n    x = Buffer.concat([zeros, x])\n  }\n  var hlen = hash.length\n  var hbits = bits2octets(hash, q)\n  var v = Buffer.alloc(hlen)\n  v.fill(1)\n  var k = Buffer.alloc(hlen)\n  k = createHmac(algo, k).update(v).update(Buffer.from([0])).update(x).update(hbits).digest()\n  v = createHmac(algo, k).update(v).digest()\n  k = createHmac(algo, k).update(v).update(Buffer.from([1])).update(x).update(hbits).digest()\n  v = createHmac(algo, k).update(v).digest()\n  return { k: k, v: v }\n}\n\nfunction bits2int (obits, q) {\n  var bits = new BN(obits)\n  var shift = (obits.length << 3) - q.bitLength()\n  if (shift > 0) bits.ishrn(shift)\n  return bits\n}\n\nfunction bits2octets (bits, q) {\n  bits = bits2int(bits, q)\n  bits = bits.mod(q)\n  var out = Buffer.from(bits.toArray())\n  if (out.length < q.byteLength()) {\n    var zeros = Buffer.alloc(q.byteLength() - out.length)\n    out = Buffer.concat([zeros, out])\n  }\n  return out\n}\n\nfunction makeKey (q, kv, algo) {\n  var t\n  var k\n\n  do {\n    t = Buffer.alloc(0)\n\n    while (t.length * 8 < q.bitLength()) {\n      kv.v = createHmac(algo, kv.k).update(kv.v).digest()\n      t = Buffer.concat([t, kv.v])\n    }\n\n    k = bits2int(t, q)\n    kv.k = createHmac(algo, kv.k).update(kv.v).update(Buffer.from([0])).digest()\n    kv.v = createHmac(algo, kv.k).update(kv.v).digest()\n  } while (k.cmp(q) !== -1)\n\n  return k\n}\n\nfunction makeR (g, k, p, q) {\n  return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)\n}\n\nmodule.exports = sign\nmodule.exports.getKey = getKey\nmodule.exports.makeKey = makeKey\n\n};"],
"names":["shadow$provide","global","require","module","exports","getKey","x","q","hash","algo","Buffer","from","toArray","length","byteLength","zeros","alloc","concat","hlen","bits","bits2int","mod","out","v","fill","k","createHmac","update","hbits","digest","obits","BN","shift","bitLength","ishrn","makeKey","kv","t","cmp","crt","EC","ec","parseKeys","curves","sign","key","hashType","signType","tag","priv","curve","Error","curveId","join","keyFromPrivate","privateKey","toDER","type","params","priv_key","p","g","r","H","s","toRed","mont","redPow","fromRed","invm","imul","add","mul","cmpn","res","len","modulus","pad","push","i"]
}
