{
"version":3,
"file":"module$node_modules$stream_http$lib$response.js",
"lineCount":9,
"mappings":"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",
"sources":["node_modules/stream-http/lib/response.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$stream_http$lib$response\"] = function(global,require,module,exports) {\nvar process = require('process');\nvar Buffer = require('buffer').Buffer;\nvar capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, fetchTimer) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(new Buffer(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tif (result.done) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(new Buffer(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text:vbarray': // For IE9\n\t\t\tif (xhr.readyState !== rStates.DONE)\n\t\t\t\tbreak\n\t\t\ttry {\n\t\t\t\t// This fails in IE8\n\t\t\t\tresponse = new global.VBArray(xhr.responseBody).toArray()\n\t\t\t} catch (e) {}\n\t\t\tif (response !== null) {\n\t\t\t\tself.push(new Buffer(response))\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// Falls through in IE8\t\n\t\tcase 'text':\n\t\t\ttry { // This will fail when readyState = 3 in IE9. Switch mode and wait for readyState = 4\n\t\t\t\tresponse = xhr.responseText\n\t\t\t} catch (e) {\n\t\t\t\tself._mode = 'text:vbarray'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = new Buffer(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(new Buffer(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tself.push(null)\n\t}\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","process","Buffer","capability","inherits","stream","rStates","readyStates","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","IncomingMessage","exports.IncomingMessage","xhr","response","mode","fetchTimer","self","Readable","call","_mode","headers","rawHeaders","trailers","rawTrailers","on","nextTick","emit","_fetchResponse","url","statusCode","status","statusMessage","statusText","forEach","header","key","toLowerCase","push","writableStream","writable","WritableStream","write","chunk","Promise","resolve","reject","_destroyed","_resumeFetch","close","clearTimeout","abort","err","body","pipeTo","catch","e","reader","getReader","read","then","result","done","value","_xhr","_pos","responseURL","getAllResponseHeaders","split","matches","match","undefined","_charset","overrideMimeType","mimeType","charsetMatch","prototype","_read","IncomingMessage.prototype._read","_onXHRProgress","IncomingMessage.prototype._onXHRProgress","readyState","VBArray","responseBody","toArray","responseText","length","newData","substr","buffer","i","charCodeAt","Uint8Array","MSStreamReader","onprogress","reader.onprogress","byteLength","slice","onload","reader.onload","readAsArrayBuffer"]
}
