shadow$provide.module$node_modules$$ethersproject$json_wallets$lib$crowdsale=function(global,require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};return function(d,b){function __(){this.constructor=d}if("function"!==
typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();global=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{"default":mod}};Object.defineProperty(exports,"__esModule",{value:!0});exports.decrypt=exports.CrowdsaleAccount=void 0;var aes_js_1=global(require("module$node_modules$aes_js$index")),address_1=require("module$node_modules$$ethersproject$address$lib$index"),
bytes_1=require("module$node_modules$$ethersproject$bytes$lib$index"),keccak256_1=require("module$node_modules$$ethersproject$keccak256$lib$index"),pbkdf2_1=require("module$node_modules$$ethersproject$pbkdf2$lib$index"),strings_1=require("module$node_modules$$ethersproject$strings$lib$index");global=require("module$node_modules$$ethersproject$properties$lib$index");module=require("module$node_modules$$ethersproject$logger$lib$index");var _version_1=require("module$node_modules$$ethersproject$json_wallets$lib$_version"),
logger=new module.Logger(_version_1.version),utils_1=require("module$node_modules$$ethersproject$json_wallets$lib$utils"),CrowdsaleAccount=function(_super){function CrowdsaleAccount(){return null!==_super&&_super.apply(this,arguments)||this}__extends(CrowdsaleAccount,_super);CrowdsaleAccount.prototype.isCrowdsaleAccount=function(value){return!(!value||!value._isCrowdsaleAccount)};return CrowdsaleAccount}(global.Description);exports.CrowdsaleAccount=CrowdsaleAccount;exports.decrypt=function(json,password){var data=
JSON.parse(json);password=utils_1.getPassword(password);var ethaddr=address_1.getAddress(utils_1.searchPath(data,"ethaddr"));(data=utils_1.looseArrayify(utils_1.searchPath(data,"encseed")))&&0===data.length%16||logger.throwArgumentError("invalid encseed","json",json);json=bytes_1.arrayify(pbkdf2_1.pbkdf2(password,password,2E3,32,"sha256")).slice(0,16);password=data.slice(0,16);data=data.slice(16);json=new aes_js_1.default.ModeOfOperation.cbc(json,password);data=aes_js_1.default.padding.pkcs7.strip(bytes_1.arrayify(json.decrypt(data)));
json="";for(password=0;password<data.length;password++)json+=String.fromCharCode(data[password]);data=strings_1.toUtf8Bytes(json);data=keccak256_1.keccak256(data);return new CrowdsaleAccount({_isCrowdsaleAccount:!0,address:ethaddr,privateKey:data})}}
//# sourceMappingURL=module$node_modules$$ethersproject$json_wallets$lib$crowdsale.js.map
