{
"version":3,
"file":"module$node_modules$$pedrouid$iso_crypto$dist$cjs$helpers$env$browser.js",
"lineCount":8,
"mappings":"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",
"sources":["node_modules/@pedrouid/iso-crypto/dist/cjs/helpers/env/browser.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$pedrouid$iso_crypto$dist$cjs$helpers$env$browser\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.browserSha512 = exports.browserSha256 = exports.browserHmacSha512Sign = exports.browserHmacSha256Sign = exports.browserAesDecrypt = exports.browserAesEncrypt = exports.browserImportKey = exports.browserExportKey = exports.getOps = exports.getAlgo = exports.getSubtleCrypto = exports.getBrowerCrypto = void 0;\nconst constants_1 = require(\"../constants\");\nfunction getBrowerCrypto() {\n    return (global === null || global === void 0 ? void 0 : global.crypto) || (global === null || global === void 0 ? void 0 : global.msCrypto) || {};\n}\nexports.getBrowerCrypto = getBrowerCrypto;\nfunction getSubtleCrypto() {\n    const browserCrypto = getBrowerCrypto();\n    return browserCrypto.subtle || browserCrypto.webkitSubtle;\n}\nexports.getSubtleCrypto = getSubtleCrypto;\nfunction getAlgo(type) {\n    return type === constants_1.AES_BROWSER_ALGO\n        ? { length: constants_1.AES_LENGTH, name: constants_1.AES_BROWSER_ALGO }\n        : {\n            hash: { name: constants_1.HMAC_BROWSER_ALGO },\n            name: constants_1.HMAC_BROWSER,\n        };\n}\nexports.getAlgo = getAlgo;\nfunction getOps(type) {\n    return type === constants_1.AES_BROWSER_ALGO\n        ? [constants_1.ENCRYPT_OP, constants_1.DECRYPT_OP]\n        : [constants_1.SIGN_OP, constants_1.VERIFY_OP];\n}\nexports.getOps = getOps;\nfunction browserExportKey(cryptoKey, type = constants_1.AES_BROWSER_ALGO) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        return new Uint8Array(yield subtle.exportKey('raw', cryptoKey));\n    });\n}\nexports.browserExportKey = browserExportKey;\nfunction browserImportKey(buffer, type = constants_1.AES_BROWSER_ALGO) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return getSubtleCrypto().importKey('raw', buffer, getAlgo(type), true, getOps(type));\n    });\n}\nexports.browserImportKey = browserImportKey;\nfunction browserAesEncrypt(iv, key, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const cryptoKey = yield browserImportKey(key, constants_1.AES_BROWSER_ALGO);\n        const result = yield subtle.encrypt({\n            iv,\n            name: constants_1.AES_BROWSER_ALGO,\n        }, cryptoKey, data);\n        return new Uint8Array(result);\n    });\n}\nexports.browserAesEncrypt = browserAesEncrypt;\nfunction browserAesDecrypt(iv, key, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const cryptoKey = yield browserImportKey(key, constants_1.AES_BROWSER_ALGO);\n        const result = yield subtle.decrypt({\n            iv,\n            name: constants_1.AES_BROWSER_ALGO,\n        }, cryptoKey, data);\n        return new Uint8Array(result);\n    });\n}\nexports.browserAesDecrypt = browserAesDecrypt;\nfunction browserHmacSha256Sign(key, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const cryptoKey = yield browserImportKey(key, constants_1.HMAC_BROWSER);\n        const signature = yield subtle.sign({\n            length: constants_1.HMAC_LENGTH,\n            name: constants_1.HMAC_BROWSER,\n        }, cryptoKey, data);\n        return new Uint8Array(signature);\n    });\n}\nexports.browserHmacSha256Sign = browserHmacSha256Sign;\nfunction browserHmacSha512Sign(key, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const cryptoKey = yield browserImportKey(key, constants_1.HMAC_BROWSER);\n        const signature = yield subtle.sign({\n            length: constants_1.LENGTH_512,\n            name: constants_1.HMAC_BROWSER,\n        }, cryptoKey, data);\n        return new Uint8Array(signature);\n    });\n}\nexports.browserHmacSha512Sign = browserHmacSha512Sign;\nfunction browserSha256(data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const result = yield subtle.digest({\n            name: constants_1.SHA256_BROWSER_ALGO,\n        }, data);\n        return new Uint8Array(result);\n    });\n}\nexports.browserSha256 = browserSha256;\nfunction browserSha512(data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const result = yield subtle.digest({\n            name: constants_1.SHA512_BROWSER_ALGO,\n        }, data);\n        return new Uint8Array(result);\n    });\n}\nexports.browserSha512 = browserSha512;\n//# sourceMappingURL=browser.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","getBrowerCrypto","crypto","msCrypto","getSubtleCrypto","browserCrypto","subtle","webkitSubtle","getAlgo","type","constants_1","AES_BROWSER_ALGO","length","AES_LENGTH","name","hash","HMAC_BROWSER_ALGO","HMAC_BROWSER","getOps","ENCRYPT_OP","DECRYPT_OP","SIGN_OP","VERIFY_OP","browserImportKey","buffer","__awaiter","importKey","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","browserSha512","browserSha256","browserHmacSha512Sign","browserHmacSha256Sign","browserAesDecrypt","browserAesEncrypt","browserExportKey","cryptoKey","Uint8Array","exportKey","iv","key","data","encrypt","decrypt","signature","sign","HMAC_LENGTH","LENGTH_512","digest","SHA256_BROWSER_ALGO","SHA512_BROWSER_ALGO"]
}
