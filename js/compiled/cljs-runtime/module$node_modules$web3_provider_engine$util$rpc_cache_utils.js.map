{
"version":3,
"file":"module$node_modules$web3_provider_engine$util$rpc_cache_utils.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/web3-provider-engine/util/rpc-cache-utils.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$web3_provider_engine$util$rpc_cache_utils\"] = function(global,require,module,exports) {\nconst stringify = require('json-stable-stringify')\n\nmodule.exports = {\n  cacheIdentifierForPayload: cacheIdentifierForPayload,\n  canCache: canCache,\n  blockTagForPayload: blockTagForPayload,\n  paramsWithoutBlockTag: paramsWithoutBlockTag,\n  blockTagParamIndex: blockTagParamIndex,\n  cacheTypeForPayload: cacheTypeForPayload,\n}\n\nfunction cacheIdentifierForPayload(payload, opts = {}){\n  if (!canCache(payload)) return null\n  const { includeBlockRef } = opts\n  const params = includeBlockRef ? payload.params : paramsWithoutBlockTag(payload)\n  return payload.method + ':' + stringify(params)\n}\n\nfunction canCache(payload){\n  return cacheTypeForPayload(payload) !== 'never'\n}\n\nfunction blockTagForPayload(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return null;\n  }\n\n  return payload.params[index];\n}\n\nfunction paramsWithoutBlockTag(payload){\n  var index = blockTagParamIndex(payload);\n\n  // Block tag param not passed.\n  if (index >= payload.params.length) {\n    return payload.params;\n  }\n\n  // eth_getBlockByNumber has the block tag first, then the optional includeTx? param\n  if (payload.method === 'eth_getBlockByNumber') {\n    return payload.params.slice(1);\n  }\n\n  return payload.params.slice(0,index);\n}\n\nfunction blockTagParamIndex(payload){\n  switch(payload.method) {\n    // blockTag is third param\n    case 'eth_getStorageAt':\n      return 2\n    // blockTag is second param\n    case 'eth_getBalance':\n    case 'eth_getCode':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n      return 1\n    // blockTag is first param\n    case 'eth_getBlockByNumber':\n      return 0\n    // there is no blockTag\n    default:\n      return undefined\n  }\n}\n\nfunction cacheTypeForPayload(payload) {\n  switch (payload.method) {\n    // cache permanently\n    case 'web3_clientVersion':\n    case 'web3_sha3':\n    case 'eth_protocolVersion':\n    case 'eth_getBlockTransactionCountByHash':\n    case 'eth_getUncleCountByBlockHash':\n    case 'eth_getCode':\n    case 'eth_getBlockByHash':\n    case 'eth_getTransactionByHash':\n    case 'eth_getTransactionByBlockHashAndIndex':\n    case 'eth_getTransactionReceipt':\n    case 'eth_getUncleByBlockHashAndIndex':\n    case 'eth_getCompilers':\n    case 'eth_compileLLL':\n    case 'eth_compileSolidity':\n    case 'eth_compileSerpent':\n    case 'shh_version':\n      return 'perma'\n\n    // cache until fork\n    case 'eth_getBlockByNumber':\n    case 'eth_getBlockTransactionCountByNumber':\n    case 'eth_getUncleCountByBlockNumber':\n    case 'eth_getTransactionByBlockNumberAndIndex':\n    case 'eth_getUncleByBlockNumberAndIndex':\n      return 'fork'\n\n    // cache for block\n    case 'eth_gasPrice':\n    case 'eth_getBalance':\n    case 'eth_getStorageAt':\n    case 'eth_getTransactionCount':\n    case 'eth_call':\n    case 'eth_estimateGas':\n    case 'eth_getFilterLogs':\n    case 'eth_getLogs':\n    case 'eth_blockNumber':\n      return 'block'\n\n    // never cache\n    case 'net_version':\n    case 'net_peerCount':\n    case 'net_listening':\n    case 'eth_syncing':\n    case 'eth_sign':\n    case 'eth_coinbase':\n    case 'eth_mining':\n    case 'eth_hashrate':\n    case 'eth_accounts':\n    case 'eth_sendTransaction':\n    case 'eth_sendRawTransaction':\n    case 'eth_newFilter':\n    case 'eth_newBlockFilter':\n    case 'eth_newPendingTransactionFilter':\n    case 'eth_uninstallFilter':\n    case 'eth_getFilterChanges':\n    case 'eth_getWork':\n    case 'eth_submitWork':\n    case 'eth_submitHashrate':\n    case 'db_putString':\n    case 'db_getString':\n    case 'db_putHex':\n    case 'db_getHex':\n    case 'shh_post':\n    case 'shh_newIdentity':\n    case 'shh_hasIdentity':\n    case 'shh_newGroup':\n    case 'shh_addToGroup':\n    case 'shh_newFilter':\n    case 'shh_uninstallFilter':\n    case 'shh_getFilterChanges':\n    case 'shh_getMessages':\n      return 'never'\n  }\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","canCache","payload","cacheTypeForPayload","paramsWithoutBlockTag","index","blockTagParamIndex","params","length","method","slice","stringify","cacheIdentifierForPayload","opts","includeBlockRef","blockTagForPayload"]
}
