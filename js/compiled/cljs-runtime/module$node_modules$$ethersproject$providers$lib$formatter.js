shadow$provide.module$node_modules$$ethersproject$providers$lib$formatter=function(global,require,module,exports){function isCommunityResourcable(value){return value&&"function"===typeof value.isCommunityResource}Object.defineProperty(exports,"__esModule",{value:!0});exports.showThrottleMessage=exports.isCommunityResource=exports.isCommunityResourcable=exports.Formatter=void 0;var address_1=require("module$node_modules$$ethersproject$address$lib$index"),bignumber_1=require("module$node_modules$$ethersproject$bignumber$lib$index"),
bytes_1=require("module$node_modules$$ethersproject$bytes$lib$index"),constants_1=require("module$node_modules$$ethersproject$constants$lib$index"),properties_1=require("module$node_modules$$ethersproject$properties$lib$index"),transactions_1=require("module$node_modules$$ethersproject$transactions$lib$index");global=require("module$node_modules$$ethersproject$logger$lib$index");require=require("module$node_modules$$ethersproject$providers$lib$_version");var logger=new global.Logger(require.version);
require=function(){function Formatter(){logger.checkNew(this.constructor,Formatter);this.formats=this.getDefaultFormats()}Formatter.prototype.getDefaultFormats=function(){var _this=this,formats={},address=this.address.bind(this),bigNumber=this.bigNumber.bind(this),blockTag=this.blockTag.bind(this),data=this.data.bind(this),hash=this.hash.bind(this),hex=this.hex.bind(this),number=this.number.bind(this);formats.transaction={hash,blockHash:Formatter.allowNull(hash,null),blockNumber:Formatter.allowNull(number,
null),transactionIndex:Formatter.allowNull(number,null),confirmations:Formatter.allowNull(number,null),from:address,gasPrice:bigNumber,gasLimit:bigNumber,to:Formatter.allowNull(address,null),value:bigNumber,nonce:number,data,r:Formatter.allowNull(this.uint256),s:Formatter.allowNull(this.uint256),v:Formatter.allowNull(number),creates:Formatter.allowNull(address,null),raw:Formatter.allowNull(data)};formats.transactionRequest={from:Formatter.allowNull(address),nonce:Formatter.allowNull(number),gasLimit:Formatter.allowNull(bigNumber),
gasPrice:Formatter.allowNull(bigNumber),to:Formatter.allowNull(address),value:Formatter.allowNull(bigNumber),data:Formatter.allowNull(function(v){return _this.data(v,!0)})};formats.receiptLog={transactionIndex:number,blockNumber:number,transactionHash:hash,address,topics:Formatter.arrayOf(hash),data,logIndex:number,blockHash:hash};formats.receipt={to:Formatter.allowNull(this.address,null),from:Formatter.allowNull(this.address,null),contractAddress:Formatter.allowNull(address,null),transactionIndex:number,
root:Formatter.allowNull(hex),gasUsed:bigNumber,logsBloom:Formatter.allowNull(data),blockHash:hash,transactionHash:hash,logs:Formatter.arrayOf(this.receiptLog.bind(this)),blockNumber:number,confirmations:Formatter.allowNull(number,null),cumulativeGasUsed:bigNumber,status:Formatter.allowNull(number)};formats.block={hash,parentHash:hash,number,timestamp:number,nonce:Formatter.allowNull(hex),difficulty:this.difficulty.bind(this),gasLimit:bigNumber,gasUsed:bigNumber,miner:address,extraData:data,transactions:Formatter.allowNull(Formatter.arrayOf(hash))};
formats.blockWithTransactions=properties_1.shallowCopy(formats.block);formats.blockWithTransactions.transactions=Formatter.allowNull(Formatter.arrayOf(this.transactionResponse.bind(this)));formats.filter={fromBlock:Formatter.allowNull(blockTag,void 0),toBlock:Formatter.allowNull(blockTag,void 0),blockHash:Formatter.allowNull(hash,void 0),address:Formatter.allowNull(address,void 0),topics:Formatter.allowNull(this.topics.bind(this),void 0)};formats.filterLog={blockNumber:Formatter.allowNull(number),
blockHash:Formatter.allowNull(hash),transactionIndex:number,removed:Formatter.allowNull(this.boolean.bind(this)),address,data:Formatter.allowFalsish(data,"0x"),topics:Formatter.arrayOf(hash),transactionHash:hash,logIndex:number};return formats};Formatter.prototype.number=function(number){return"0x"===number?0:bignumber_1.BigNumber.from(number).toNumber()};Formatter.prototype.bigNumber=function(value){return bignumber_1.BigNumber.from(value)};Formatter.prototype.boolean=function(value){if("boolean"===
typeof value)return value;if("string"===typeof value){value=value.toLowerCase();if("true"===value)return!0;if("false"===value)return!1}throw Error("invalid boolean - "+value);};Formatter.prototype.hex=function(value,strict){return"string"===typeof value&&(strict||"0x"===value.substring(0,2)||(value="0x"+value),bytes_1.isHexString(value))?value.toLowerCase():logger.throwArgumentError("invalid hash","value",value)};Formatter.prototype.data=function(value,strict){strict=this.hex(value,strict);if(0!==
strict.length%2)throw Error("invalid data; odd-length - "+value);return strict};Formatter.prototype.address=function(value){return address_1.getAddress(value)};Formatter.prototype.callAddress=function(value){if(!bytes_1.isHexString(value,32))return null;value=address_1.getAddress(bytes_1.hexDataSlice(value,12));return value===constants_1.AddressZero?null:value};Formatter.prototype.contractAddress=function(value){return address_1.getContractAddress(value)};Formatter.prototype.blockTag=function(blockTag){if(null==
blockTag)return"latest";if("earliest"===blockTag)return"0x0";if("latest"===blockTag||"pending"===blockTag)return blockTag;if("number"===typeof blockTag||bytes_1.isHexString(blockTag))return bytes_1.hexValue(blockTag);throw Error("invalid blockTag");};Formatter.prototype.hash=function(value,strict){strict=this.hex(value,strict);return 32!==bytes_1.hexDataLength(strict)?logger.throwArgumentError("invalid hash","value",value):strict};Formatter.prototype.difficulty=function(value){if(null==value)return null;
value=bignumber_1.BigNumber.from(value);try{return value.toNumber()}catch(error){}return null};Formatter.prototype.uint256=function(value){if(!bytes_1.isHexString(value))throw Error("invalid uint256");return bytes_1.hexZeroPad(value,32)};Formatter.prototype._block=function(value,format){null!=value.author&&null==value.miner&&(value.miner=value.author);return Formatter.check(format,value)};Formatter.prototype.block=function(value){return this._block(value,this.formats.block)};Formatter.prototype.blockWithTransactions=
function(value){return this._block(value,this.formats.blockWithTransactions)};Formatter.prototype.transactionRequest=function(value){return Formatter.check(this.formats.transactionRequest,value)};Formatter.prototype.transactionResponse=function(transaction){null!=transaction.gas&&null==transaction.gasLimit&&(transaction.gasLimit=transaction.gas);transaction.to&&bignumber_1.BigNumber.from(transaction.to).isZero()&&(transaction.to="0x0000000000000000000000000000000000000000");null!=transaction.input&&
null==transaction.data&&(transaction.data=transaction.input);null==transaction.to&&null==transaction.creates&&(transaction.creates=this.contractAddress(transaction));var result=Formatter.check(this.formats.transaction,transaction);if(null!=transaction.chainId){var chainId=transaction.chainId;bytes_1.isHexString(chainId)&&(chainId=bignumber_1.BigNumber.from(chainId).toNumber())}else chainId=transaction.networkId,null==chainId&&null==result.v&&(chainId=transaction.chainId),bytes_1.isHexString(chainId)&&
(chainId=bignumber_1.BigNumber.from(chainId).toNumber()),"number"!==typeof chainId&&null!=result.v&&(chainId=(result.v-35)/2,0>chainId&&(chainId=0),chainId=parseInt(chainId)),"number"!==typeof chainId&&(chainId=0);result.chainId=chainId;result.blockHash&&"x"===result.blockHash.replace(/0/g,"")&&(result.blockHash=null);return result};Formatter.prototype.transaction=function(value){return transactions_1.parse(value)};Formatter.prototype.receiptLog=function(value){return Formatter.check(this.formats.receiptLog,
value)};Formatter.prototype.receipt=function(value){value=Formatter.check(this.formats.receipt,value);if(null!=value.root)if(4>=value.root.length){var value_1=bignumber_1.BigNumber.from(value.root).toNumber();0===value_1||1===value_1?(null!=value.status&&value.status!==value_1&&logger.throwArgumentError("alt-root-status/status mismatch","value",{root:value.root,status:value.status}),value.status=value_1,delete value.root):logger.throwArgumentError("invalid alt-root-status","value.root",value.root)}else 66!==
value.root.length&&logger.throwArgumentError("invalid root hash","value.root",value.root);null!=value.status&&(value.byzantium=!0);return value};Formatter.prototype.topics=function(value){var _this=this;return Array.isArray(value)?value.map(function(v){return _this.topics(v)}):null!=value?this.hash(value,!0):null};Formatter.prototype.filter=function(value){return Formatter.check(this.formats.filter,value)};Formatter.prototype.filterLog=function(value){return Formatter.check(this.formats.filterLog,
value)};Formatter.check=function(format,object){var result={},key;for(key in format)try{var value=format[key](object[key]);void 0!==value&&(result[key]=value)}catch(error){throw error.checkKey=key,error.checkValue=object[key],error;}return result};Formatter.allowNull=function(format,nullValue){return function(value){return null==value?nullValue:format(value)}};Formatter.allowFalsish=function(format,replaceValue){return function(value){return value?format(value):replaceValue}};Formatter.arrayOf=function(format){return function(array){if(!Array.isArray(array))throw Error("not an array");
var result=[];array.forEach(function(value){result.push(format(value))});return result}};return Formatter}();exports.Formatter=require;exports.isCommunityResourcable=isCommunityResourcable;exports.isCommunityResource=function(value){return isCommunityResourcable(value)&&value.isCommunityResource()};var throttleMessage=!1;exports.showThrottleMessage=function(){throttleMessage||(throttleMessage=!0,console.log("\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d NOTICE \x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d"),console.log("Request-Rate Exceeded  (this message will not be repeated)"),
console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),
console.log("\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d"))}}
//# sourceMappingURL=module$node_modules$$ethersproject$providers$lib$formatter.js.map
