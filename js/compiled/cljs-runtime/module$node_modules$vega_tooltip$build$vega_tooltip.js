shadow$provide.module$node_modules$vega_tooltip$build$vega_tooltip=function(global$jscomp$0,require,module,exports$jscomp$0){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0,require("module$node_modules$vega_util$build$vega_util")):"function"===typeof define&&define.amd?define(["exports","vega-util"],factory):(global="undefined"!==typeof globalThis?globalThis:global||self,factory(global.vegaTooltip={},global.vega))})(this,function(exports,
vegaUtil){function __rest(s,e){var t={},p;for(p in s)Object.prototype.hasOwnProperty.call(s,p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}function escapeHTML(value){return String(value).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")}function createDefaultStyle(id){if(!/^[A-Za-z]+[-:.\w]*$/.test(id))throw Error("Invalid HTML ID");
return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
id)}function formatValue(value,valueToHtml,maxDepth){if(vegaUtil.isArray(value))return"["+value.map(function(v){return valueToHtml(vegaUtil.isString(v)?v:stringify(v,maxDepth))}).join(", ")+"]";if(vegaUtil.isObject(value)){var content="",title=value.title,image=value.image;value=__rest(value,["title","image"]);title&&(content+="\x3ch2\x3e"+valueToHtml(title)+"\x3c/h2\x3e");image&&(content+='\x3cimg src\x3d"'+valueToHtml(image)+'"\x3e');title=Object.keys(value);if(0<title.length){content+="\x3ctable\x3e";
for(image=0;image<title.length;image++){var key=title[image],val=value[key];void 0!==val&&(vegaUtil.isObject(val)&&(val=stringify(val,maxDepth)),content+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'+valueToHtml(key)+':\x3c/td\x3e\x3ctd class\x3d"value"\x3e'+valueToHtml(val)+"\x3c/td\x3e\x3c/tr\x3e")}content+="\x3c/table\x3e"}return content||"{}"}return valueToHtml(value)}function replacer(maxDepth){var stack=[];return function(key,value){if("object"!==typeof value||null===value)return value;key=stack.indexOf(this)+
1;stack.length=key;if(stack.length>maxDepth)return"[Object]";if(0<=stack.indexOf(value))return"[Circular]";stack.push(value);return value}}function stringify(obj,maxDepth){return JSON.stringify(obj,replacer(maxDepth))}function calculatePosition(event,tooltipBox,offsetX,offsetY){var x=event.clientX+offsetX;x+tooltipBox.width>window.innerWidth&&(x=+event.clientX-offsetX-tooltipBox.width);offsetX=event.clientY+offsetY;offsetX+tooltipBox.height>window.innerHeight&&(offsetX=+event.clientY-offsetY-tooltipBox.height);
return{x,y:offsetX}}var __assign=function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t};return __assign.apply(this,arguments)},DEFAULT_OPTIONS={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:escapeHTML,maxDepth:2},Handler$jscomp$0=function(){function Handler(options){this.options=__assign(__assign({},
DEFAULT_OPTIONS),options);var elementId=this.options.id;this.el=null;this.call=this.tooltipHandler.bind(this);this.options.disableDefaultStyle||document.getElementById(this.options.styleId)||(options=document.createElement("style"),options.setAttribute("id",this.options.styleId),options.innerHTML=createDefaultStyle(elementId),elementId=document.head,0<elementId.childNodes.length?elementId.insertBefore(options,elementId.childNodes[0]):elementId.appendChild(options))}Handler.prototype.tooltipHandler=
function(handler,event,item,value){this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el));(null!=document.fullscreenElement?document.fullscreenElement:document.body).appendChild(this.el);null==value||""===value?this.el.classList.remove("visible",this.options.theme+"-theme"):(this.el.innerHTML=formatValue(value,this.options.sanitize,this.options.maxDepth),
this.el.classList.add("visible",this.options.theme+"-theme"),handler=calculatePosition(event,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),this.el.setAttribute("style","top: "+handler.y+"px; left: "+handler.x+"px"))};return Handler}();exports.DEFAULT_OPTIONS=DEFAULT_OPTIONS;exports.Handler=Handler$jscomp$0;exports.calculatePosition=calculatePosition;exports.createDefaultStyle=createDefaultStyle;exports.default=function(view,opt){opt=new Handler$jscomp$0(opt);view.tooltip(opt.call).run();
return opt};exports.escapeHTML=escapeHTML;exports.formatValue=formatValue;exports.replacer=replacer;exports.stringify=stringify;exports.version="0.25.1";Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$vega_tooltip$build$vega_tooltip.js.map
