{
"version":3,
"file":"module$node_modules$$ethersproject$transactions$lib$index.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/@ethersproject/transactions/lib/index.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$ethersproject$transactions$lib$index\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = exports.serialize = exports.recoverAddress = exports.computeAddress = void 0;\nvar address_1 = require(\"@ethersproject/address\");\nvar bignumber_1 = require(\"@ethersproject/bignumber\");\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar constants_1 = require(\"@ethersproject/constants\");\nvar keccak256_1 = require(\"@ethersproject/keccak256\");\nvar properties_1 = require(\"@ethersproject/properties\");\nvar RLP = __importStar(require(\"@ethersproject/rlp\"));\nvar signing_key_1 = require(\"@ethersproject/signing-key\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\n///////////////////////////////\nfunction handleAddress(value) {\n    if (value === \"0x\") {\n        return null;\n    }\n    return address_1.getAddress(value);\n}\nfunction handleNumber(value) {\n    if (value === \"0x\") {\n        return constants_1.Zero;\n    }\n    return bignumber_1.BigNumber.from(value);\n}\nvar transactionFields = [\n    { name: \"nonce\", maxLength: 32, numeric: true },\n    { name: \"gasPrice\", maxLength: 32, numeric: true },\n    { name: \"gasLimit\", maxLength: 32, numeric: true },\n    { name: \"to\", length: 20 },\n    { name: \"value\", maxLength: 32, numeric: true },\n    { name: \"data\" },\n];\nvar allowedTransactionKeys = {\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, value: true\n};\nfunction computeAddress(key) {\n    var publicKey = signing_key_1.computePublicKey(key);\n    return address_1.getAddress(bytes_1.hexDataSlice(keccak256_1.keccak256(bytes_1.hexDataSlice(publicKey, 1)), 12));\n}\nexports.computeAddress = computeAddress;\nfunction recoverAddress(digest, signature) {\n    return computeAddress(signing_key_1.recoverPublicKey(bytes_1.arrayify(digest), signature));\n}\nexports.recoverAddress = recoverAddress;\nfunction serialize(transaction, signature) {\n    properties_1.checkProperties(transaction, allowedTransactionKeys);\n    var raw = [];\n    transactionFields.forEach(function (fieldInfo) {\n        var value = transaction[fieldInfo.name] || ([]);\n        var options = {};\n        if (fieldInfo.numeric) {\n            options.hexPad = \"left\";\n        }\n        value = bytes_1.arrayify(bytes_1.hexlify(value, options));\n        // Fixed-width field\n        if (fieldInfo.length && value.length !== fieldInfo.length && value.length > 0) {\n            logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value);\n        }\n        // Variable-width (with a maximum)\n        if (fieldInfo.maxLength) {\n            value = bytes_1.stripZeros(value);\n            if (value.length > fieldInfo.maxLength) {\n                logger.throwArgumentError(\"invalid length for \" + fieldInfo.name, (\"transaction:\" + fieldInfo.name), value);\n            }\n        }\n        raw.push(bytes_1.hexlify(value));\n    });\n    var chainId = 0;\n    if (transaction.chainId != null) {\n        // A chainId was provided; if non-zero we'll use EIP-155\n        chainId = transaction.chainId;\n        if (typeof (chainId) !== \"number\") {\n            logger.throwArgumentError(\"invalid transaction.chainId\", \"transaction\", transaction);\n        }\n    }\n    else if (signature && !bytes_1.isBytesLike(signature) && signature.v > 28) {\n        // No chainId provided, but the signature is signing with EIP-155; derive chainId\n        chainId = Math.floor((signature.v - 35) / 2);\n    }\n    // We have an EIP-155 transaction (chainId was specified and non-zero)\n    if (chainId !== 0) {\n        raw.push(bytes_1.hexlify(chainId)); // @TODO: hexValue?\n        raw.push(\"0x\");\n        raw.push(\"0x\");\n    }\n    // Requesting an unsigned transation\n    if (!signature) {\n        return RLP.encode(raw);\n    }\n    // The splitSignature will ensure the transaction has a recoveryParam in the\n    // case that the signTransaction function only adds a v.\n    var sig = bytes_1.splitSignature(signature);\n    // We pushed a chainId and null r, s on for hashing only; remove those\n    var v = 27 + sig.recoveryParam;\n    if (chainId !== 0) {\n        raw.pop();\n        raw.pop();\n        raw.pop();\n        v += chainId * 2 + 8;\n        // If an EIP-155 v (directly or indirectly; maybe _vs) was provided, check it!\n        if (sig.v > 28 && sig.v !== v) {\n            logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\n        }\n    }\n    else if (sig.v !== v) {\n        logger.throwArgumentError(\"transaction.chainId/signature.v mismatch\", \"signature\", signature);\n    }\n    raw.push(bytes_1.hexlify(v));\n    raw.push(bytes_1.stripZeros(bytes_1.arrayify(sig.r)));\n    raw.push(bytes_1.stripZeros(bytes_1.arrayify(sig.s)));\n    return RLP.encode(raw);\n}\nexports.serialize = serialize;\nfunction parse(rawTransaction) {\n    var transaction = RLP.decode(rawTransaction);\n    if (transaction.length !== 9 && transaction.length !== 6) {\n        logger.throwArgumentError(\"invalid raw transaction\", \"rawTransaction\", rawTransaction);\n    }\n    var tx = {\n        nonce: handleNumber(transaction[0]).toNumber(),\n        gasPrice: handleNumber(transaction[1]),\n        gasLimit: handleNumber(transaction[2]),\n        to: handleAddress(transaction[3]),\n        value: handleNumber(transaction[4]),\n        data: transaction[5],\n        chainId: 0\n    };\n    // Legacy unsigned transaction\n    if (transaction.length === 6) {\n        return tx;\n    }\n    try {\n        tx.v = bignumber_1.BigNumber.from(transaction[6]).toNumber();\n    }\n    catch (error) {\n        console.log(error);\n        return tx;\n    }\n    tx.r = bytes_1.hexZeroPad(transaction[7], 32);\n    tx.s = bytes_1.hexZeroPad(transaction[8], 32);\n    if (bignumber_1.BigNumber.from(tx.r).isZero() && bignumber_1.BigNumber.from(tx.s).isZero()) {\n        // EIP-155 unsigned transaction\n        tx.chainId = tx.v;\n        tx.v = 0;\n    }\n    else {\n        // Signed Tranasaction\n        tx.chainId = Math.floor((tx.v - 35) / 2);\n        if (tx.chainId < 0) {\n            tx.chainId = 0;\n        }\n        var recoveryParam = tx.v - 27;\n        var raw = transaction.slice(0, 6);\n        if (tx.chainId !== 0) {\n            raw.push(bytes_1.hexlify(tx.chainId));\n            raw.push(\"0x\");\n            raw.push(\"0x\");\n            recoveryParam -= tx.chainId * 2 + 8;\n        }\n        var digest = keccak256_1.keccak256(RLP.encode(raw));\n        try {\n            tx.from = recoverAddress(digest, { r: bytes_1.hexlify(tx.r), s: bytes_1.hexlify(tx.s), recoveryParam: recoveryParam });\n        }\n        catch (error) {\n            console.log(error);\n        }\n        tx.hash = keccak256_1.keccak256(rawTransaction);\n    }\n    return tx;\n}\nexports.parse = parse;\n//# sourceMappingURL=index.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","handleNumber","value","constants_1","Zero","bignumber_1","BigNumber","from","computeAddress","key","publicKey","signing_key_1","computePublicKey","address_1","getAddress","bytes_1","hexDataSlice","keccak256_1","keccak256","recoverAddress","digest","signature","recoverPublicKey","arrayify","__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","__importStar","mod","__esModule","result","prototype","hasOwnProperty","call","parse","serialize","properties_1","RLP","logger_1","_version_1","logger","Logger","version","transactionFields","name","maxLength","numeric","length","allowedTransactionKeys","chainId","data","gasLimit","gasPrice","nonce","to","transaction","checkProperties","raw","forEach","fieldInfo","options","hexPad","hexlify","throwArgumentError","stripZeros","push","isBytesLike","Math","floor","encode","sig","splitSignature","recoveryParam","pop","r","s","rawTransaction","decode","toNumber","tx","error","console","log","hexZeroPad","isZero","slice","hash"]
}
