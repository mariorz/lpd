{
"version":3,
"file":"goog.debug.formatter.js",
"lineCount":182,
"mappings":"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",
"sources":["goog/debug/formatter.js"],
"sourcesContent":["// Copyright 2006 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview Definition of various formatters for logging. Please minimize\n * dependencies this file has on other closure classes as any dependency it\n * takes won't be able to use the logging infrastructure.\n *\n */\n\ngoog.provide('goog.debug.Formatter');\ngoog.provide('goog.debug.HtmlFormatter');\ngoog.provide('goog.debug.TextFormatter');\n\ngoog.require('goog.debug');\ngoog.require('goog.debug.Logger');\ngoog.require('goog.debug.RelativeTimeProvider');\ngoog.require('goog.html.SafeHtml');\ngoog.require('goog.html.SafeUrl');\ngoog.require('goog.html.uncheckedconversions');\ngoog.require('goog.string.Const');\n\n\n\n/**\n * Base class for Formatters. A Formatter is used to format a LogRecord into\n * something that can be displayed to the user.\n *\n * @param {string=} opt_prefix The prefix to place before text records.\n * @constructor\n */\ngoog.debug.Formatter = function(opt_prefix) {\n  this.prefix_ = opt_prefix || '';\n\n  /**\n   * A provider that returns the relative start time.\n   * @type {goog.debug.RelativeTimeProvider}\n   * @private\n   */\n  this.startTimeProvider_ =\n      goog.debug.RelativeTimeProvider.getDefaultInstance();\n};\n\n\n/**\n * Whether to append newlines to the end of formatted log records.\n * @type {boolean}\n */\ngoog.debug.Formatter.prototype.appendNewline = true;\n\n\n/**\n * Whether to show absolute time in the DebugWindow.\n * @type {boolean}\n */\ngoog.debug.Formatter.prototype.showAbsoluteTime = true;\n\n\n/**\n * Whether to show relative time in the DebugWindow.\n * @type {boolean}\n */\ngoog.debug.Formatter.prototype.showRelativeTime = true;\n\n\n/**\n * Whether to show the logger name in the DebugWindow.\n * @type {boolean}\n */\ngoog.debug.Formatter.prototype.showLoggerName = true;\n\n\n/**\n * Whether to show the logger exception text.\n * @type {boolean}\n */\ngoog.debug.Formatter.prototype.showExceptionText = false;\n\n\n/**\n * Whether to show the severity level.\n * @type {boolean}\n */\ngoog.debug.Formatter.prototype.showSeverityLevel = false;\n\n\n/**\n * Formats a record.\n * @param {goog.debug.LogRecord} logRecord the logRecord to format.\n * @return {string} The formatted string.\n */\ngoog.debug.Formatter.prototype.formatRecord = goog.abstractMethod;\n\n\n/**\n * Formats a record as SafeHtml.\n * @param {goog.debug.LogRecord} logRecord the logRecord to format.\n * @return {!goog.html.SafeHtml} The formatted string as SafeHtml.\n */\ngoog.debug.Formatter.prototype.formatRecordAsHtml = goog.abstractMethod;\n\n\n/**\n * Sets the start time provider. By default, this is the default instance\n * but can be changed.\n * @param {goog.debug.RelativeTimeProvider} provider The provider to use.\n */\ngoog.debug.Formatter.prototype.setStartTimeProvider = function(provider) {\n  this.startTimeProvider_ = provider;\n};\n\n\n/**\n * Returns the start time provider. By default, this is the default instance\n * but can be changed.\n * @return {goog.debug.RelativeTimeProvider} The start time provider.\n */\ngoog.debug.Formatter.prototype.getStartTimeProvider = function() {\n  return this.startTimeProvider_;\n};\n\n\n/**\n * Resets the start relative time.\n */\ngoog.debug.Formatter.prototype.resetRelativeTimeStart = function() {\n  this.startTimeProvider_.reset();\n};\n\n\n/**\n * Returns a string for the time/date of the LogRecord.\n * @param {goog.debug.LogRecord} logRecord The record to get a time stamp for.\n * @return {string} A string representation of the time/date of the LogRecord.\n * @private\n */\ngoog.debug.Formatter.getDateTimeStamp_ = function(logRecord) {\n  var time = new Date(logRecord.getMillis());\n  return goog.debug.Formatter.getTwoDigitString_((time.getFullYear() - 2000)) +\n      goog.debug.Formatter.getTwoDigitString_((time.getMonth() + 1)) +\n      goog.debug.Formatter.getTwoDigitString_(time.getDate()) + ' ' +\n      goog.debug.Formatter.getTwoDigitString_(time.getHours()) + ':' +\n      goog.debug.Formatter.getTwoDigitString_(time.getMinutes()) + ':' +\n      goog.debug.Formatter.getTwoDigitString_(time.getSeconds()) + '.' +\n      goog.debug.Formatter.getTwoDigitString_(\n          Math.floor(time.getMilliseconds() / 10));\n};\n\n\n/**\n * Returns the number as a two-digit string, meaning it prepends a 0 if the\n * number if less than 10.\n * @param {number} n The number to format.\n * @return {string} A two-digit string representation of `n`.\n * @private\n */\ngoog.debug.Formatter.getTwoDigitString_ = function(n) {\n  if (n < 10) {\n    return '0' + n;\n  }\n  return String(n);\n};\n\n\n/**\n * Returns a string for the number of seconds relative to the start time.\n * Prepads with spaces so that anything less than 1000 seconds takes up the\n * same number of characters for better formatting.\n * @param {goog.debug.LogRecord} logRecord The log to compare time to.\n * @param {number} relativeTimeStart The start time to compare to.\n * @return {string} The number of seconds of the LogRecord relative to the\n *     start time.\n * @private\n */\ngoog.debug.Formatter.getRelativeTime_ = function(logRecord, relativeTimeStart) {\n  var ms = logRecord.getMillis() - relativeTimeStart;\n  var sec = ms / 1000;\n  var str = sec.toFixed(3);\n\n  var spacesToPrepend = 0;\n  if (sec < 1) {\n    spacesToPrepend = 2;\n  } else {\n    while (sec < 100) {\n      spacesToPrepend++;\n      sec *= 10;\n    }\n  }\n  while (spacesToPrepend-- > 0) {\n    str = ' ' + str;\n  }\n  return str;\n};\n\n\n\n/**\n * Formatter that returns formatted html. See formatRecord for the classes\n * it uses for various types of formatted output.\n *\n * @param {string=} opt_prefix The prefix to place before text records.\n * @constructor\n * @extends {goog.debug.Formatter}\n */\ngoog.debug.HtmlFormatter = function(opt_prefix) {\n  goog.debug.Formatter.call(this, opt_prefix);\n};\ngoog.inherits(goog.debug.HtmlFormatter, goog.debug.Formatter);\n\n\n/**\n * Exposes an exception that has been caught by a try...catch and outputs the\n * error as HTML with a stack trace.\n *\n * @param {*} err Error object or string.\n * @param {?Function=} fn If provided, when collecting the stack trace all\n *     frames above the topmost call to this function, including that call,\n *     will be left out of the stack trace.\n * @return {string} Details of exception, as HTML.\n */\ngoog.debug.HtmlFormatter.exposeException = function(err, fn) {\n  var html = goog.debug.HtmlFormatter.exposeExceptionAsHtml(err, fn);\n  return goog.html.SafeHtml.unwrap(html);\n};\n\n\n/**\n * Exposes an exception that has been caught by a try...catch and outputs the\n * error with a stack trace.\n *\n * @param {*} err Error object or string.\n * @param {?Function=} fn If provided, when collecting the stack trace all\n *     frames above the topmost call to this function, including that call,\n *     will be left out of the stack trace.\n * @return {!goog.html.SafeHtml} Details of exception.\n */\ngoog.debug.HtmlFormatter.exposeExceptionAsHtml = function(err, fn) {\n  try {\n    var e = goog.debug.normalizeErrorObject(err);\n    // Create the error message\n    var viewSourceUrl =\n        goog.debug.HtmlFormatter.createViewSourceUrl_(e.fileName);\n    var error = goog.html.SafeHtml.concat(\n        goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces(\n            'Message: ' + e.message + '\\nUrl: '),\n        goog.html.SafeHtml.create(\n            'a', {href: viewSourceUrl, target: '_new'}, e.fileName),\n        goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces(\n            '\\nLine: ' + e.lineNumber + '\\n\\nBrowser stack:\\n' + e.stack +\n            '-> ' +\n            '[end]\\n\\nJS stack traversal:\\n' + goog.debug.getStacktrace(fn) +\n            '-> '));\n    return error;\n  } catch (e2) {\n    return goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces(\n        'Exception trying to expose exception! You win, we lose. ' + e2);\n  }\n};\n\n\n/**\n * @param {?string=} fileName\n * @return {!goog.html.SafeUrl} SafeUrl with view-source scheme, pointing at\n *     fileName.\n * @private\n */\ngoog.debug.HtmlFormatter.createViewSourceUrl_ = function(fileName) {\n  if (fileName == null) {\n    fileName = '';\n  }\n  if (!/^https?:\\/\\//i.test(fileName)) {\n    return goog.html.SafeUrl.fromConstant(\n        goog.string.Const.from('sanitizedviewsrc'));\n  }\n  var sanitizedFileName = goog.html.SafeUrl.sanitize(fileName);\n  return goog.html.uncheckedconversions\n      .safeUrlFromStringKnownToSatisfyTypeContract(\n          goog.string.Const.from('view-source scheme plus HTTP/HTTPS URL'),\n          'view-source:' + goog.html.SafeUrl.unwrap(sanitizedFileName));\n};\n\n\n\n/**\n * Whether to show the logger exception text\n * @type {boolean}\n * @override\n */\ngoog.debug.HtmlFormatter.prototype.showExceptionText = true;\n\n\n/**\n * Formats a record\n * @param {goog.debug.LogRecord} logRecord the logRecord to format.\n * @return {string} The formatted string as html.\n * @override\n */\ngoog.debug.HtmlFormatter.prototype.formatRecord = function(logRecord) {\n  if (!logRecord) {\n    return '';\n  }\n  // OK not to use goog.html.SafeHtml.unwrap() here.\n  return this.formatRecordAsHtml(logRecord).getTypedStringValue();\n};\n\n\n/**\n * Formats a record.\n * @param {goog.debug.LogRecord} logRecord the logRecord to format.\n * @return {!goog.html.SafeHtml} The formatted string as SafeHtml.\n * @override\n */\ngoog.debug.HtmlFormatter.prototype.formatRecordAsHtml = function(logRecord) {\n  if (!logRecord) {\n    return goog.html.SafeHtml.EMPTY;\n  }\n\n  var className;\n  switch (logRecord.getLevel().value) {\n    case goog.debug.Logger.Level.SHOUT.value:\n      className = 'dbg-sh';\n      break;\n    case goog.debug.Logger.Level.SEVERE.value:\n      className = 'dbg-sev';\n      break;\n    case goog.debug.Logger.Level.WARNING.value:\n      className = 'dbg-w';\n      break;\n    case goog.debug.Logger.Level.INFO.value:\n      className = 'dbg-i';\n      break;\n    case goog.debug.Logger.Level.FINE.value:\n    default:\n      className = 'dbg-f';\n      break;\n  }\n\n  // HTML for user defined prefix, time, logger name, and severity.\n  var sb = [];\n  sb.push(this.prefix_, ' ');\n  if (this.showAbsoluteTime) {\n    sb.push('[', goog.debug.Formatter.getDateTimeStamp_(logRecord), '] ');\n  }\n  if (this.showRelativeTime) {\n    sb.push(\n        '[', goog.debug.Formatter.getRelativeTime_(\n                 logRecord, this.startTimeProvider_.get()),\n        's] ');\n  }\n  if (this.showLoggerName) {\n    sb.push('[', logRecord.getLoggerName(), '] ');\n  }\n  if (this.showSeverityLevel) {\n    sb.push('[', logRecord.getLevel().name, '] ');\n  }\n  var fullPrefixHtml =\n      goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces(sb.join(''));\n\n  // HTML for exception text and log record.\n  var exceptionHtml = goog.html.SafeHtml.EMPTY;\n  if (this.showExceptionText && logRecord.getException()) {\n    exceptionHtml = goog.html.SafeHtml.concat(\n        goog.html.SafeHtml.BR,\n        goog.debug.HtmlFormatter.exposeExceptionAsHtml(\n            logRecord.getException()));\n  }\n  var logRecordHtml = goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces(\n      logRecord.getMessage());\n  var recordAndExceptionHtml = goog.html.SafeHtml.create(\n      'span', {'class': className},\n      goog.html.SafeHtml.concat(logRecordHtml, exceptionHtml));\n\n\n  // Combine both pieces of HTML and, if needed, append a final newline.\n  var html;\n  if (this.appendNewline) {\n    html = goog.html.SafeHtml.concat(\n        fullPrefixHtml, recordAndExceptionHtml, goog.html.SafeHtml.BR);\n  } else {\n    html = goog.html.SafeHtml.concat(fullPrefixHtml, recordAndExceptionHtml);\n  }\n  return html;\n};\n\n\n\n/**\n * Formatter that returns formatted plain text\n *\n * @param {string=} opt_prefix The prefix to place before text records.\n * @constructor\n * @extends {goog.debug.Formatter}\n * @final\n */\ngoog.debug.TextFormatter = function(opt_prefix) {\n  goog.debug.Formatter.call(this, opt_prefix);\n};\ngoog.inherits(goog.debug.TextFormatter, goog.debug.Formatter);\n\n\n/**\n * Formats a record as text\n * @param {goog.debug.LogRecord} logRecord the logRecord to format.\n * @return {string} The formatted string.\n * @override\n */\ngoog.debug.TextFormatter.prototype.formatRecord = function(logRecord) {\n  var sb = [];\n  sb.push(this.prefix_, ' ');\n  if (this.showAbsoluteTime) {\n    sb.push('[', goog.debug.Formatter.getDateTimeStamp_(logRecord), '] ');\n  }\n  if (this.showRelativeTime) {\n    sb.push(\n        '[', goog.debug.Formatter.getRelativeTime_(\n                 logRecord, this.startTimeProvider_.get()),\n        's] ');\n  }\n\n  if (this.showLoggerName) {\n    sb.push('[', logRecord.getLoggerName(), '] ');\n  }\n  if (this.showSeverityLevel) {\n    sb.push('[', logRecord.getLevel().name, '] ');\n  }\n  sb.push(logRecord.getMessage());\n  if (this.showExceptionText) {\n    var exception = logRecord.getException();\n    if (exception) {\n      var exceptionText =\n          exception instanceof Error ? exception.message : exception.toString();\n      sb.push('\\n', exceptionText);\n    }\n  }\n  if (this.appendNewline) {\n    sb.push('\\n');\n  }\n  return sb.join('');\n};\n\n\n/**\n * Formats a record as text\n * @param {goog.debug.LogRecord} logRecord the logRecord to format.\n * @return {!goog.html.SafeHtml} The formatted string as SafeHtml. This is\n *     just an HTML-escaped version of the text obtained from formatRecord().\n * @override\n */\ngoog.debug.TextFormatter.prototype.formatRecordAsHtml = function(logRecord) {\n  return goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces(\n      goog.debug.TextFormatter.prototype.formatRecord(logRecord));\n};\n"],
"names":["goog","provide","require","debug","Formatter","goog.debug.Formatter","opt_prefix","prefix_","startTimeProvider_","RelativeTimeProvider","getDefaultInstance","prototype","appendNewline","showAbsoluteTime","showRelativeTime","showLoggerName","showExceptionText","showSeverityLevel","formatRecord","abstractMethod","formatRecordAsHtml","setStartTimeProvider","goog.debug.Formatter.prototype.setStartTimeProvider","provider","getStartTimeProvider","goog.debug.Formatter.prototype.getStartTimeProvider","resetRelativeTimeStart","goog.debug.Formatter.prototype.resetRelativeTimeStart","reset","getDateTimeStamp_","goog.debug.Formatter.getDateTimeStamp_","logRecord","time","Date","getMillis","getTwoDigitString_","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","goog.debug.Formatter.getTwoDigitString_","n","String","getRelativeTime_","goog.debug.Formatter.getRelativeTime_","relativeTimeStart","ms","sec","str","toFixed","spacesToPrepend","HtmlFormatter","goog.debug.HtmlFormatter","call","inherits","exposeException","goog.debug.HtmlFormatter.exposeException","err","fn","html","exposeExceptionAsHtml","SafeHtml","unwrap","goog.debug.HtmlFormatter.exposeExceptionAsHtml","e","normalizeErrorObject","viewSourceUrl","createViewSourceUrl_","fileName","error","concat","htmlEscapePreservingNewlinesAndSpaces","message","create","href","target","lineNumber","stack","getStacktrace","e2","goog.debug.HtmlFormatter.createViewSourceUrl_","test","SafeUrl","fromConstant","string","Const","from","sanitizedFileName","sanitize","uncheckedconversions","safeUrlFromStringKnownToSatisfyTypeContract","goog.debug.HtmlFormatter.prototype.formatRecord","getTypedStringValue","goog.debug.HtmlFormatter.prototype.formatRecordAsHtml","EMPTY","className","getLevel","value","Logger","Level","SHOUT","SEVERE","WARNING","INFO","FINE","sb","push","get","getLoggerName","name","fullPrefixHtml","join","exceptionHtml","getException","BR","logRecordHtml","getMessage","recordAndExceptionHtml","TextFormatter","goog.debug.TextFormatter","goog.debug.TextFormatter.prototype.formatRecord","exception","exceptionText","Error","toString","goog.debug.TextFormatter.prototype.formatRecordAsHtml"]
}
