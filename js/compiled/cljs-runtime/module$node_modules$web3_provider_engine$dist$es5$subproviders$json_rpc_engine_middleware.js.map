{
"version":3,
"file":"module$node_modules$web3_provider_engine$dist$es5$subproviders$json_rpc_engine_middleware.js",
"lineCount":8,
"mappings":"AAAAA,cAAA,CAAe,yFAAf,CAA8G,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAGtJC,QAASA,QAAO,CAACC,YAAD,CAAM,CAAE,yBAAsGD,QAAA,CAArD,UAAtB,GAAI,MAAOE,OAAX,EAA+D,QAA/D,GAAoC,MAAOA,OAAP,CAAcC,QAAlD,CAAqFH,QAAgB,CAACC,GAAD,CAAM,CAAE,MAAO,OAAOA,IAAhB,CAA3G,CAAsJD,QAAgB,CAACC,GAAD,CAAM,CAAE,MAAOA,IAAA,EAAyB,UAAzB,GAAO,MAAOC,OAAd,EAAuCD,GAAvC,CAA2CG,WAA3C,GAA2DF,MAA3D,EAAqED,GAArE,GAA6EC,MAA7E,CAAoFG,SAApF,CAAgG,QAAhG,CAA2G,MAAOJ,IAA3H,CAAqI,OAAOD,QAAA,CAAQC,YAAR,CAArV,CAItBK,QAASA,kBAAiB,CAACC,MAAD,CAASC,KAAT,CAAgB,CAAE,IAAK,IAAIC;AAAI,CAAb,CAAgBA,CAAhB,CAAoBD,KAApB,CAA0BE,MAA1B,CAAkCD,CAAA,EAAlC,CAAuC,CAAE,IAAIE,WAAaH,KAAA,CAAMC,CAAN,CAAUE,WAAA,CAAWC,UAAX,CAAwBD,UAAxB,CAAmCC,UAAnC,EAAiD,CAAA,CAAOD,WAAA,CAAWE,YAAX,CAA0B,CAAA,CAAU,QAAJ,EAAeF,WAAf,GAA2BA,UAA3B,CAAsCG,QAAtC,CAAiD,CAAA,CAAjD,CAAuDC,OAAA,CAAOC,cAAP,CAAsBT,MAAtB,CAA8BI,UAA9B,CAAyCM,GAAzC,CAA8CN,UAA9C,CAA5K,CAAzC,CAE1CO,QAASA,aAAY,CAACC,WAAD,CAAcC,UAAd,CAA0BC,WAA1B,CAAuC,CAAMD,UAAJ,EAAgBd,iBAAA,CAAkBa,WAAlB,CAA8Bd,SAA9B,CAAyCe,UAAzC,CAA0DC,YAAJ,EAAiBf,iBAAA,CAAkBa,WAAlB,CAA+BE,WAA/B,CAA6C,OAAOF,YAA7I,CAE5DG,QAASA,UAAS,CAACC,QAAD,CAAWC,UAAX,CAAuB,CAAE,GAA0B,UAA1B,GAAI,MAAOA,WAAX,EAAuD,IAAvD;AAAwCA,UAAxC,CAA+D,KAAM,KAAIC,SAAJ,CAAc,oDAAd,CAAN,CAA6EF,QAAA,CAASlB,SAAT,CAAqBU,MAAA,CAAOW,MAAP,CAAcF,UAAd,EAA4BA,UAA5B,CAAuCnB,SAAvC,CAAkD,CAAED,YAAa,CAAEuB,MAAOJ,QAAT,CAAmBT,SAAU,CAAA,CAA7B,CAAmCD,aAAc,CAAA,CAAjD,CAAf,CAAlD,CAAiIW,WAAJ,EAAgBI,eAAA,CAAgBL,QAAhB,CAA0BC,UAA1B,CAAhT,CAEzCI,QAASA,gBAAe,CAACC,UAAD,CAAIC,UAAJ,CAAO,CAAEF,eAAA,CAAkBb,MAAlB,CAAyBgB,cAAzB,EAA2CH,QAAwB,CAACC,CAAD,CAAIC,CAAJ,CAAO,CAAED,CAAA,CAAEG,SAAF,CAAcF,CAAG,OAAOD,EAA1B,CAAgC,OAAOD,gBAAA,CAAgBC,UAAhB,CAAmBC,UAAnB,CAAnH,CAE/BG,QAASA,aAAY,CAACC,OAAD,CAAU,CAAE,MAAO,SAAS,EAAG,CAAA,IAAMC,MAAQC,eAAA,CAAgBF,OAAhB,CAAkC;GAAIG,yBAAA,EAAJ,CAAiC,CAAE,IAAIC,UAAYF,eAAA,CAAgB,IAAhB,CAAZE,CAAkClC,WAAamC,MAAA,CAASC,OAAA,CAAQC,SAAR,CAAkBN,KAAlB,CAAyBO,SAAzB,CAAoCJ,SAApC,CAA9D,CAAjC,IAAwJC,MAAA,CAASJ,KAAA,CAAMQ,KAAN,CAAY,IAAZ,CAAkBD,SAAlB,CAEnN,IAAIE,CAAAA,KAAJ,EAA+B,QAA/B,GAAa5C,OAAA,CAAQ4C,KAAR,CAAb,EAA2D,UAA3D,GAA2C,MAAOA,MAAlD,CAAA,CAEV,GAAa,IAAK,EAAlB,GAF0GC,IAE1G,CAAuB,KAAM,KAAIC,cAAJ,CAAmB,2DAAnB,CAAN,CAAyF,KAAA,CAFND,IAAhG,CAFmP,MAEnP,MAFE,CAArB,CAM/BR,QAASA,0BAAyB,EAAG,CAA0E,GAAjD,WAAiD,GAApE,MAAOG,QAA6D,EAAlC,CAACA,OAAD,CAASC,SAAyB,EAAID,OAAJ,CAAYC,SAAZ,CAAsBM,IAAtB,CAA4B,MAAO,CAAA,CAAO,IAAqB,UAArB;AAAI,MAAOC,MAAX,CAAiC,MAAO,CAAA,CAAM,IAAI,CAA6E,MAA3EC,KAAA,CAAK5C,SAAL,CAAe6C,QAAf,CAAwBN,IAAxB,CAA6BJ,OAAA,CAAQC,SAAR,CAAkBQ,IAAlB,CAAwB,EAAxB,CAA4B,QAAS,EAAG,EAAxC,CAA7B,CAAkF,CAAA,CAAA,CAApF,CAA4F,MAAOE,CAAP,CAAU,CAAE,MAAO,CAAA,CAAT,CAA5Q,CAErCf,QAASA,gBAAe,CAACP,UAAD,CAAI,CAAEO,eAAA,CAAkBrB,MAAA,CAAOgB,cAAP,CAAwBhB,MAAxB,CAA+BqC,cAA/B,CAAgDhB,QAAwB,CAACP,CAAD,CAAI,CAAE,MAAOA,EAAP,CAASG,SAAT,EAAsBjB,MAAA,CAAOqC,cAAP,CAAsBvB,CAAtB,CAAxB,CAAqD,OAAOO,gBAAA,CAAgBP,UAAhB,CAA5J,CAKxBwB,MAAAA,CAAkD,QAAS,CAACC,YAAD,CAAe,CAM5ED,QAASA,mCAAkC,CAACE,aAAD,CAAgB,CA7BX,GAAI,EAgClCC,IAhCkC,WAgC5BH,mCAhC4B,CAAJ,CAA0C,KAAM,KAAI5B,SAAJ,CAAc,mCAAd,CAAN;AAkCxF,IAAAgC,MAAQC,MAAA,CAAOd,IAAP,CAAY,IAAZ,CACR,IAAI,CAACW,aAAL,CAAoB,KAAUI,MAAJ,CAAU,iEAAV,CAAN,CACpBF,KAAA,CAAMG,cAAN,CAAuBL,aACvB,OAAOE,MARkD,CAL3DnC,SAAA,CAAU+B,kCAAV,CAA8CC,YAA9C,CAEA,KAAII,OAASzB,YAAA,CAAaoB,kCAAb,CAebnC,aAAA,CAAamC,kCAAb,CAAiD,CAAC,CAChDpC,IAAK,WAD2C,CAEhDU,MAAOkC,QAAkB,CAACC,MAAD,CAAS,CAChC,GAAI,IAAJ,CAASC,UAAT,CAAqB,KAAUJ,MAAJ,CAAU,wEAAV,CAAN,CAGjBI,MAAAA,CAAa,IAAA,CAAKH,cAAL,CAAoB,CAC3BE,MAD2B;AAEnCE,SAAUF,MAFyB,CAGnCG,aALiBH,MAKjBG,CALwBC,aAEW,CAApB,CAMjB,IAAI,CAACH,MAAL,CAAiB,KAAUJ,MAAJ,CAAU,+EAAV,CAAN,CACjB,GAA0B,UAA1B,GAAI,MAAOI,OAAX,CAAsC,KAAUJ,MAAJ,CAAU,6EAAV,CAAN,CACtC,IAAA,CAAKI,UAAL,CAAkBA,MAZc,CAFc,CAAD,CAgB9C,CACD9C,IAAK,eADJ,CAEDU,MAAOwC,QAAsB,CAACC,GAAD,CAAMC,WAAN,CAAmBC,UAAnB,CAA+B,CAC1D,IAAIC,IAAM,CACRC,GAAIJ,GAAJI,CAAQA,EADA,CAGV,KAAA,CAAKT,UAAL,CAAgBK,GAAhB,CAAqBG,GAArB,CAEAE,QAAuB,CAACC,OAAD,CAAU,CAC/BL,WAAA,CAAY,QAAS,CAACM,GAAD,CAAMpC,MAAN,CAAcqC,EAAd,CAAkB,CAEjCD,GAAJ,EACE,OAAOJ,GAAP,CAAWhC,MACX,CAAAgC,GAAA,CAAIM,KAAJ,CAAY,CACVC,QAASH,GAATG,CAAaA,OAAbA;AAAwBH,GADd,CAFd,EAMEJ,GANF,CAMMhC,MANN,CAMeA,MAIXmC,QAAJ,CACEA,OAAA,CAAQE,EAAR,CADF,CAGEA,EAAA,EAfmC,CAAvC,CAD+B,CAFjC,CAuBAG,QAAsB,CAACJ,GAAD,CAAM,CAC1B,GAAIA,GAAJ,CAAS,MAAOL,WAAA,CAAWK,GAAX,CAChBL,WAAA,CAAW,IAAX,CAAiBC,GAAjB,CAAqBhC,MAArB,CAF0B,CAvB5B,CAJ0D,CAF3D,CAhB8C,CAAjD,CAoDA,OAAOc,mCAtEqE,CAAxB,CAHpCxD,OAAAmF,CAAQ,4EAARA,CAGoC,CAyEtDlF,OAAA,CAAOC,OAAP,CAAiBsD,MArGqI;",
"sources":["node_modules/web3-provider-engine/dist/es5/subproviders/json-rpc-engine-middleware.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$web3_provider_engine$dist$es5$subproviders$json_rpc_engine_middleware\"] = function(global,require,module,exports) {\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar Subprovider = require('./subprovider.js'); // wraps a json-rpc-engine middleware in a subprovider interface\n\n\nvar JsonRpcEngineMiddlewareSubprovider = /*#__PURE__*/function (_Subprovider) {\n  _inherits(JsonRpcEngineMiddlewareSubprovider, _Subprovider);\n\n  var _super = _createSuper(JsonRpcEngineMiddlewareSubprovider);\n\n  // take a constructorFn to call once we have a reference to the engine\n  function JsonRpcEngineMiddlewareSubprovider(constructorFn) {\n    var _this;\n\n    _classCallCheck(this, JsonRpcEngineMiddlewareSubprovider);\n\n    _this = _super.call(this);\n    if (!constructorFn) throw new Error('JsonRpcEngineMiddlewareSubprovider - no constructorFn specified');\n    _this._constructorFn = constructorFn;\n    return _this;\n  } // this is called once the subprovider has been added to the provider engine\n\n\n  _createClass(JsonRpcEngineMiddlewareSubprovider, [{\n    key: \"setEngine\",\n    value: function setEngine(engine) {\n      if (this.middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - subprovider added to engine twice');\n      var blockTracker = engine._blockTracker;\n\n      var middleware = this._constructorFn({\n        engine: engine,\n        provider: engine,\n        blockTracker: blockTracker\n      });\n\n      if (!middleware) throw new Error('JsonRpcEngineMiddlewareSubprovider - _constructorFn did not return middleware');\n      if (typeof middleware !== 'function') throw new Error('JsonRpcEngineMiddlewareSubprovider - specified middleware is not a function');\n      this.middleware = middleware;\n    }\n  }, {\n    key: \"handleRequest\",\n    value: function handleRequest(req, provEngNext, provEngEnd) {\n      var res = {\n        id: req.id\n      };\n      this.middleware(req, res, middlewareNext, middlewareEnd);\n\n      function middlewareNext(handler) {\n        provEngNext(function (err, result, cb) {\n          // update response object with result or error\n          if (err) {\n            delete res.result;\n            res.error = {\n              message: err.message || err\n            };\n          } else {\n            res.result = result;\n          } // call middleware's next handler (even if error)\n\n\n          if (handler) {\n            handler(cb);\n          } else {\n            cb();\n          }\n        });\n      }\n\n      function middlewareEnd(err) {\n        if (err) return provEngEnd(err);\n        provEngEnd(null, res.result);\n      }\n    }\n  }]);\n\n  return JsonRpcEngineMiddlewareSubprovider;\n}(Subprovider);\n\nmodule.exports = JsonRpcEngineMiddlewareSubprovider;\n};"],
"names":["shadow$provide","global","require","module","exports","_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","Constructor","protoProps","staticProps","_inherits","subClass","superClass","TypeError","create","value","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","Super","_getPrototypeOf","_isNativeReflectConstruct","NewTarget","result","Reflect","construct","arguments","apply","call","self","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","JsonRpcEngineMiddlewareSubprovider","_Subprovider","constructorFn","instance","_this","_super","Error","_constructorFn","setEngine","engine","middleware","provider","blockTracker","_blockTracker","handleRequest","req","provEngNext","provEngEnd","res","id","middlewareNext","handler","err","cb","error","message","middlewareEnd","Subprovider"]
}
