shadow$provide.module$node_modules$$ethersproject$hdnode$lib$index=function(global,require,module,exports){function bytes32(value){return bytes_1.hexZeroPad(bytes_1.hexlify(value),32)}function base58check(data){return basex_1.Base58.encode(bytes_1.concat([data,bytes_1.hexDataSlice(sha2_1.sha256(sha2_1.sha256(data)),0,4)]))}function getWordlist(wordlist){if(null==wordlist)return wordlists_1.wordlists.en;if("string"===typeof wordlist){var words=wordlists_1.wordlists[wordlist];null==words&&logger.throwArgumentError("unknown locale",
"wordlist",wordlist);return words}return wordlist}function mnemonicToSeed(mnemonic,password){password||(password="");password=strings_1.toUtf8Bytes("mnemonic"+password,strings_1.UnicodeNormalizationForm.NFKD);return pbkdf2_1.pbkdf2(strings_1.toUtf8Bytes(mnemonic,strings_1.UnicodeNormalizationForm.NFKD),password,2048,64,"sha512")}function mnemonicToEntropy(mnemonic,wordlist){wordlist=getWordlist(wordlist);logger.checkNormalize();var words=wordlist.split(mnemonic);if(0!==words.length%3)throw Error("invalid mnemonic");
mnemonic=bytes_1.arrayify(new Uint8Array(Math.ceil(11*words.length/8)));for(var offset=0,i=0;i<words.length;i++){var index=wordlist.getWordIndex(words[i].normalize("NFKD"));if(-1===index)throw Error("invalid mnemonic");for(var bit=0;11>bit;bit++)index&1<<10-bit&&(mnemonic[offset>>3]|=1<<7-offset%8),offset++}wordlist=32*words.length/3;words=words.length/3;words=(1<<words)-1<<8-words;if((bytes_1.arrayify(sha2_1.sha256(mnemonic.slice(0,wordlist/8)))[0]&words)!==(mnemonic[mnemonic.length-1]&words))throw Error("invalid checksum");
return bytes_1.hexlify(mnemonic.slice(0,wordlist/8))}function entropyToMnemonic(entropy,wordlist){wordlist=getWordlist(wordlist);entropy=bytes_1.arrayify(entropy);if(0!==entropy.length%4||16>entropy.length||32<entropy.length)throw Error("invalid entropy");for(var indices=[0],remainingBits=11,i=0;i<entropy.length;i++)8<remainingBits?(indices[indices.length-1]<<=8,indices[indices.length-1]|=entropy[i],remainingBits-=8):(indices[indices.length-1]<<=remainingBits,indices[indices.length-1]|=entropy[i]>>
8-remainingBits,indices.push(entropy[i]&(1<<8-remainingBits)-1),remainingBits+=3);remainingBits=entropy.length/4;entropy=bytes_1.arrayify(sha2_1.sha256(entropy))[0]&(1<<remainingBits)-1<<8-remainingBits;indices[indices.length-1]<<=remainingBits;indices[indices.length-1]|=entropy>>8-remainingBits;return wordlist.join(indices.map(function(index){return wordlist.getWord(index)}))}Object.defineProperty(exports,"__esModule",{value:!0});exports.isValidMnemonic=exports.entropyToMnemonic=exports.mnemonicToEntropy=
exports.mnemonicToSeed=exports.HDNode=exports.defaultPath=void 0;var basex_1=require("module$node_modules$$ethersproject$basex$lib$index"),bytes_1=require("module$node_modules$$ethersproject$bytes$lib$index"),bignumber_1=require("module$node_modules$$ethersproject$bignumber$lib$index"),strings_1=require("module$node_modules$$ethersproject$strings$lib$index"),pbkdf2_1=require("module$node_modules$$ethersproject$pbkdf2$lib$index"),properties_1=require("module$node_modules$$ethersproject$properties$lib$index"),
signing_key_1=require("module$node_modules$$ethersproject$signing_key$lib$index"),sha2_1=require("module$node_modules$$ethersproject$sha2$lib$index"),transactions_1=require("module$node_modules$$ethersproject$transactions$lib$index"),wordlists_1=require("module$node_modules$$ethersproject$wordlists$lib$index");global=require("module$node_modules$$ethersproject$logger$lib$index");require=require("module$node_modules$$ethersproject$hdnode$lib$_version");var logger=new global.Logger(require.version),
N=bignumber_1.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),MasterSecret=strings_1.toUtf8Bytes("Bitcoin seed"),_constructorGuard={};exports.defaultPath="m/44'/60'/0'/0/0";require=function(){function HDNode(constructorGuard,privateKey,publicKey,parentFingerprint,chainCode,index,depth,mnemonicOrPath){logger.checkNew(this.constructor,HDNode);if(constructorGuard!==_constructorGuard)throw Error("HDNode constructor cannot be called directly");privateKey?(constructorGuard=
new signing_key_1.SigningKey(privateKey),properties_1.defineReadOnly(this,"privateKey",constructorGuard.privateKey),properties_1.defineReadOnly(this,"publicKey",constructorGuard.compressedPublicKey)):(properties_1.defineReadOnly(this,"privateKey",null),properties_1.defineReadOnly(this,"publicKey",bytes_1.hexlify(publicKey)));properties_1.defineReadOnly(this,"parentFingerprint",parentFingerprint);properties_1.defineReadOnly(this,"fingerprint",bytes_1.hexDataSlice(sha2_1.ripemd160(sha2_1.sha256(this.publicKey)),
0,4));properties_1.defineReadOnly(this,"address",transactions_1.computeAddress(this.publicKey));properties_1.defineReadOnly(this,"chainCode",chainCode);properties_1.defineReadOnly(this,"index",index);properties_1.defineReadOnly(this,"depth",depth);null==mnemonicOrPath?(properties_1.defineReadOnly(this,"mnemonic",null),properties_1.defineReadOnly(this,"path",null)):"string"===typeof mnemonicOrPath?(properties_1.defineReadOnly(this,"mnemonic",null),properties_1.defineReadOnly(this,"path",mnemonicOrPath)):
(properties_1.defineReadOnly(this,"mnemonic",mnemonicOrPath),properties_1.defineReadOnly(this,"path",mnemonicOrPath.path))}Object.defineProperty(HDNode.prototype,"extendedKey",{get:function(){if(256<=this.depth)throw Error("Depth too large!");return base58check(bytes_1.concat([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",bytes_1.hexlify(this.depth),this.parentFingerprint,bytes_1.hexZeroPad(bytes_1.hexlify(this.index),4),this.chainCode,null!=this.privateKey?bytes_1.concat(["0x00",this.privateKey]):
this.publicKey]))},enumerable:!1,configurable:!0});HDNode.prototype.neuter=function(){return new HDNode(_constructorGuard,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)};HDNode.prototype._derive=function(index){if(4294967295<index)throw Error("invalid index - "+String(index));var path=this.path;path&&(path+="/"+(index&2147483647));var data=new Uint8Array(37);if(index&2147483648){if(!this.privateKey)throw Error("cannot derive child of neutered node");data.set(bytes_1.arrayify(this.privateKey),
1);path&&(path+="'")}else data.set(bytes_1.arrayify(this.publicKey));for(var i=24;0<=i;i-=8)data[33+(i>>3)]=index>>24-i&255;data=bytes_1.arrayify(sha2_1.computeHmac(sha2_1.SupportedAlgorithm.sha512,this.chainCode,data));var IL=data.slice(0,32);data=data.slice(32);var Ki=i=null;this.privateKey?i=bytes32(bignumber_1.BigNumber.from(IL).add(this.privateKey).mod(N)):Ki=(new signing_key_1.SigningKey(bytes_1.hexlify(IL)))._addPoint(this.publicKey);IL=path;var srcMnemonic=this.mnemonic;srcMnemonic&&(IL=Object.freeze({phrase:srcMnemonic.phrase,
path,locale:srcMnemonic.locale||"en"}));return new HDNode(_constructorGuard,i,Ki,this.fingerprint,bytes32(data),index,this.depth+1,IL)};HDNode.prototype.derivePath=function(path){var components=path.split("/");if(0===components.length||"m"===components[0]&&0!==this.depth)throw Error("invalid path - "+path);"m"===components[0]&&components.shift();path=this;for(var i=0;i<components.length;i++){var component=components[i];if(component.match(/^[0-9]+'$/)){var index=parseInt(component.substring(0,component.length-
1));if(2147483648<=index)throw Error("invalid path index - "+component);path=path._derive(2147483648+index)}else if(component.match(/^[0-9]+$/)){index=parseInt(component);if(2147483648<=index)throw Error("invalid path index - "+component);path=path._derive(index)}else throw Error("invalid path component - "+component);}return path};HDNode._fromSeed=function(seed,mnemonic){seed=bytes_1.arrayify(seed);if(16>seed.length||64<seed.length)throw Error("invalid seed");seed=bytes_1.arrayify(sha2_1.computeHmac(sha2_1.SupportedAlgorithm.sha512,
MasterSecret,seed));return new HDNode(_constructorGuard,bytes32(seed.slice(0,32)),null,"0x00000000",bytes32(seed.slice(32)),0,0,mnemonic)};HDNode.fromMnemonic=function(mnemonic,password,wordlist){wordlist=getWordlist(wordlist);mnemonic=entropyToMnemonic(mnemonicToEntropy(mnemonic,wordlist),wordlist);return HDNode._fromSeed(mnemonicToSeed(mnemonic,password),{phrase:mnemonic,path:"m",locale:wordlist.locale})};HDNode.fromSeed=function(seed){return HDNode._fromSeed(seed,null)};HDNode.fromExtendedKey=
function(extendedKey){var bytes=basex_1.Base58.decode(extendedKey);82===bytes.length&&base58check(bytes.slice(0,78))===extendedKey||logger.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");extendedKey=bytes[4];var parentFingerprint=bytes_1.hexlify(bytes.slice(5,9)),index=parseInt(bytes_1.hexlify(bytes.slice(9,13)).substring(2),16),chainCode=bytes_1.hexlify(bytes.slice(13,45)),key=bytes.slice(45,78);switch(bytes_1.hexlify(bytes.slice(0,4))){case "0x0488b21e":case "0x043587cf":return new HDNode(_constructorGuard,
null,bytes_1.hexlify(key),parentFingerprint,chainCode,index,extendedKey,null);case "0x0488ade4":case "0x04358394 ":if(0===key[0])return new HDNode(_constructorGuard,bytes_1.hexlify(key.slice(1)),null,parentFingerprint,chainCode,index,extendedKey,null)}return logger.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")};return HDNode}();exports.HDNode=require;exports.mnemonicToSeed=mnemonicToSeed;exports.mnemonicToEntropy=mnemonicToEntropy;exports.entropyToMnemonic=entropyToMnemonic;
exports.isValidMnemonic=function(mnemonic,wordlist){try{return mnemonicToEntropy(mnemonic,wordlist),!0}catch(error){}return!1}}
//# sourceMappingURL=module$node_modules$$ethersproject$hdnode$lib$index.js.map
