{"version":3,"sources":["revert/demo_views.cljs"],"mappings":";AAMA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKA;AAuBL,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKC;AAuBL,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKC;AAoBL,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAKC;AAsBL,AAAKC,AACH,AAACC,AAAI,AAAKC;AAAL,AAAQ,AAAA,AAAO,AAAA,AAAG,AAAGA,AAAE,AAACC,AAAML;AAC9BA;AAEP,AAAKM,AACH,AAACH,AAAI,AAAKC;AAAL,AAAQ,AAAA,AAAO,AAAA,AAAG,AAAGA,AAAE,AAACC,AAAMJ;AAC9BA;AAEP,AAAKM,AACH,AAACJ,AAAI,AAAKK,AAAEC;AAAP,AAAU,AAACC,AAAS,AAAGF,AAAEC;AACzBP,AACAI;AAGP,AAAKK,AACH,AAACR,AAAI,AAAKS,AAAEC;AAAP,AAAU,AAAGD,AAAEC;AACfd,AACAD;AAEP,AAAA,AAAMgB;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAIM;;AAsDN,AAAA,AAAMC;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAIM;;AAgBN,AAAA,AAAMC;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAIK,AAGyB,AAOO,AAGJ,AAGA,AAmDvBC,AAAc,AAACd,AAAIe,AAAKP,AAIxBM,AAAc,AAACd,AAAIe,AAAKpB,AAIxBqB,AAAmB,AAAChB,AAAIe,AAAK,AAACE,AAAQrB,AAKtCkB,AAAc,AAACd,AAAIe,AAAKX,AAIxBU,AAAc,AAACd,AAAIe,AAAKlB,AAIxBiB,AAAc,AAACd,AAAIe,AAAKjB,AACvBoB;;AAGX,AAAA,AAAMC;AAAN,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAGIC,AAIG,AAYFP,AACAF,AACAC,AAEAS","names":["revert.demo-views/example-reserves","revert.demo-views/example-volume","revert.demo-views/price0-example","revert.demo-views/price1-example","revert.demo-views/price0-change","cljs.core.map","n","cljs.core/first","revert.demo-views/price1-change","revert.demo-views/divergence-example","a","b","Math/abs","revert.demo-views/example-ratio","v","r","revert.demo-views/demo-lp-glossary","revert.demo-views/demo-pool-glossary","revert.demo-views/demo-lp-pos","revert.common-views/spark-line","revert.utils/bn","revert.common-views/spark-line-bars","cljs.core/reverse","revert.common-views/separator-str","revert.demo-views/pos-demo","revert.common-views/site-header","revert.common-views/footer-links"],"sourcesContent":["(ns revert.demo-views\n  (:require\n   [reagent.core :as reagent]\n   [revert.common-views :as cv]\n   [revert.utils :as u]))\n\n(def example-reserves\n  [12606962.83\n   12206962.83\n   12306962.83\n   12606962.83\n   14606962.83\n   14606962.83\n   20606962.83\n   22406962.83\n   22906962.83\n   22806962.83\n   22406962.83\n   22106962.83\n   23006962.83\n   24606962.83\n   21606962.83\n   22606962.83\n   11506962.83\n   12106962.83\n   14606962.83\n   12806962.83\n   12606962.83])\n\n(def example-volume\n  [2606962.83\n   2206962.83\n   2306962.83\n   2606962.83\n   4606962.83\n   4606962.83\n   0606962.83\n   2406962.83\n   2906962.83\n   2806962.83\n   2406962.83\n   2106962.83\n   3006962.83\n   4606962.83\n   1606962.83\n   2606962.83\n   1506962.83\n   2106962.83\n   4606962.83\n   2806962.83\n   2606962.83])\n\n(def price0-example\n  [130.34\n   124.23\n   135.34\n   137.34\n   157.03\n   164.23\n   159.34\n   189.34\n   194.23\n   201.34\n   212.34\n   209.43\n   195.34\n   219.34\n   229.34\n   249.34\n   253.34\n   260.34])\n\n(def price1-example\n  [5354.22\n   5934.34\n   6345.12\n   5502.34\n   6504.34\n   6600.34\n   6234.56\n   8436.44\n   7434.34\n   7343.43\n   9532.11\n   9134.20\n   8542.34\n   9343.12\n   9434.11\n   10454.22\n   11344.11\n   11934.31\n   11434.11\n   12340.43])\n\n(def price0-change\n  (map (fn [n] (* 100 (- (/ n (first price0-example)) 1)))\n       price0-example))\n\n(def price1-change\n  (map (fn [n] (* 100 (- (/ n (first price1-example)) 1)))\n       price1-example))\n\n(def divergence-example\n  (map (fn [a b] (Math/abs (- a b)))\n       price0-change\n       price1-change))\n\n\n(def example-ratio\n  (map (fn [v r] (/ v r))\n       example-volume\n       example-reserves))\n\n(defn demo-lp-glossary []\n  [:div\n     [:div\n      [:div {:class \"subtitle\" :style {:float \"left\" :width \"50%\"}}\n      (str \"lp_definitions_\")]]\n    [:br]\n    [:div {:class \"inner-box\" :style {:display \"inline-block\" :width \"100%\"}}\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"assets_value:\"][:br]\n      \"Value in USD of the LP tokens detected as owned by the account, computed using the amount of underlying assets and current coingecko prices.\"]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"pool_pnl:\"][:br]\n      \"Profit and loss for the LP position from only fees accrued and price divergence.\"\n      [:pre\n       \"Pool PnL =  value of current LP underlying tokens\n            - value of tokens deposited (at current price)\n            + value of tokens withdrawn (at current price)\"]]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"total_pnl:\"][:br]\n      \"Profit and loss for the LP position from fees accrued, price divergence, gas costs, and reward incentives\"\n      [:pre\n       \"Total PnL =   value of current LP underlying tokens\n              - value of tokens deposited (at current price)\n              + value of tokens withdrawn (at current price)\n              + pending rewards at current prices\n              + claimed rewards at current price\n              - gas costs for all deposit and withdrawal transactions at current ETH price.\"]]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"lp-pos-subtitle\"} \"current_assets:\"][:br]\n      \"The amount of underlying tokens corresponding to this LP position.\nComputed by taking all the pool LP tokens minted by the account, and subtracting any LP tokens that were burned for a withdrawal, as well as total current LP tokens for the pool, and the total amount of underlying assets.\"]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"invested_assets:\"][:br]\n      \"The sum of all assets invested in the LP position, obtained from the respective mint transactions for the account and pool.\"]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"withdrawn_assets:\"][:br]\n      \"The sum of all assets withdrawn out of the LP position, obtained from the respective burn transactions for the account and pool.\"]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"diffs:\"][:br]\n      \"The difference between the assets invested, subtracting the assets withdrawn, and the current assets in the LP position.\" [:pre\n\"diffs = current assets\n        - invested assets\n        + withdrawn asset\"]]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"staking_rewards:\"][:br]\n      \"The sum of all detected staking rewards (claimed and unclaimed) at current prices for the reward assets.\"]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"unclaimed_rewards:\"][:br]\n      \"The sum of all detected unclaimed staking reward assets for the account and pool.\"]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"claimed_rewards:\"][:br]\n      \"The sum of all detected claimed staking reward assets for the account and pool.\"]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"lp_tokens:\"][:br]\n      \"LP tokens owned by the account. Computed by taking the LP tokens minted and subtracting any LP tokens that were burned for a withdrawal\"]\n     [:br]]])\n\n\n(defn demo-pool-glossary []\n  [:div\n     [:div\n      [:div {:class \"subtitle\" :style {:float \"left\" :width \"50%\"}}\n      (str \"pool_definitions_\")]]\n    [:br]\n    [:div {:class \"inner-box\" :style {:display \"inline-block\" :width \"100%\"}}\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"reserves:\"][:br]\n      \"USD value of the underlying token reserves for the pool.\"]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"lp-pos-subtitle\"} \"volume:\"][:br]\n      \"USD value of the traded volume for the pool.\"]\n     [:div {:class \"gloss-item\"}\n      [:span {:class \"gloss-word\"} \"price_divergence:\"][:br]\n      \"The running difference between the changes in prices (as percentages) for the underlying assets against the prices 30 days ago. Price divergences between a pair of assets can result in losses for liquidity providers.\"\n      [:pre \"Price Divergence = abs(token0_price_change_pct - token1_price_change_pt)\"]\n      [:br]]]])\n\n\n(defn demo-lp-pos []\n  [:div\n   [:div\n    [:div {:class \"subtitle\" :style {:float \"left\" :width \"50%\"}}\n     (str \"lp_position_example_\")]]\n   [:br]\n  [:div\n   {:class \"lp-inner-box\" :id (str \"xxx/yyy-title\")}\n   [:div {:class \"lp-pos-header\"}\n    [:div {:class \"lp-pos-header-segment1\"}\n       [:div {:class \"lp-pos-header-subtitle\"} \"assets_\" ]\n       [:div {:class \"lp-title\"} \"XXX/YYY\"]]\n        [:div {:class \"lp-pos-header-segment2\"}\n         [:div {:class \"lp-pos-header-subtitle\"} \"assets_value_\" ]\n         [:div {:class \"bigneutral\"} (str \"$211,264.03\")]]\n        [:div {:class \"lp-pos-header-segment3\"}\n         [:div {:class \"lp-pos-header-subtitle\"} \"pool_pnl_\" ]\n         [:div {:class \"bigpos\"} (str\"$7,969.34\")]]\n        [:div {:class \"lp-pos-header-segment4\"}\n         [:div {:class \"lp-pos-header-subtitle\"} \"total_pnl_\" ]\n         [:div {:class \"bigpos\"} (str\"$8,631.36\")]]\n        ]\n     [:hr {:class \"lp-header-divider\"}]\n     [:div {:class \"lp-pos-header\"}\n      [:div {:class \"lp-pos-header-segment1\"}\n       [:div {:class \"lp-pos-assets\"}\n        [:div {:class \"lp-pos-subtitle\"} \"current_assets_\" ]\n        [:div {:class \"lp-assets\"}\n         [:div \"XXX 142.1214\" [:br]]\n         [:div \"YYY 14.1214\" [:br]]]]\n       [:div {:class \"lp-pos-assets\"}\n        [:div {:class \"lp-pos-subtitle\"} \"invested_assets_\" ]\n        [:div {:class \"lp-assets\"}\n         [:div \"XXX 112.0315\" [:br]]\n         [:div \"YYY 14.1104\" [:br]]]]\n       [:div {:class \"lp-pos-assets\"}\n        [:div {:class \"lp-pos-subtitle\"} \"withdrawn_assets_\" ]\n        [:div {:class \"lp-assets\"}\n         [:div \"XXX 0.0000\" [:br]]\n         [:div \"YYY 0.0000\" [:br]]]]\n       [:div {:class \"lp-pos-assets\"}\n        [:div {:class \"lp-pos-subtitle\"} \"diffs_\" ]\n        [:div {:class \"lp-assets\"}\n         [:div \"XXX 30.0899\" [:br]]\n         [:div \"YYY -0.9890\" [:br]]]]]\n      [:div {:class \"lp-pos-header-segment1\"}\n       [:div {:class \"lp-pos-assets\"}\n        [:div {:class \"lp-pos-subtitle\"} \"gas_costs_\" ]\n        [:div {:class \"lp-assets\"}\n         \"$370.21\"\n         \" (\u039e0.03)\"]]\n       [:div {:class \"lp-pos-assets\"}\n        [:div {:class \"lp-pos-subtitle\"} \"staking_rewards_\" ]\n        [:div {:class \"lp-assets\"}\n         \"$1032.24\"]]\n       [:div {:class \"lp-pos-assets\"}\n        [:div {:class \"lp-pos-subtitle\"} \"unclaimed_rewards_\" ]\n        [:div {:class \"lp-assets\"}\n         [:div \"ZZZ 142.1214\" [:br]]]]\n       [:div {:class \"lp-pos-assets\"}\n        [:div {:class \"lp-pos-subtitle\"} \"claimed_rewards_\" ]\n        [:div {:class \"lp-assets\"}\n         [:div \"ZZZ 1034.28\" [:br]]]]\n       [:div {:class \"lp-pos-assets\"}\n        [:div {:class \"lp-pos-subtitle\"} \"lp_tokens_\" ]\n        [:div {:class \"lp-assets\"}\n         \"0.2323\"]]]\n      [:div {:class \"lp-pos-header-segment1\" :style {:margin-right \"0px\"}}\n       [:div {:class \"lp-pos-assets\" :style {:margin-right \"40px\"}}\n        [:div {:class \"lp-pos-subtitle\"} \"v/r_ratio_30d\" ]\n        [:div {:class \"lp-assets\"}\n         [cv/spark-line (map u/bn example-ratio)]]]\n       [:div {:class \"lp-pos-assets\" :style {:margin-right \"40px\"}}\n        [:div {:class \"lp-pos-subtitle\"} \"reserves_30d\" ]\n        [:div {:class \"lp-assets\"}\n         [cv/spark-line (map u/bn example-reserves) :currency true]]]\n       [:div {:class \"lp-pos-assets\" :style {:margin-right \"40px\"}}\n        [:div {:class \"lp-pos-subtitle\"} \"volume_30d\" ]\n        [:div {:class \"lp-assets\"}\n         [cv/spark-line-bars (map u/bn (reverse example-volume))]]]]\n      [:div {:class \"lp-pos-header-segment1\"}\n       [:div {:class \"lp-pos-assets\" :style {:margin-right \"40px\"}}\n        [:div {:class \"lp-pos-subtitle\"} \"price_divergence_30d\" ]\n        [:div {:class \"lp-assets\"}\n         [cv/spark-line (map u/bn divergence-example) :percentage true]]]\n       [:div {:class \"lp-pos-assets\" :style {:margin-right \"40px\"}}\n        [:div {:class \"lp-pos-subtitle\"} \"price0_30d\" ]\n        [:div {:class \"lp-assets\"}\n         [cv/spark-line (map u/bn price0-example) :currency true]]]\n       [:div {:class \"lp-pos-assets\" :style {:margin-right \"40px\"}}\n        [:div {:class \"lp-pos-subtitle\"} \"price1_30d\" ]\n        [:div {:class \"lp-assets\"}\n         [cv/spark-line (map u/bn price1-example) :currency true]]]]]\n     [:div cv/separator-str]]])\n\n\n(defn pos-demo []\n  [:div {:class \"app\"}\n         ;;:on-click body-click}\n   [cv/site-header]\n   [:div {:class \"app-inner\"}\n    [:div\n     [:div {:class \"subtitle\" :style {:float \"left\" :width \"50%\" :margin-top \"50px\"}}\n       (str \"counting_lp_positions_\")]\n     [:br]\n     [:div {:class \"inner-box\" :style {:display \"inline-block\" :width \"100%\"}}\n      [:div {:class \"gloss-item\"}\n       [:p \"An initial naive approach to take when counting LP tokens an account owns, would be to simply check the balance the account currently holds. The Uniswap subgraph makes this particularly easy. The problem with this approach is that many times LP tokens are staked in various contracts that provide reward incentives, at which point the tokens are not held by the account.\"]\n       [:p \"A different approach that addresses this issue is to compute the LP tokens that have been \u201cminted\u201d and \u201cburned\u201d by the account, when depositing and withdrawing assets from the pool. This addresses the problem of LP tokens being staked in any unknown contract, however, it comes with some important caveats:\"]\n       [:ol\n        [:li \"If an account transfers LP tokens to a different account, or contract, in a way that would imply relinquishment of ownership, they would still appear as being owned by the original minter account.\"]\n        [:li \"If an account receives LP tokens from a different minter account, they are (currently) not counted as being owned by the receiving account.\"]]\n       [:p \"The first issue is easy to address in a manual fashion by providing an option to \u201cignore\u201d the LP position in question. The second issue can be addressed by accounting for received LP transfers, and differentiating these from transfers that might be the result of unstakings, which we are currently working on.\"]\n       [:p \"It\u2019s almost certain that our approach will evolve over time as changing practices with regard to staking contracts, feedback from users, and our own experience will improve our solution to the problem described.\"]]]]\n    [:br]\n    [demo-lp-pos]\n    [demo-lp-glossary]\n    [demo-pool-glossary]]\n   [:div {:style {:margin-top \"250px\"}}\n    [cv/footer-links]]])\n\n\n"]}