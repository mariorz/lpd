shadow$provide.module$node_modules$$uniswap$v3_sdk$dist$v3_sdk_cjs_development=function(global,require,module$jscomp$0,exports$jscomp$0){function _interopDefault(ex){return ex&&"object"===typeof ex&&"default"in ex?ex["default"]:ex}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){reject(error);return}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=
this,args=arguments;return new Promise(function(resolve,reject){function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}var gen=fn.apply(self,args);_next(void 0)})}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,
descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){protoProps&&_defineProperties(Constructor.prototype,protoProps);staticProps&&_defineProperties(Constructor,staticProps);return Constructor}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],key;for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};return _extends.apply(this,arguments)}function _inheritsLoose(subClass,
superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass}function _unsupportedIterableToArray(o,minLen){if(o){if("string"===typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}}
function _arrayLikeToArray(arr,len){if(null==len||len>arr.length)len=arr.length;for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _createForOfIteratorHelperLoose(o,allowArrayLike){var it;if("undefined"===typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&"number"===typeof o.length){it&&(o=it);var i=0;return function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}it=o[Symbol.iterator]();return it.next.bind(it)}function computePoolAddress(_ref){var factoryAddress=_ref.factoryAddress,tokenA=_ref.tokenA,tokenB=_ref.tokenB;_ref=_ref.fee;tokenA=tokenA.sortsBefore(tokenB)?[tokenA,tokenB]:[tokenB,tokenA];return address.getCreate2Address(factoryAddress,solidity.keccak256(["bytes"],[abi.defaultAbiCoder.encode(["address","address","uint24"],[tokenA[0].address,tokenA[1].address,_ref])]),"0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54")}function multiplyIn256(x,
y){x=JSBI.multiply(x,y);return JSBI.bitwiseAnd(x,sdkCore.MaxUint256)}function mostSignificantBit(x){JSBI.greaterThan(x,ZERO)?void 0:invariant(!1,"ZERO");JSBI.lessThanOrEqual(x,sdkCore.MaxUint256)?void 0:invariant(!1,"MAX");for(var msb=0,_iterator=_createForOfIteratorHelperLoose(POWERS_OF_2),_step;!(_step=_iterator()).done;){_step=_step.value;var power=_step[0];JSBI.greaterThanOrEqual(x,_step[1])&&(x=JSBI.signedRightShift(x,JSBI.BigInt(power)),msb+=power)}return msb}function mulShift(val,mulBy){return JSBI.signedRightShift(JSBI.multiply(val,
JSBI.BigInt(mulBy)),JSBI.BigInt(128))}function isSorted(list,comparator){for(var i=0;i<list.length-1;i++)if(0<comparator(list[i],list[i+1]))return!1;return!0}function tickComparator(a,b){return a.index-b.index}function toHex(bigintIsh){bigintIsh=JSBI.BigInt(bigintIsh).toString(16);0!==bigintIsh.length%2&&(bigintIsh="0"+bigintIsh);return"0x"+bigintIsh}function encodeRouteToPath(route,exactOutput){var firstInputToken=route.input instanceof sdkCore.Token?route.input:route.input===sdkCore.Currency.ETHER?
sdkCore.WETH9[route.chainId]:void 0;if(!firstInputToken)throw Error("Could not wrap input currency");firstInputToken=route.pools.reduce(function(_ref,pool,index){var inputToken=_ref.inputToken,path=_ref.path;_ref=_ref.types;var outputToken=pool.token0.equals(inputToken)?pool.token1:pool.token0;return 0===index?{inputToken:outputToken,types:["address","uint24","address"],path:[inputToken.address,pool.fee,outputToken.address]}:{inputToken:outputToken,types:[].concat(_ref,["uint24","address"]),path:[].concat(path,
[pool.fee,outputToken.address])}},{inputToken:firstInputToken,path:[],types:[]});route=firstInputToken.path;firstInputToken=firstInputToken.types;return exactOutput?solidity.pack(firstInputToken.reverse(),route.reverse()):solidity.pack(firstInputToken,route)}function encodeSqrtRatioX96(amount1,amount0){amount1=JSBI.leftShift(JSBI.BigInt(amount1),JSBI.BigInt(192));amount0=JSBI.BigInt(amount0);amount0=JSBI.divide(amount1,amount0);return sdkCore.sqrt(amount0)}function maxLiquidityForAmount0(sqrtRatioAX96,
sqrtRatioBX96,amount0){JSBI.greaterThan(sqrtRatioAX96,sqrtRatioBX96)&&(sqrtRatioBX96=[sqrtRatioBX96,sqrtRatioAX96],sqrtRatioAX96=sqrtRatioBX96[0],sqrtRatioBX96=sqrtRatioBX96[1]);var intermediate=JSBI.divide(JSBI.multiply(sqrtRatioAX96,sqrtRatioBX96),Q96);return JSBI.divide(JSBI.multiply(JSBI.BigInt(amount0),intermediate),JSBI.subtract(sqrtRatioBX96,sqrtRatioAX96))}function maxLiquidityForAmount1(sqrtRatioAX96,sqrtRatioBX96,amount1){JSBI.greaterThan(sqrtRatioAX96,sqrtRatioBX96)&&(sqrtRatioBX96=[sqrtRatioBX96,
sqrtRatioAX96],sqrtRatioAX96=sqrtRatioBX96[0],sqrtRatioBX96=sqrtRatioBX96[1]);return JSBI.divide(JSBI.multiply(JSBI.BigInt(amount1),Q96),JSBI.subtract(sqrtRatioBX96,sqrtRatioAX96))}function maxLiquidityForAmounts(sqrtRatioCurrentX96,sqrtRatioAX96,sqrtRatioBX96,amount0,amount1){JSBI.greaterThan(sqrtRatioAX96,sqrtRatioBX96)&&(sqrtRatioBX96=[sqrtRatioBX96,sqrtRatioAX96],sqrtRatioAX96=sqrtRatioBX96[0],sqrtRatioBX96=sqrtRatioBX96[1]);return JSBI.lessThanOrEqual(sqrtRatioCurrentX96,sqrtRatioAX96)?maxLiquidityForAmount0(sqrtRatioAX96,
sqrtRatioBX96,amount0):JSBI.lessThan(sqrtRatioCurrentX96,sqrtRatioBX96)?(amount0=maxLiquidityForAmount0(sqrtRatioCurrentX96,sqrtRatioBX96,amount0),sqrtRatioCurrentX96=maxLiquidityForAmount1(sqrtRatioAX96,sqrtRatioCurrentX96,amount1),JSBI.lessThan(amount0,sqrtRatioCurrentX96)?amount0:sqrtRatioCurrentX96):maxLiquidityForAmount1(sqrtRatioAX96,sqrtRatioBX96,amount1)}function tickToPrice(baseToken,quoteToken,tick){tick=TickMath.getSqrtRatioAtTick(tick);tick=JSBI.multiply(tick,tick);return baseToken.sortsBefore(quoteToken)?
new sdkCore.Price(baseToken,quoteToken,Q192,tick):new sdkCore.Price(baseToken,quoteToken,tick,Q192)}function tradeComparator(a,b){sdkCore.currencyEquals(a.inputAmount.currency,b.inputAmount.currency)?void 0:invariant(!1,"INPUT_CURRENCY");sdkCore.currencyEquals(a.outputAmount.currency,b.outputAmount.currency)?void 0:invariant(!1,"OUTPUT_CURRENCY");return a.outputAmount.equalTo(b.outputAmount)?a.inputAmount.equalTo(b.inputAmount)?a.route.tokenPath.length-b.route.tokenPath.length:a.inputAmount.lessThan(b.inputAmount)?
-1:1:a.outputAmount.lessThan(b.outputAmount)?1:-1}function wrappedAmount(currencyAmount,chainId){if(currencyAmount instanceof sdkCore.TokenAmount)return currencyAmount;if(currencyAmount.currency===sdkCore.ETHER)return new sdkCore.TokenAmount(sdkCore.WETH9[chainId],currencyAmount.raw);invariant(!1,"CURRENCY")}function wrappedCurrency(currency,chainId){if(currency instanceof sdkCore.Token)return currency;if(currency===sdkCore.ETHER)return sdkCore.WETH9[chainId];invariant(!1,"CURRENCY")}function isMint(options){return Object.keys(options).some(function(k){return"recipient"===
k})}Object.defineProperty(exports$jscomp$0,"__esModule",{value:!0});var sdkCore=require("module$node_modules$$uniswap$sdk_core$dist$index"),JSBI=_interopDefault(require("module$node_modules$jsbi$dist$jsbi_umd")),invariant=_interopDefault(require("module$node_modules$tiny_invariant$dist$tiny_invariant_cjs")),abi=require("module$node_modules$$ethersproject$abi$lib$index"),address=require("module$node_modules$$ethersproject$address$lib$index"),solidity=require("module$node_modules$$ethersproject$solidity$lib$index");
global=require("module$node_modules$$uniswap$v3_periphery$artifacts$contracts$NonfungiblePositionManager_sol$NonfungiblePositionManager_json");module$jscomp$0=require("module$node_modules$$uniswap$v3_periphery$artifacts$contracts$interfaces$ISelfPermit_sol$ISelfPermit_json");require=require("module$node_modules$$uniswap$v3_periphery$artifacts$contracts$SwapRouter_sol$SwapRouter_json");var runtime_1=function(fn,module){return module={exports:{}},fn(module,module.exports),module.exports}(function(module){module=
function(exports){function define(obj,key,value){Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0});return obj[key]}function wrap(innerFn,outerFn,self,tryLocsList){outerFn=Object.create((outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator).prototype);tryLocsList=new Context(tryLocsList||[]);outerFn._invoke=makeInvokeMethod(innerFn,self,tryLocsList);return outerFn}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",
arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg)})})}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){method=tryCatch(generator[method],generator,arg);if("throw"===method.type)reject(method.arg);else{var result=method.arg;return(method=result.value)&&
"object"===typeof method&&hasOwn.call(method,"__await")?PromiseImpl.resolve(method.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):PromiseImpl.resolve(method).then(function(unwrapped){result.value=unwrapped;resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}}var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,
arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}context.method=method;for(context.arg=arg;;){if(method=context.delegate)if(method=
maybeInvokeDelegate(method,context)){if(method===ContinueSentinel)continue;return method}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;method=tryCatch(innerFn,self,context);if("normal"===method.type){state=context.done?GenStateCompleted:GenStateSuspendedYield;
if(method.arg===ContinueSentinel)continue;return{value:method.arg,done:context.done}}"throw"===method.type&&(state=GenStateCompleted,context.method="throw",context.arg=method.arg)}}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined$1){context.delegate=null;if("throw"===context.method){if(delegate.iterator["return"]&&(context.method="return",context.arg=undefined$1,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;
context.method="throw";context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}method=tryCatch(method,delegate.iterator,context.arg);if("throw"===method.type)return context.method="throw",context.arg=method.arg,context.delegate=null,ContinueSentinel;method=method.arg;if(!method)return context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel;if(method.done)context[delegate.resultName]=method.value,
context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined$1);else return method;context.delegate=null;return ContinueSentinel}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]);2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]);this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal";delete record.arg;entry.completion=record}function Context(tryLocsList){this.tryEntries=
[{tryLoc:"root"}];tryLocsList.forEach(pushTryEntry,this);this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"===typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1;iteratorMethod=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;next.value=undefined$1;next.done=!0;return next};return iteratorMethod.next=
iteratorMethod}}return{next:doneResult}}function doneResult(){return{value:undefined$1,done:!0}}var Op=Object.prototype,hasOwn=Op.hasOwnProperty,undefined$1,$Symbol="function"===typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";try{define({},"")}catch(err){define=function(obj,key,value){return obj[key]=value}}exports.wrap=wrap;var GenStateSuspendedStart="suspendedStart",
GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={};$Symbol={};$Symbol[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf;(getProto=getProto&&getProto(getProto(values([]))))&&getProto!==Op&&hasOwn.call(getProto,iteratorSymbol)&&($Symbol=getProto);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create($Symbol);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype;GeneratorFunctionPrototype.constructor=
GeneratorFunction;GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction");exports.isGeneratorFunction=function(genFun){return(genFun="function"===typeof genFun&&genFun.constructor)?genFun===GeneratorFunction||"GeneratorFunction"===(genFun.displayName||genFun.name):!1};exports.mark=function(genFun){Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,
"GeneratorFunction"));genFun.prototype=Object.create(Gp);return genFun};exports.awrap=function(arg){return{__await:arg}};defineIteratorMethods(AsyncIterator.prototype);AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this};exports.AsyncIterator=AsyncIterator;exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?
iter:iter.next().then(function(result){return result.done?result.value:iter.next()})};defineIteratorMethods(Gp);define(Gp,toStringTagSymbol,"Generator");Gp[iteratorSymbol]=function(){return this};Gp.toString=function(){return"[object Generator]"};exports.keys=function(object){var keys=[],key$jscomp$0;for(key$jscomp$0 in object)keys.push(key$jscomp$0);keys.reverse();return function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}next.done=!0;return next}};
exports.values=values;Context.prototype={constructor:Context,reset:function(skipTempReset){this.next=this.prev=0;this.sent=this._sent=undefined$1;this.done=!1;this.delegate=null;this.method="next";this.arg=undefined$1;this.tryEntries.forEach(resetTryEntry);if(!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined$1)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;
return this.rval},dispatchException:function(exception){function handle(loc,caught){record.type="throw";record.arg=exception;context.next=loc;caught&&(context.method="next",context.arg=undefined$1);return!!caught}if(this.done)throw exception;for(var context=this,i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");
if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else if(hasFinally){if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else throw Error("try statement without catch or finally");}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,
"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);i=finallyEntry?finallyEntry.completion:{};i.type=type;i.arg=arg;return finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(i)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;"break"===record.type||"continue"===record.type?this.next=
record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc);return ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},"catch":function(tryLoc){for(var i=this.tryEntries.length-1;0<=i;--i){var entry=this.tryEntries[i];
if(entry.tryLoc===tryLoc){tryLoc=entry.completion;if("throw"===tryLoc.type){var thrown=tryLoc.arg;resetTryEntry(entry)}return thrown}}throw Error("illegal catch attempt");},delegateYield:function(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName,nextLoc};"next"===this.method&&(this.arg=undefined$1);return ContinueSentinel}};return exports}(module.exports);try{regeneratorRuntime=module}catch(accidentalStrictMode){Function("r","regeneratorRuntime \x3d r")(module)}}),_TICK_SPACINGS;
(function(FeeAmount){FeeAmount[FeeAmount.LOW=500]="LOW";FeeAmount[FeeAmount.MEDIUM=3E3]="MEDIUM";FeeAmount[FeeAmount.HIGH=1E4]="HIGH"})(exports$jscomp$0.FeeAmount||(exports$jscomp$0.FeeAmount={}));var TICK_SPACINGS=(_TICK_SPACINGS={},_TICK_SPACINGS[exports$jscomp$0.FeeAmount.LOW]=10,_TICK_SPACINGS[exports$jscomp$0.FeeAmount.MEDIUM]=60,_TICK_SPACINGS[exports$jscomp$0.FeeAmount.HIGH]=200,_TICK_SPACINGS),NEGATIVE_ONE=JSBI.BigInt(-1),ZERO=JSBI.BigInt(0),ONE=JSBI.BigInt(1),Q96=JSBI.exponentiate(JSBI.BigInt(2),
JSBI.BigInt(96)),Q192=JSBI.exponentiate(Q96,JSBI.BigInt(2)),LiquidityMath=function(){function LiquidityMath(){}LiquidityMath.addDelta=function(x,y){return JSBI.lessThan(y,ZERO)?JSBI.subtract(x,JSBI.multiply(y,NEGATIVE_ONE)):JSBI.add(x,y)};return LiquidityMath}(),FullMath=function(){function FullMath(){}FullMath.mulDivRoundingUp=function(a,b,denominator){a=JSBI.multiply(a,b);b=JSBI.divide(a,denominator);JSBI.notEqual(JSBI.remainder(a,denominator),ZERO)&&(b=JSBI.add(b,ONE));return b};return FullMath}(),
MaxUint160=JSBI.subtract(JSBI.exponentiate(JSBI.BigInt(2),JSBI.BigInt(160)),ONE),SqrtPriceMath=function(){function SqrtPriceMath(){}SqrtPriceMath.getAmount0Delta=function(sqrtRatioAX96,sqrtRatioBX96,liquidity,roundUp){JSBI.greaterThan(sqrtRatioAX96,sqrtRatioBX96)&&(sqrtRatioBX96=[sqrtRatioBX96,sqrtRatioAX96],sqrtRatioAX96=sqrtRatioBX96[0],sqrtRatioBX96=sqrtRatioBX96[1]);liquidity=JSBI.leftShift(liquidity,JSBI.BigInt(96));var numerator2=JSBI.subtract(sqrtRatioBX96,sqrtRatioAX96);return roundUp?FullMath.mulDivRoundingUp(FullMath.mulDivRoundingUp(liquidity,
numerator2,sqrtRatioBX96),ONE,sqrtRatioAX96):JSBI.divide(JSBI.divide(JSBI.multiply(liquidity,numerator2),sqrtRatioBX96),sqrtRatioAX96)};SqrtPriceMath.getAmount1Delta=function(sqrtRatioAX96,sqrtRatioBX96,liquidity,roundUp){JSBI.greaterThan(sqrtRatioAX96,sqrtRatioBX96)&&(sqrtRatioBX96=[sqrtRatioBX96,sqrtRatioAX96],sqrtRatioAX96=sqrtRatioBX96[0],sqrtRatioBX96=sqrtRatioBX96[1]);return roundUp?FullMath.mulDivRoundingUp(liquidity,JSBI.subtract(sqrtRatioBX96,sqrtRatioAX96),Q96):JSBI.divide(JSBI.multiply(liquidity,
JSBI.subtract(sqrtRatioBX96,sqrtRatioAX96)),Q96)};SqrtPriceMath.getNextSqrtPriceFromInput=function(sqrtPX96,liquidity,amountIn,zeroForOne){JSBI.greaterThan(sqrtPX96,ZERO)?void 0:invariant(!1);JSBI.greaterThan(liquidity,ZERO)?void 0:invariant(!1);return zeroForOne?this.getNextSqrtPriceFromAmount0RoundingUp(sqrtPX96,liquidity,amountIn,!0):this.getNextSqrtPriceFromAmount1RoundingDown(sqrtPX96,liquidity,amountIn,!0)};SqrtPriceMath.getNextSqrtPriceFromOutput=function(sqrtPX96,liquidity,amountOut,zeroForOne){JSBI.greaterThan(sqrtPX96,
ZERO)?void 0:invariant(!1);JSBI.greaterThan(liquidity,ZERO)?void 0:invariant(!1);return zeroForOne?this.getNextSqrtPriceFromAmount1RoundingDown(sqrtPX96,liquidity,amountOut,!1):this.getNextSqrtPriceFromAmount0RoundingUp(sqrtPX96,liquidity,amountOut,!1)};SqrtPriceMath.getNextSqrtPriceFromAmount0RoundingUp=function(sqrtPX96,liquidity,amount,add){if(JSBI.equal(amount,ZERO))return sqrtPX96;liquidity=JSBI.leftShift(liquidity,JSBI.BigInt(96));if(add)return add=multiplyIn256(amount,sqrtPX96),JSBI.equal(JSBI.divide(add,
amount),sqrtPX96)&&(add=JSBI.add(liquidity,add),add=JSBI.bitwiseAnd(add,sdkCore.MaxUint256),JSBI.greaterThanOrEqual(add,liquidity))?FullMath.mulDivRoundingUp(liquidity,sqrtPX96,add):FullMath.mulDivRoundingUp(liquidity,ONE,JSBI.add(JSBI.divide(liquidity,sqrtPX96),amount));add=multiplyIn256(amount,sqrtPX96);JSBI.equal(JSBI.divide(add,amount),sqrtPX96)?void 0:invariant(!1);JSBI.greaterThan(liquidity,add)?void 0:invariant(!1);amount=JSBI.subtract(liquidity,add);return FullMath.mulDivRoundingUp(liquidity,
sqrtPX96,amount)};SqrtPriceMath.getNextSqrtPriceFromAmount1RoundingDown=function(sqrtPX96,liquidity,amount,add){if(add)return liquidity=JSBI.lessThanOrEqual(amount,MaxUint160)?JSBI.divide(JSBI.leftShift(amount,JSBI.BigInt(96)),liquidity):JSBI.divide(JSBI.multiply(amount,Q96),liquidity),JSBI.add(sqrtPX96,liquidity);liquidity=FullMath.mulDivRoundingUp(amount,Q96,liquidity);JSBI.greaterThan(sqrtPX96,liquidity)?void 0:invariant(!1);return JSBI.subtract(sqrtPX96,liquidity)};return SqrtPriceMath}(),MAX_FEE=
JSBI.exponentiate(JSBI.BigInt(10),JSBI.BigInt(6)),SwapMath=function(){function SwapMath(){}SwapMath.computeSwapStep=function(sqrtRatioCurrentX96,sqrtRatioTargetX96,liquidity,amountRemaining,feePips){var zeroForOne=JSBI.greaterThanOrEqual(sqrtRatioCurrentX96,sqrtRatioTargetX96),exactIn=JSBI.greaterThanOrEqual(amountRemaining,ZERO);if(exactIn){var JSCompiler_object_inline_sqrtRatioNextX96_23=JSBI.divide(JSBI.multiply(amountRemaining,JSBI.subtract(MAX_FEE,JSBI.BigInt(feePips))),MAX_FEE);var JSCompiler_object_inline_amountIn_22=
zeroForOne?SqrtPriceMath.getAmount0Delta(sqrtRatioTargetX96,sqrtRatioCurrentX96,liquidity,!0):SqrtPriceMath.getAmount1Delta(sqrtRatioCurrentX96,sqrtRatioTargetX96,liquidity,!0);JSCompiler_object_inline_sqrtRatioNextX96_23=JSBI.greaterThanOrEqual(JSCompiler_object_inline_sqrtRatioNextX96_23,JSCompiler_object_inline_amountIn_22)?sqrtRatioTargetX96:SqrtPriceMath.getNextSqrtPriceFromInput(sqrtRatioCurrentX96,liquidity,JSCompiler_object_inline_sqrtRatioNextX96_23,zeroForOne)}else{var JSCompiler_object_inline_amountOut_24=
zeroForOne?SqrtPriceMath.getAmount1Delta(sqrtRatioTargetX96,sqrtRatioCurrentX96,liquidity,!1):SqrtPriceMath.getAmount0Delta(sqrtRatioCurrentX96,sqrtRatioTargetX96,liquidity,!1);JSCompiler_object_inline_sqrtRatioNextX96_23=JSBI.greaterThanOrEqual(JSBI.multiply(amountRemaining,NEGATIVE_ONE),JSCompiler_object_inline_amountOut_24)?sqrtRatioTargetX96:SqrtPriceMath.getNextSqrtPriceFromOutput(sqrtRatioCurrentX96,liquidity,JSBI.multiply(amountRemaining,NEGATIVE_ONE),zeroForOne)}var max=JSBI.equal(sqrtRatioTargetX96,
JSCompiler_object_inline_sqrtRatioNextX96_23);zeroForOne?(JSCompiler_object_inline_amountIn_22=max&&exactIn?JSCompiler_object_inline_amountIn_22:SqrtPriceMath.getAmount0Delta(JSCompiler_object_inline_sqrtRatioNextX96_23,sqrtRatioCurrentX96,liquidity,!0),JSCompiler_object_inline_amountOut_24=max&&!exactIn?JSCompiler_object_inline_amountOut_24:SqrtPriceMath.getAmount1Delta(JSCompiler_object_inline_sqrtRatioNextX96_23,sqrtRatioCurrentX96,liquidity,!1)):(JSCompiler_object_inline_amountIn_22=max&&exactIn?
JSCompiler_object_inline_amountIn_22:SqrtPriceMath.getAmount1Delta(sqrtRatioCurrentX96,JSCompiler_object_inline_sqrtRatioNextX96_23,liquidity,!0),JSCompiler_object_inline_amountOut_24=max&&!exactIn?JSCompiler_object_inline_amountOut_24:SqrtPriceMath.getAmount0Delta(sqrtRatioCurrentX96,JSCompiler_object_inline_sqrtRatioNextX96_23,liquidity,!1));!exactIn&&JSBI.greaterThan(JSCompiler_object_inline_amountOut_24,JSBI.multiply(amountRemaining,NEGATIVE_ONE))&&(JSCompiler_object_inline_amountOut_24=JSBI.multiply(amountRemaining,
NEGATIVE_ONE));sqrtRatioCurrentX96=exactIn&&JSBI.notEqual(JSCompiler_object_inline_sqrtRatioNextX96_23,sqrtRatioTargetX96)?JSBI.subtract(amountRemaining,JSCompiler_object_inline_amountIn_22):FullMath.mulDivRoundingUp(JSCompiler_object_inline_amountIn_22,JSBI.BigInt(feePips),JSBI.subtract(MAX_FEE,JSBI.BigInt(feePips)));return[JSCompiler_object_inline_sqrtRatioNextX96_23,JSCompiler_object_inline_amountIn_22,JSCompiler_object_inline_amountOut_24,sqrtRatioCurrentX96]};return SwapMath}(),TWO=JSBI.BigInt(2),
POWERS_OF_2=[128,64,32,16,8,4,2,1].map(function(pow){return[pow,JSBI.exponentiate(TWO,JSBI.BigInt(pow))]}),Q32=JSBI.exponentiate(JSBI.BigInt(2),JSBI.BigInt(32)),TickMath=function(){function TickMath(){}TickMath.getSqrtRatioAtTick=function(tick){tick>=TickMath.MIN_TICK&&tick<=TickMath.MAX_TICK&&Number.isInteger(tick)?void 0:invariant(!1,"TICK");var absTick=0>tick?-1*tick:tick,ratio=0!=(absTick&1)?JSBI.BigInt("0xfffcb933bd6fad37aa2d162d1a594001"):JSBI.BigInt("0x100000000000000000000000000000000");0!=
(absTick&2)&&(ratio=mulShift(ratio,"0xfff97272373d413259a46990580e213a"));0!=(absTick&4)&&(ratio=mulShift(ratio,"0xfff2e50f5f656932ef12357cf3c7fdcc"));0!=(absTick&8)&&(ratio=mulShift(ratio,"0xffe5caca7e10e4e61c3624eaa0941cd0"));0!=(absTick&16)&&(ratio=mulShift(ratio,"0xffcb9843d60f6159c9db58835c926644"));0!=(absTick&32)&&(ratio=mulShift(ratio,"0xff973b41fa98c081472e6896dfb254c0"));0!=(absTick&64)&&(ratio=mulShift(ratio,"0xff2ea16466c96a3843ec78b326b52861"));0!=(absTick&128)&&(ratio=mulShift(ratio,
"0xfe5dee046a99a2a811c461f1969c3053"));0!=(absTick&256)&&(ratio=mulShift(ratio,"0xfcbe86c7900a88aedcffc83b479aa3a4"));0!=(absTick&512)&&(ratio=mulShift(ratio,"0xf987a7253ac413176f2b074cf7815e54"));0!=(absTick&1024)&&(ratio=mulShift(ratio,"0xf3392b0822b70005940c7a398e4b70f3"));0!=(absTick&2048)&&(ratio=mulShift(ratio,"0xe7159475a2c29b7443b29c7fa6e889d9"));0!=(absTick&4096)&&(ratio=mulShift(ratio,"0xd097f3bdfd2022b8845ad8f792aa5825"));0!=(absTick&8192)&&(ratio=mulShift(ratio,"0xa9f746462d870fdf8a65dc1f90e061e5"));
0!=(absTick&16384)&&(ratio=mulShift(ratio,"0x70d869a156d2a1b890bb3df62baf32f7"));0!=(absTick&32768)&&(ratio=mulShift(ratio,"0x31be135f97d08fd981231505542fcfa6"));0!=(absTick&65536)&&(ratio=mulShift(ratio,"0x9aa508b5b7a84e1c677de54f3e99bc9"));0!=(absTick&131072)&&(ratio=mulShift(ratio,"0x5d6af8dedb81196699c329225ee604"));0!=(absTick&262144)&&(ratio=mulShift(ratio,"0x2216e584f5fa1ea926041bedfe98"));0!=(absTick&524288)&&(ratio=mulShift(ratio,"0x48a170391f7dc42444e8fa2"));0<tick&&(ratio=JSBI.divide(sdkCore.MaxUint256,
ratio));return JSBI.greaterThan(JSBI.remainder(ratio,Q32),ZERO)?JSBI.add(JSBI.divide(ratio,Q32),ONE):JSBI.divide(ratio,Q32)};TickMath.getTickAtSqrtRatio=function(sqrtRatioX96){JSBI.greaterThanOrEqual(sqrtRatioX96,TickMath.MIN_SQRT_RATIO)&&JSBI.lessThan(sqrtRatioX96,TickMath.MAX_SQRT_RATIO)?void 0:invariant(!1,"SQRT_RATIO");var sqrtRatioX128=JSBI.leftShift(sqrtRatioX96,JSBI.BigInt(32)),msb=mostSignificantBit(sqrtRatioX128);sqrtRatioX128=JSBI.greaterThanOrEqual(JSBI.BigInt(msb),JSBI.BigInt(128))?JSBI.signedRightShift(sqrtRatioX128,
JSBI.BigInt(msb-127)):JSBI.leftShift(sqrtRatioX128,JSBI.BigInt(127-msb));msb=JSBI.leftShift(JSBI.subtract(JSBI.BigInt(msb),JSBI.BigInt(128)),JSBI.BigInt(64));for(var i=0;14>i;i++){sqrtRatioX128=JSBI.signedRightShift(JSBI.multiply(sqrtRatioX128,sqrtRatioX128),JSBI.BigInt(127));var f=JSBI.signedRightShift(sqrtRatioX128,JSBI.BigInt(128));msb=JSBI.bitwiseOr(msb,JSBI.leftShift(f,JSBI.BigInt(63-i)));sqrtRatioX128=JSBI.signedRightShift(sqrtRatioX128,f)}msb=JSBI.multiply(msb,JSBI.BigInt("255738958999603826347141"));
sqrtRatioX128=JSBI.toNumber(JSBI.signedRightShift(JSBI.subtract(msb,JSBI.BigInt("3402992956809132418596140100660247210")),JSBI.BigInt(128)));msb=JSBI.toNumber(JSBI.signedRightShift(JSBI.add(msb,JSBI.BigInt("291339464771989622907027621153398088495")),JSBI.BigInt(128)));return sqrtRatioX128===msb?sqrtRatioX128:JSBI.lessThanOrEqual(TickMath.getSqrtRatioAtTick(msb),sqrtRatioX96)?msb:sqrtRatioX128};return TickMath}();TickMath.MIN_TICK=-887272;TickMath.MAX_TICK=-TickMath.MIN_TICK;TickMath.MIN_SQRT_RATIO=
JSBI.BigInt("4295128739");TickMath.MAX_SQRT_RATIO=JSBI.BigInt("1461446703485210103287273052203988822378723970342");_TICK_SPACINGS=function(){function NoTickDataProvider(){}var _proto=NoTickDataProvider.prototype;_proto.getTick=function(){var _getTick=_asyncToGenerator(runtime_1.mark(function _callee(_tick){return runtime_1.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:throw Error(NoTickDataProvider.ERROR_MESSAGE);case 1:case "end":return _context.stop()}},_callee)}));return function(_x){return _getTick.apply(this,
arguments)}}();_proto.nextInitializedTickWithinOneWord=function(){var _nextInitializedTickWithinOneWord=_asyncToGenerator(runtime_1.mark(function _callee2(_tick,_lte,_tickSpacing){return runtime_1.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:throw Error(NoTickDataProvider.ERROR_MESSAGE);case 1:case "end":return _context2.stop()}},_callee2)}));return function(_x2,_x3,_x4){return _nextInitializedTickWithinOneWord.apply(this,arguments)}}();return NoTickDataProvider}();
_TICK_SPACINGS.ERROR_MESSAGE="No tick data provider was given";var TickList=function(){function TickList(){}TickList.validateList=function(ticks,tickSpacing){0<tickSpacing?void 0:invariant(!1,"TICK_SPACING_NONZERO");ticks.every(function(_ref){return 0===_ref.index%tickSpacing})?void 0:invariant(!1,"TICK_SPACING");JSBI.equal(ticks.reduce(function(accumulator,_ref2){return JSBI.add(accumulator,_ref2.liquidityNet)},ZERO),ZERO)?void 0:invariant(!1,"ZERO_NET");isSorted(ticks,tickComparator)?void 0:invariant(!1,
"SORTED")};TickList.isBelowSmallest=function(ticks,tick){0<ticks.length?void 0:invariant(!1,"LENGTH");return tick<ticks[0].index};TickList.isAtOrAboveLargest=function(ticks,tick){0<ticks.length?void 0:invariant(!1,"LENGTH");return tick>=ticks[ticks.length-1].index};TickList.getTick=function(ticks,index){ticks=ticks[this.binarySearch(ticks,index)];ticks.index!==index?invariant(!1,"NOT_CONTAINED"):void 0;return ticks};TickList.binarySearch=function(ticks,tick){this.isBelowSmallest(ticks,tick)?invariant(!1,
"BELOW_SMALLEST"):void 0;for(var l=0,r=ticks.length-1,i;;){i=Math.floor((l+r)/2);if(ticks[i].index<=tick&&(i===ticks.length-1||ticks[i+1].index>tick))return i;ticks[i].index<tick?l=i+1:r=i-1}};TickList.nextInitializedTick=function(ticks,tick,lte){if(lte){TickList.isBelowSmallest(ticks,tick)?invariant(!1,"BELOW_SMALLEST"):void 0;if(TickList.isAtOrAboveLargest(ticks,tick))return ticks[ticks.length-1];tick=this.binarySearch(ticks,tick);return ticks[tick]}this.isAtOrAboveLargest(ticks,tick)?invariant(!1,
"AT_OR_ABOVE_LARGEST"):void 0;if(this.isBelowSmallest(ticks,tick))return ticks[0];tick=this.binarySearch(ticks,tick);return ticks[tick+1]};TickList.nextInitializedTickWithinOneWord=function(ticks,tick,lte,tickSpacing){var compressed=Math.floor(tick/tickSpacing);if(lte){tickSpacing*=compressed>>8<<8;if(TickList.isBelowSmallest(ticks,tick))return[tickSpacing,!1];ticks=TickList.nextInitializedTick(ticks,tick,lte).index;tick=Math.max(tickSpacing,ticks);return[tick,tick===ticks]}tickSpacing=((compressed+
1>>8)+1<<8)*tickSpacing-1;if(this.isAtOrAboveLargest(ticks,tick))return[tickSpacing,!1];ticks=this.nextInitializedTick(ticks,tick,lte).index;tick=Math.min(tickSpacing,ticks);return[tick,tick===ticks]};return TickList}(),Tick=function(_ref){var index=_ref.index,liquidityGross=_ref.liquidityGross;_ref=_ref.liquidityNet;index>=TickMath.MIN_TICK&&index<=TickMath.MAX_TICK?void 0:invariant(!1,"TICK");this.index=index;this.liquidityGross=JSBI.BigInt(liquidityGross);this.liquidityNet=JSBI.BigInt(_ref)},TickListDataProvider=
function(){function TickListDataProvider(ticks,tickSpacing){ticks=ticks.map(function(t){return t instanceof Tick?t:new Tick(t)});TickList.validateList(ticks,tickSpacing);this.ticks=ticks}var _proto=TickListDataProvider.prototype;_proto.getTick=function(){var _getTick=_asyncToGenerator(runtime_1.mark(function _callee(tick){return runtime_1.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",TickList.getTick(this.ticks,tick));case 1:case "end":return _context.stop()}},
_callee,this)}));return function(_x){return _getTick.apply(this,arguments)}}();_proto.nextInitializedTickWithinOneWord=function(){var _nextInitializedTickWithinOneWord=_asyncToGenerator(runtime_1.mark(function _callee2(tick,lte,tickSpacing){return runtime_1.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",TickList.nextInitializedTickWithinOneWord(this.ticks,tick,lte,tickSpacing));case 1:case "end":return _context2.stop()}},_callee2,this)}));
return function(_x2,_x3,_x4){return _nextInitializedTickWithinOneWord.apply(this,arguments)}}();return TickListDataProvider}(),NO_TICK_DATA_PROVIDER_DEFAULT=new _TICK_SPACINGS,Pool=function(){function Pool(tokenA,tokenB,fee,sqrtRatioX96,liquidity,tickCurrent,ticks){void 0===ticks&&(ticks=NO_TICK_DATA_PROVIDER_DEFAULT);Number.isInteger(fee)&&1E6>fee?void 0:invariant(!1,"FEE");var tickCurrentSqrtRatioX96=TickMath.getSqrtRatioAtTick(tickCurrent),nextTickSqrtRatioX96=TickMath.getSqrtRatioAtTick(tickCurrent+
1);JSBI.greaterThanOrEqual(JSBI.BigInt(sqrtRatioX96),tickCurrentSqrtRatioX96)&&JSBI.lessThanOrEqual(JSBI.BigInt(sqrtRatioX96),nextTickSqrtRatioX96)?void 0:invariant(!1,"PRICE_BOUNDS");tokenA=tokenA.sortsBefore(tokenB)?[tokenA,tokenB]:[tokenB,tokenA];this.token0=tokenA[0];this.token1=tokenA[1];this.fee=fee;this.sqrtRatioX96=JSBI.BigInt(sqrtRatioX96);this.liquidity=JSBI.BigInt(liquidity);this.tickCurrent=tickCurrent;this.tickDataProvider=Array.isArray(ticks)?new TickListDataProvider(ticks,TICK_SPACINGS[fee]):
ticks}Pool.getAddress=function(tokenA,tokenB,fee){return computePoolAddress({factoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",fee,tokenA,tokenB})};var _proto=Pool.prototype;_proto.involvesToken=function(token){return token.equals(this.token0)||token.equals(this.token1)};_proto.priceOf=function(token){this.involvesToken(token)?void 0:invariant(!1,"TOKEN");return token.equals(this.token0)?this.token0Price:this.token1Price};_proto.getOutputAmount=function(){var _getOutputAmount=_asyncToGenerator(runtime_1.mark(function _callee(inputAmount){var zeroForOne,
_yield$this$swap,outputAmount,sqrtRatioX96,liquidity,tickCurrent,outputToken;return runtime_1.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return this.involvesToken(inputAmount.token)?void 0:invariant(!1,"TOKEN"),zeroForOne=inputAmount.token.equals(this.token0),_context.next=4,this.swap(zeroForOne,inputAmount.raw);case 4:return _yield$this$swap=_context.sent,outputAmount=_yield$this$swap.amountCalculated,sqrtRatioX96=_yield$this$swap.sqrtRatioX96,liquidity=_yield$this$swap.liquidity,
tickCurrent=_yield$this$swap.tickCurrent,outputToken=zeroForOne?this.token1:this.token0,_context.abrupt("return",[new sdkCore.TokenAmount(outputToken,JSBI.multiply(outputAmount,NEGATIVE_ONE)),new Pool(this.token0,this.token1,this.fee,sqrtRatioX96,liquidity,tickCurrent,this.tickDataProvider)]);case 11:case "end":return _context.stop()}},_callee,this)}));return function(_x){return _getOutputAmount.apply(this,arguments)}}();_proto.getInputAmount=function(){var _getInputAmount=_asyncToGenerator(runtime_1.mark(function _callee2(outputAmount){var zeroForOne,
_yield$this$swap2,inputAmount,sqrtRatioX96,liquidity,tickCurrent,inputToken;return runtime_1.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return this.involvesToken(outputAmount.token)?void 0:invariant(!1,"TOKEN"),zeroForOne=outputAmount.token.equals(this.token1),_context2.next=4,this.swap(zeroForOne,JSBI.multiply(outputAmount.raw,NEGATIVE_ONE));case 4:return _yield$this$swap2=_context2.sent,inputAmount=_yield$this$swap2.amountCalculated,sqrtRatioX96=_yield$this$swap2.sqrtRatioX96,
liquidity=_yield$this$swap2.liquidity,tickCurrent=_yield$this$swap2.tickCurrent,inputToken=zeroForOne?this.token0:this.token1,_context2.abrupt("return",[new sdkCore.TokenAmount(inputToken,inputAmount),new Pool(this.token0,this.token1,this.fee,sqrtRatioX96,liquidity,tickCurrent,this.tickDataProvider)]);case 11:case "end":return _context2.stop()}},_callee2,this)}));return function(_x2){return _getInputAmount.apply(this,arguments)}}();_proto.swap=function(){var _swap=_asyncToGenerator(runtime_1.mark(function _callee3(zeroForOne,
amountSpecified,sqrtPriceLimitX96){var JSCompiler_object_inline_sqrtPriceStartX96_31,JSCompiler_object_inline_tickNext_32,JSCompiler_object_inline_initialized_33,JSCompiler_object_inline_sqrtPriceNextX96_34,JSCompiler_object_inline_amountIn_35,JSCompiler_object_inline_amountOut_36,JSCompiler_object_inline_feeAmount_37,JSCompiler_object_inline_amountSpecifiedRemaining_26,JSCompiler_object_inline_amountCalculated_27,JSCompiler_object_inline_sqrtPriceX96_28,JSCompiler_object_inline_tick_29,JSCompiler_object_inline_liquidity_30,
exactInput,_yield$this$tickDataP,_SwapMath$computeSwap,liquidityNet;return runtime_1.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:sqrtPriceLimitX96||(sqrtPriceLimitX96=zeroForOne?JSBI.add(TickMath.MIN_SQRT_RATIO,ONE):JSBI.subtract(TickMath.MAX_SQRT_RATIO,ONE)),zeroForOne?(JSBI.greaterThan(sqrtPriceLimitX96,TickMath.MIN_SQRT_RATIO)?void 0:invariant(!1,"RATIO_MIN"),JSBI.lessThan(sqrtPriceLimitX96,this.sqrtRatioX96)?void 0:invariant(!1,"RATIO_CURRENT")):(JSBI.lessThan(sqrtPriceLimitX96,
TickMath.MAX_SQRT_RATIO)?void 0:invariant(!1,"RATIO_MAX"),JSBI.greaterThan(sqrtPriceLimitX96,this.sqrtRatioX96)?void 0:invariant(!1,"RATIO_CURRENT")),exactInput=JSBI.greaterThanOrEqual(amountSpecified,ZERO),JSCompiler_object_inline_amountSpecifiedRemaining_26=amountSpecified,JSCompiler_object_inline_amountCalculated_27=ZERO,JSCompiler_object_inline_sqrtPriceX96_28=this.sqrtRatioX96,JSCompiler_object_inline_tick_29=this.tickCurrent,JSCompiler_object_inline_liquidity_30=this.liquidity;case 4:if(!JSBI.notEqual(JSCompiler_object_inline_amountSpecifiedRemaining_26,
ZERO)||JSCompiler_object_inline_sqrtPriceX96_28==sqrtPriceLimitX96){_context3.next=35;break}JSCompiler_object_inline_feeAmount_37=JSCompiler_object_inline_amountOut_36=JSCompiler_object_inline_amountIn_35=JSCompiler_object_inline_sqrtPriceNextX96_34=JSCompiler_object_inline_initialized_33=JSCompiler_object_inline_tickNext_32=JSCompiler_object_inline_sqrtPriceStartX96_31=void 0;JSCompiler_object_inline_sqrtPriceStartX96_31=JSCompiler_object_inline_sqrtPriceX96_28;_context3.next=9;return this.tickDataProvider.nextInitializedTickWithinOneWord(JSCompiler_object_inline_tick_29,
zeroForOne,this.tickSpacing);case 9:_yield$this$tickDataP=_context3.sent;JSCompiler_object_inline_tickNext_32=_yield$this$tickDataP[0];JSCompiler_object_inline_initialized_33=_yield$this$tickDataP[1];JSCompiler_object_inline_tickNext_32<TickMath.MIN_TICK?JSCompiler_object_inline_tickNext_32=TickMath.MIN_TICK:JSCompiler_object_inline_tickNext_32>TickMath.MAX_TICK&&(JSCompiler_object_inline_tickNext_32=TickMath.MAX_TICK);JSCompiler_object_inline_sqrtPriceNextX96_34=TickMath.getSqrtRatioAtTick(JSCompiler_object_inline_tickNext_32);
_SwapMath$computeSwap=SwapMath.computeSwapStep(JSCompiler_object_inline_sqrtPriceX96_28,(zeroForOne?JSBI.lessThan(JSCompiler_object_inline_sqrtPriceNextX96_34,sqrtPriceLimitX96):JSBI.greaterThan(JSCompiler_object_inline_sqrtPriceNextX96_34,sqrtPriceLimitX96))?sqrtPriceLimitX96:JSCompiler_object_inline_sqrtPriceNextX96_34,JSCompiler_object_inline_liquidity_30,JSCompiler_object_inline_amountSpecifiedRemaining_26,this.fee);JSCompiler_object_inline_sqrtPriceX96_28=_SwapMath$computeSwap[0];JSCompiler_object_inline_amountIn_35=
_SwapMath$computeSwap[1];JSCompiler_object_inline_amountOut_36=_SwapMath$computeSwap[2];JSCompiler_object_inline_feeAmount_37=_SwapMath$computeSwap[3];exactInput?(JSCompiler_object_inline_amountSpecifiedRemaining_26=JSBI.subtract(JSCompiler_object_inline_amountSpecifiedRemaining_26,JSBI.add(JSCompiler_object_inline_amountIn_35,JSCompiler_object_inline_feeAmount_37)),JSCompiler_object_inline_amountCalculated_27=JSBI.subtract(JSCompiler_object_inline_amountCalculated_27,JSCompiler_object_inline_amountOut_36)):
(JSCompiler_object_inline_amountSpecifiedRemaining_26=JSBI.add(JSCompiler_object_inline_amountSpecifiedRemaining_26,JSCompiler_object_inline_amountOut_36),JSCompiler_object_inline_amountCalculated_27=JSBI.add(JSCompiler_object_inline_amountCalculated_27,JSBI.add(JSCompiler_object_inline_amountIn_35,JSCompiler_object_inline_feeAmount_37)));if(!JSBI.equal(JSCompiler_object_inline_sqrtPriceX96_28,JSCompiler_object_inline_sqrtPriceNextX96_34)){_context3.next=32;break}if(!JSCompiler_object_inline_initialized_33){_context3.next=
29;break}_context3.t0=JSBI;_context3.next=25;return this.tickDataProvider.getTick(JSCompiler_object_inline_tickNext_32);case 25:_context3.t1=_context3.sent.liquidityNet,liquidityNet=_context3.t0.BigInt.call(_context3.t0,_context3.t1),zeroForOne&&(liquidityNet=JSBI.multiply(liquidityNet,NEGATIVE_ONE)),JSCompiler_object_inline_liquidity_30=LiquidityMath.addDelta(JSCompiler_object_inline_liquidity_30,liquidityNet);case 29:JSCompiler_object_inline_tick_29=zeroForOne?JSCompiler_object_inline_tickNext_32-
1:JSCompiler_object_inline_tickNext_32;_context3.next=33;break;case 32:JSCompiler_object_inline_sqrtPriceX96_28!=JSCompiler_object_inline_sqrtPriceStartX96_31&&(JSCompiler_object_inline_tick_29=TickMath.getTickAtSqrtRatio(JSCompiler_object_inline_sqrtPriceX96_28));case 33:_context3.next=4;break;case 35:return _context3.abrupt("return",{amountCalculated:JSCompiler_object_inline_amountCalculated_27,sqrtRatioX96:JSCompiler_object_inline_sqrtPriceX96_28,liquidity:JSCompiler_object_inline_liquidity_30,
tickCurrent:JSCompiler_object_inline_tick_29});case 36:case "end":return _context3.stop()}},_callee3,this)}));return function(_x3,_x4,_x5){return _swap.apply(this,arguments)}}();_createClass(Pool,[{key:"token0Price",get:function(){var _this$_token0Price;return null!=(_this$_token0Price=this._token0Price)?_this$_token0Price:this._token0Price=new sdkCore.Price(this.token0,this.token1,Q192,JSBI.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var _this$_token1Price;
return null!=(_this$_token1Price=this._token1Price)?_this$_token1Price:this._token1Price=new sdkCore.Price(this.token1,this.token0,JSBI.multiply(this.sqrtRatioX96,this.sqrtRatioX96),Q192)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return TICK_SPACINGS[this.fee]}}]);return Pool}(),Position=function(){function Position(_ref){var pool=_ref.pool,liquidity=_ref.liquidity,tickLower=_ref.tickLower;_ref=_ref.tickUpper;this._mintAmounts=this._token1Amount=
this._token0Amount=null;tickLower<_ref?void 0:invariant(!1,"TICK_ORDER");tickLower>=TickMath.MIN_TICK&&0===tickLower%pool.tickSpacing?void 0:invariant(!1,"TICK_LOWER");_ref<=TickMath.MAX_TICK&&0===_ref%pool.tickSpacing?void 0:invariant(!1,"TICK_UPPER");this.pool=pool;this.tickLower=tickLower;this.tickUpper=_ref;this.liquidity=JSBI.BigInt(liquidity)}var _proto=Position.prototype;_proto.mintAmountsWithSlippage=function(slippageTolerance){var priceLower=this.pool.token0Price.raw.multiply((new sdkCore.Percent(1)).subtract(slippageTolerance));
slippageTolerance=this.pool.token0Price.raw.multiply(slippageTolerance.add(1));priceLower=encodeSqrtRatioX96(priceLower.numerator,priceLower.denominator);slippageTolerance=encodeSqrtRatioX96(slippageTolerance.numerator,slippageTolerance.denominator);priceLower=new Pool(this.pool.token0,this.pool.token1,this.pool.fee,priceLower,0,TickMath.getTickAtSqrtRatio(priceLower));slippageTolerance=new Pool(this.pool.token0,this.pool.token1,this.pool.fee,slippageTolerance,0,TickMath.getTickAtSqrtRatio(slippageTolerance));
slippageTolerance=(new Position({pool:slippageTolerance,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper})).mintAmounts.amount0;priceLower=(new Position({pool:priceLower,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper})).mintAmounts.amount1;return{amount0:slippageTolerance,amount1:priceLower}};_proto.burnAmountsWithSlippage=function(slippageTolerance){var priceLower=this.pool.token0Price.raw.multiply((new sdkCore.Percent(1)).subtract(slippageTolerance));
slippageTolerance=this.pool.token0Price.raw.multiply(slippageTolerance.add(1));priceLower=encodeSqrtRatioX96(priceLower.numerator,priceLower.denominator);slippageTolerance=encodeSqrtRatioX96(slippageTolerance.numerator,slippageTolerance.denominator);priceLower=new Pool(this.pool.token0,this.pool.token1,this.pool.fee,priceLower,0,TickMath.getTickAtSqrtRatio(priceLower));slippageTolerance=new Pool(this.pool.token0,this.pool.token1,this.pool.fee,slippageTolerance,0,TickMath.getTickAtSqrtRatio(slippageTolerance));
slippageTolerance=(new Position({pool:slippageTolerance,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper})).amount0;priceLower=(new Position({pool:priceLower,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper})).amount1;return{amount0:slippageTolerance.raw,amount1:priceLower.raw}};Position.fromAmounts=function(_ref2){var pool=_ref2.pool,tickLower=_ref2.tickLower,tickUpper=_ref2.tickUpper,amount0=_ref2.amount0;_ref2=_ref2.amount1;var sqrtRatioAX96=
TickMath.getSqrtRatioAtTick(tickLower),sqrtRatioBX96=TickMath.getSqrtRatioAtTick(tickUpper);return new Position({pool,tickLower,tickUpper,liquidity:maxLiquidityForAmounts(pool.sqrtRatioX96,sqrtRatioAX96,sqrtRatioBX96,amount0,_ref2)})};Position.fromAmount0=function(_ref3){return Position.fromAmounts({pool:_ref3.pool,tickLower:_ref3.tickLower,tickUpper:_ref3.tickUpper,amount0:_ref3.amount0,amount1:sdkCore.MaxUint256})};Position.fromAmount1=function(_ref4){return Position.fromAmounts({pool:_ref4.pool,
tickLower:_ref4.tickLower,tickUpper:_ref4.tickUpper,amount0:sdkCore.MaxUint256,amount1:_ref4.amount1})};_createClass(Position,[{key:"token0PriceLower",get:function(){return tickToPrice(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return tickToPrice(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){null===this._token0Amount&&(this._token0Amount=this.pool.tickCurrent<this.tickLower?new sdkCore.TokenAmount(this.pool.token0,
SqrtPriceMath.getAmount0Delta(TickMath.getSqrtRatioAtTick(this.tickLower),TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?new sdkCore.TokenAmount(this.pool.token0,SqrtPriceMath.getAmount0Delta(this.pool.sqrtRatioX96,TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):new sdkCore.TokenAmount(this.pool.token0,ZERO));return this._token0Amount}},{key:"amount1",get:function(){null===this._token1Amount&&(this._token1Amount=this.pool.tickCurrent<
this.tickLower?new sdkCore.TokenAmount(this.pool.token1,ZERO):this.pool.tickCurrent<this.tickUpper?new sdkCore.TokenAmount(this.pool.token1,SqrtPriceMath.getAmount1Delta(TickMath.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):new sdkCore.TokenAmount(this.pool.token1,SqrtPriceMath.getAmount1Delta(TickMath.getSqrtRatioAtTick(this.tickLower),TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)));return this._token1Amount}},{key:"mintAmounts",get:function(){return null===
this._mintAmounts?this.pool.tickCurrent<this.tickLower?{amount0:SqrtPriceMath.getAmount0Delta(TickMath.getSqrtRatioAtTick(this.tickLower),TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:ZERO}:this.pool.tickCurrent<this.tickUpper?{amount0:SqrtPriceMath.getAmount0Delta(this.pool.sqrtRatioX96,TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:SqrtPriceMath.getAmount1Delta(TickMath.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)}:
{amount0:ZERO,amount1:SqrtPriceMath.getAmount1Delta(TickMath.getSqrtRatioAtTick(this.tickLower),TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}}]);return Position}(),Route=function(){function Route(pools,input,output){this._midPrice=null;0<pools.length?void 0:invariant(!1,"POOLS");var chainId=pools[0].chainId;pools.every(function(pool){return pool.chainId===chainId})?void 0:invariant(!1,"CHAIN_IDS");var weth=sdkCore.WETH9[chainId],inputTokenIsInFirstPool=input instanceof
sdkCore.Token&&pools[0].involvesToken(input),inputWethIsInFirstPool=input===sdkCore.ETHER&&weth&&pools[0].involvesToken(weth);inputTokenIsInFirstPool||inputWethIsInFirstPool?void 0:invariant(!1,"INPUT");inputTokenIsInFirstPool="undefined"===typeof output;inputWethIsInFirstPool=output instanceof sdkCore.Token&&pools[pools.length-1].involvesToken(output);var outputWethIsInLastPool=output===sdkCore.ETHER&&weth&&pools[pools.length-1].involvesToken(weth);inputTokenIsInFirstPool||inputWethIsInFirstPool||
outputWethIsInLastPool?void 0:invariant(!1,"OUTPUT");weth=[input instanceof sdkCore.Token?input:weth];for(inputTokenIsInFirstPool=_createForOfIteratorHelperLoose(pools.entries());!(inputWethIsInFirstPool=inputTokenIsInFirstPool()).done;)outputWethIsInLastPool=inputWethIsInFirstPool.value,inputWethIsInFirstPool=outputWethIsInLastPool[1],outputWethIsInLastPool=weth[outputWethIsInLastPool[0]],outputWethIsInLastPool.equals(inputWethIsInFirstPool.token0)||outputWethIsInLastPool.equals(inputWethIsInFirstPool.token1)?
void 0:invariant(!1,"PATH"),inputWethIsInFirstPool=outputWethIsInLastPool.equals(inputWethIsInFirstPool.token0)?inputWethIsInFirstPool.token1:inputWethIsInFirstPool.token0,weth.push(inputWethIsInFirstPool);this.pools=pools;this.tokenPath=weth;this.input=input;this.output=null!=output?output:weth[weth.length-1]}_createClass(Route,[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"inputToken",get:function(){if(this.input instanceof sdkCore.Token)return this.input;this.input!==sdkCore.Currency.ETHER?
invariant(!1,"ETHER"):void 0;return sdkCore.WETH9[this.chainId]}},{key:"outputToken",get:function(){if(this.output instanceof sdkCore.Token)return this.output;this.output!==sdkCore.Currency.ETHER?invariant(!1,"ETHER"):void 0;return sdkCore.WETH9[this.chainId]}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var price$jscomp$0=this.pools.slice(1).reduce(function(_ref,pool){var price=_ref.price;return _ref.nextInput.equals(pool.token0)?{nextInput:pool.token1,price:price.multiply(pool.token0Price)}:
{nextInput:pool.token0,price:price.multiply(pool.token1Price)}},this.pools[0].token0.equals(this.inputToken)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new sdkCore.Price(this.input,this.output,price$jscomp$0.denominator,price$jscomp$0.numerator)}}]);return Route}(),Trade=function(){function Trade(_ref){var route=_ref.route,inputAmount=_ref.inputAmount,outputAmount=_ref.outputAmount;
_ref=_ref.tradeType;sdkCore.currencyEquals(inputAmount.currency,route.input)?void 0:invariant(!1,"INPUT_CURRENCY_MATCH");sdkCore.currencyEquals(outputAmount.currency,route.output)?void 0:invariant(!1,"OUTPUT_CURRENCY_MATCH");this.route=route;this.inputAmount=inputAmount;this.outputAmount=outputAmount;this.tradeType=_ref}Trade.exactIn=function(){var _exactIn=_asyncToGenerator(runtime_1.mark(function _callee(route,amountIn){return runtime_1.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",
Trade.fromRoute(route,amountIn,sdkCore.TradeType.EXACT_INPUT));case 1:case "end":return _context.stop()}},_callee)}));return function(_x,_x2){return _exactIn.apply(this,arguments)}}();Trade.exactOut=function(){var _exactOut=_asyncToGenerator(runtime_1.mark(function _callee2(route,amountOut){return runtime_1.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.abrupt("return",Trade.fromRoute(route,amountOut,sdkCore.TradeType.EXACT_OUTPUT));case 1:case "end":return _context2.stop()}},
_callee2)}));return function(_x3,_x4){return _exactOut.apply(this,arguments)}}();Trade.fromRoute=function(){var _fromRoute=_asyncToGenerator(runtime_1.mark(function _callee3(route,amount,tradeType){var amounts,i,pool,_yield$pool$getOutput,_outputAmount,_i,_pool,_yield$_pool$getInput,_inputAmount,inputAmount,outputAmount;return runtime_1.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:amounts=Array(route.tokenPath.length);if(tradeType!==sdkCore.TradeType.EXACT_INPUT){_context3.next=
17;break}sdkCore.currencyEquals(amount.currency,route.input)?void 0:invariant(!1,"INPUT");amounts[0]=wrappedAmount(amount,route.chainId);i=0;case 5:if(!(i<route.tokenPath.length-1)){_context3.next=15;break}pool=route.pools[i];_context3.next=9;return pool.getOutputAmount(amounts[i]);case 9:_yield$pool$getOutput=_context3.sent,_outputAmount=_yield$pool$getOutput[0],amounts[i+1]=_outputAmount;case 12:i++;_context3.next=5;break;case 15:_context3.next=30;break;case 17:sdkCore.currencyEquals(amount.currency,
route.output)?void 0:invariant(!1,"OUTPUT"),amounts[amounts.length-1]=wrappedAmount(amount,route.chainId),_i=route.tokenPath.length-1;case 20:if(!(0<_i)){_context3.next=30;break}_pool=route.pools[_i-1];_context3.next=24;return _pool.getInputAmount(amounts[_i]);case 24:_yield$_pool$getInput=_context3.sent,_inputAmount=_yield$_pool$getInput[0],amounts[_i-1]=_inputAmount;case 27:_i--;_context3.next=20;break;case 30:return inputAmount=tradeType===sdkCore.TradeType.EXACT_INPUT?amount:route.input===sdkCore.ETHER?
sdkCore.CurrencyAmount.ether(amounts[0].raw):amounts[0],outputAmount=tradeType===sdkCore.TradeType.EXACT_OUTPUT?amount:route.output===sdkCore.ETHER?sdkCore.CurrencyAmount.ether(amounts[amounts.length-1].raw):amounts[amounts.length-1],_context3.abrupt("return",new Trade({route,tradeType,inputAmount,outputAmount}));case 33:case "end":return _context3.stop()}},_callee3)}));return function(_x5,_x6,_x7){return _fromRoute.apply(this,arguments)}}();Trade.createUncheckedTrade=function(constructorArguments){return new Trade(constructorArguments)};
var _proto=Trade.prototype;_proto.minimumAmountOut=function(slippageTolerance){slippageTolerance.lessThan(ZERO)?invariant(!1,"SLIPPAGE_TOLERANCE"):void 0;if(this.tradeType===sdkCore.TradeType.EXACT_OUTPUT)return this.outputAmount;slippageTolerance=(new sdkCore.Fraction(ONE)).add(slippageTolerance).invert().multiply(this.outputAmount.raw).quotient;return this.outputAmount instanceof sdkCore.TokenAmount?new sdkCore.TokenAmount(this.outputAmount.token,slippageTolerance):sdkCore.CurrencyAmount.ether(slippageTolerance)};
_proto.maximumAmountIn=function(slippageTolerance){slippageTolerance.lessThan(ZERO)?invariant(!1,"SLIPPAGE_TOLERANCE"):void 0;if(this.tradeType===sdkCore.TradeType.EXACT_INPUT)return this.inputAmount;slippageTolerance=(new sdkCore.Fraction(ONE)).add(slippageTolerance).multiply(this.inputAmount.raw).quotient;return this.inputAmount instanceof sdkCore.TokenAmount?new sdkCore.TokenAmount(this.inputAmount.token,slippageTolerance):sdkCore.CurrencyAmount.ether(slippageTolerance)};_proto.worstExecutionPrice=
function(slippageTolerance){return new sdkCore.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(slippageTolerance).raw,this.minimumAmountOut(slippageTolerance).raw)};Trade.bestTradeExactIn=function(){var _bestTradeExactIn=_asyncToGenerator(runtime_1.mark(function _callee4(pools,currencyAmountIn,currencyOut,_temp,currentPools,originalAmountIn,bestTrades){var _ref2,_ref2$maxNumResults,maxNumResults,_ref2$maxHops,maxHops,chainId,amountIn,tokenOut,i,pool,amountOut,_yield$pool$getOutput2,
poolsExcludingThisPool;return runtime_1.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:_ref2=void 0===_temp?{}:_temp,_ref2$maxNumResults=_ref2.maxNumResults,maxNumResults=void 0===_ref2$maxNumResults?3:_ref2$maxNumResults,_ref2$maxHops=_ref2.maxHops,maxHops=void 0===_ref2$maxHops?3:_ref2$maxHops,void 0===currentPools&&(currentPools=[]),void 0===originalAmountIn&&(originalAmountIn=currencyAmountIn),void 0===bestTrades&&(bestTrades=[]),0<pools.length?void 0:invariant(!1,
"POOLS"),0<maxHops?void 0:invariant(!1,"MAX_HOPS"),originalAmountIn===currencyAmountIn||0<currentPools.length?void 0:invariant(!1,"INVALID_RECURSION"),chainId=currencyAmountIn instanceof sdkCore.TokenAmount?currencyAmountIn.token.chainId:currencyOut instanceof sdkCore.Token?currencyOut.chainId:void 0,void 0===chainId?invariant(!1,"CHAIN_ID"):void 0,amountIn=wrappedAmount(currencyAmountIn,chainId),tokenOut=wrappedCurrency(currencyOut,chainId),i=0;case 12:if(!(i<pools.length)){_context4.next=48;break}pool=
pools[i];if(pool.token0.equals(amountIn.token)||pool.token1.equals(amountIn.token)){_context4.next=16;break}return _context4.abrupt("continue",45);case 16:return amountOut=void 0,_context4.prev=17,_context4.next=21,pool.getOutputAmount(amountIn);case 21:_yield$pool$getOutput2=_context4.sent;amountOut=_yield$pool$getOutput2[0];_context4.next=30;break;case 25:_context4.prev=25;_context4.t0=_context4["catch"](17);if(!_context4.t0.isInsufficientInputAmountError){_context4.next=29;break}return _context4.abrupt("continue",
45);case 29:throw _context4.t0;case 30:if(!amountOut.token.equals(tokenOut)){_context4.next=41;break}_context4.t1=sdkCore.sortedInsert;_context4.t2=bestTrades;_context4.next=35;return Trade.fromRoute(new Route([].concat(currentPools,[pool]),originalAmountIn.currency,currencyOut),originalAmountIn,sdkCore.TradeType.EXACT_INPUT);case 35:_context4.t3=_context4.sent;_context4.t4=maxNumResults;_context4.t5=tradeComparator;(0,_context4.t1)(_context4.t2,_context4.t3,_context4.t4,_context4.t5);_context4.next=
45;break;case 41:if(!(1<maxHops&&1<pools.length)){_context4.next=45;break}poolsExcludingThisPool=pools.slice(0,i).concat(pools.slice(i+1,pools.length));_context4.next=45;return Trade.bestTradeExactIn(poolsExcludingThisPool,amountOut,currencyOut,{maxNumResults,maxHops:maxHops-1},[].concat(currentPools,[pool]),originalAmountIn,bestTrades);case 45:i++;_context4.next=12;break;case 48:return _context4.abrupt("return",bestTrades);case 49:case "end":return _context4.stop()}},_callee4,null,[[17,25]])}));
return function(_x8,_x9,_x10,_x11,_x12,_x13,_x14){return _bestTradeExactIn.apply(this,arguments)}}();Trade.bestTradeExactOut=function(){var _bestTradeExactOut=_asyncToGenerator(runtime_1.mark(function _callee5(pools,currencyIn,currencyAmountOut,_temp2,currentPools,originalAmountOut,bestTrades){var _ref3,_ref3$maxNumResults,maxNumResults,_ref3$maxHops,maxHops,chainId,amountOut,tokenIn,i,pool,amountIn,_yield$pool$getInputA,poolsExcludingThisPool;return runtime_1.wrap(function(_context5){for(;;)switch(_context5.prev=
_context5.next){case 0:_ref3=void 0===_temp2?{}:_temp2,_ref3$maxNumResults=_ref3.maxNumResults,maxNumResults=void 0===_ref3$maxNumResults?3:_ref3$maxNumResults,_ref3$maxHops=_ref3.maxHops,maxHops=void 0===_ref3$maxHops?3:_ref3$maxHops,void 0===currentPools&&(currentPools=[]),void 0===originalAmountOut&&(originalAmountOut=currencyAmountOut),void 0===bestTrades&&(bestTrades=[]),0<pools.length?void 0:invariant(!1,"POOLS"),0<maxHops?void 0:invariant(!1,"MAX_HOPS"),originalAmountOut===currencyAmountOut||
0<currentPools.length?void 0:invariant(!1,"INVALID_RECURSION"),chainId=currencyAmountOut instanceof sdkCore.TokenAmount?currencyAmountOut.token.chainId:currencyIn instanceof sdkCore.Token?currencyIn.chainId:void 0,void 0===chainId?invariant(!1,"CHAIN_ID"):void 0,amountOut=wrappedAmount(currencyAmountOut,chainId),tokenIn=wrappedCurrency(currencyIn,chainId),i=0;case 12:if(!(i<pools.length)){_context5.next=48;break}pool=pools[i];if(pool.token0.equals(amountOut.token)||pool.token1.equals(amountOut.token)){_context5.next=
16;break}return _context5.abrupt("continue",45);case 16:return amountIn=void 0,_context5.prev=17,_context5.next=21,pool.getInputAmount(amountOut);case 21:_yield$pool$getInputA=_context5.sent;amountIn=_yield$pool$getInputA[0];_context5.next=30;break;case 25:_context5.prev=25;_context5.t0=_context5["catch"](17);if(!_context5.t0.isInsufficientReservesError){_context5.next=29;break}return _context5.abrupt("continue",45);case 29:throw _context5.t0;case 30:if(!amountIn.token.equals(tokenIn)){_context5.next=
41;break}_context5.t1=sdkCore.sortedInsert;_context5.t2=bestTrades;_context5.next=35;return Trade.fromRoute(new Route([pool].concat(currentPools),currencyIn,originalAmountOut.currency),originalAmountOut,sdkCore.TradeType.EXACT_OUTPUT);case 35:_context5.t3=_context5.sent;_context5.t4=maxNumResults;_context5.t5=tradeComparator;(0,_context5.t1)(_context5.t2,_context5.t3,_context5.t4,_context5.t5);_context5.next=45;break;case 41:if(!(1<maxHops&&1<pools.length)){_context5.next=45;break}poolsExcludingThisPool=
pools.slice(0,i).concat(pools.slice(i+1,pools.length));_context5.next=45;return Trade.bestTradeExactOut(poolsExcludingThisPool,currencyIn,amountIn,{maxNumResults,maxHops:maxHops-1},[pool].concat(currentPools),originalAmountOut,bestTrades);case 45:i++;_context5.next=12;break;case 48:return _context5.abrupt("return",bestTrades);case 49:case "end":return _context5.stop()}},_callee5,null,[[17,25]])}));return function(_x15,_x16,_x17,_x18,_x19,_x20,_x21){return _bestTradeExactOut.apply(this,arguments)}}();
_createClass(Trade,[{key:"executionPrice",get:function(){var _this$_executionPrice;return null!=(_this$_executionPrice=this._executionPrice)?_this$_executionPrice:this._executionPrice=new sdkCore.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.raw,this.outputAmount.raw)}}]);return Trade}(),SelfPermit=function(){function SelfPermit(){}SelfPermit.encodePermit=function(token,options){return"nonce"in options?SelfPermit.INTERFACE.encodeFunctionData("selfPermitAllowed",[token.address,
toHex(options.nonce),toHex(options.expiry),options.v,options.r,options.s]):SelfPermit.INTERFACE.encodeFunctionData("selfPermit",[token.address,toHex(options.amount),toHex(options.deadline),options.v,options.r,options.s])};return SelfPermit}();SelfPermit.INTERFACE=new abi.Interface(module$jscomp$0.abi);var MaxUint128=toHex(JSBI.subtract(JSBI.exponentiate(JSBI.BigInt(2),JSBI.BigInt(128)),JSBI.BigInt(1)));module$jscomp$0=function(_SelfPermit){function NonfungiblePositionManager(){return _SelfPermit.call(this)||
this}_inheritsLoose(NonfungiblePositionManager,_SelfPermit);NonfungiblePositionManager.addCallParameters=function(position,options){JSBI.greaterThan(position.liquidity,ZERO)?void 0:invariant(!1,"ZERO_LIQUIDITY");var calldatas=[],_position$mintAmounts=position.mintAmounts,amount0Desired=_position$mintAmounts.amount0;_position$mintAmounts=_position$mintAmounts.amount1;var minimumAmounts=position.mintAmountsWithSlippage(options.slippageTolerance),amount0Min=toHex(minimumAmounts.amount0);minimumAmounts=
toHex(minimumAmounts.amount1);var deadline=toHex(options.deadline);isMint(options)&&options.createPool&&calldatas.push(NonfungiblePositionManager.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[position.pool.token0.address,position.pool.token1.address,position.pool.fee,toHex(position.pool.sqrtRatioX96)]));options.token0Permit&&calldatas.push(NonfungiblePositionManager.encodePermit(position.pool.token0,options.token0Permit));options.token1Permit&&calldatas.push(NonfungiblePositionManager.encodePermit(position.pool.token1,
options.token1Permit));if(isMint(options)){var recipient=sdkCore.validateAndParseAddress(options.recipient);calldatas.push(NonfungiblePositionManager.INTERFACE.encodeFunctionData("mint",[{token0:position.pool.token0.address,token1:position.pool.token1.address,fee:position.pool.fee,tickLower:position.tickLower,tickUpper:position.tickUpper,amount0Desired:toHex(amount0Desired),amount1Desired:toHex(_position$mintAmounts),amount0Min,amount1Min:minimumAmounts,recipient,deadline}]))}else calldatas.push(NonfungiblePositionManager.INTERFACE.encodeFunctionData("increaseLiquidity",
[{tokenId:toHex(options.tokenId),amount0Desired:toHex(amount0Desired),amount1Desired:toHex(_position$mintAmounts),amount0Min,amount1Min:minimumAmounts,deadline}]));amount0Min=toHex(0);options.useEther&&((options=sdkCore.WETH9[position.pool.chainId])&&(position.pool.token0.equals(options)||position.pool.token1.equals(options))?void 0:invariant(!1,"NO_WETH"),position=position.pool.token0.equals(options)?amount0Desired:_position$mintAmounts,JSBI.greaterThan(position,ZERO)&&calldatas.push(NonfungiblePositionManager.INTERFACE.encodeFunctionData("refundETH")),
amount0Min=toHex(position));return{calldata:1===calldatas.length?calldatas[0]:NonfungiblePositionManager.INTERFACE.encodeFunctionData("multicall",[calldatas]),value:amount0Min}};NonfungiblePositionManager.encodeCollect=function(options){var calldatas=[],tokenId=toHex(options.tokenId),involvesETH=sdkCore.currencyEquals(options.expectedCurrencyOwed0.currency,sdkCore.ETHER)||sdkCore.currencyEquals(options.expectedCurrencyOwed1.currency,sdkCore.ETHER),recipient=sdkCore.validateAndParseAddress(options.recipient);
calldatas.push(NonfungiblePositionManager.INTERFACE.encodeFunctionData("collect",[{tokenId,recipient:involvesETH?"0x0000000000000000000000000000000000000000":recipient,amount0Max:MaxUint128,amount1Max:MaxUint128}]));involvesETH&&(tokenId=sdkCore.currencyEquals(options.expectedCurrencyOwed0.currency,sdkCore.ETHER)?options.expectedCurrencyOwed0.raw:options.expectedCurrencyOwed1.raw,involvesETH=sdkCore.currencyEquals(options.expectedCurrencyOwed0.currency,sdkCore.ETHER)?options.expectedCurrencyOwed1.currency:
options.expectedCurrencyOwed0.currency,options=sdkCore.currencyEquals(options.expectedCurrencyOwed0.currency,sdkCore.ETHER)?options.expectedCurrencyOwed1.raw:options.expectedCurrencyOwed0.raw,calldatas.push(NonfungiblePositionManager.INTERFACE.encodeFunctionData("unwrapWETH9",[toHex(tokenId),recipient])),calldatas.push(NonfungiblePositionManager.INTERFACE.encodeFunctionData("sweepToken",[involvesETH.address,toHex(options),recipient])));return calldatas};NonfungiblePositionManager.collectCallParameters=
function(options){options=NonfungiblePositionManager.encodeCollect(options);return{calldata:1===options.length?options[0]:NonfungiblePositionManager.INTERFACE.encodeFunctionData("multicall",[options]),value:toHex(0)}};NonfungiblePositionManager.removeCallParameters=function(position,options){var calldatas=[],deadline=toHex(options.deadline),tokenId=toHex(options.tokenId),partialPosition=new Position({pool:position.pool,liquidity:options.liquidityPercentage.multiply(position.liquidity).quotient,tickLower:position.tickLower,
tickUpper:position.tickUpper});JSBI.greaterThan(partialPosition.liquidity,ZERO)?void 0:invariant(!1,"ZERO_LIQUIDITY");var _partialPosition$burn=partialPosition.burnAmountsWithSlippage(options.slippageTolerance);position=_partialPosition$burn.amount0;_partialPosition$burn=_partialPosition$burn.amount1;options.permit&&calldatas.push(NonfungiblePositionManager.INTERFACE.encodeFunctionData("permit",[sdkCore.validateAndParseAddress(options.permit.spender),tokenId,toHex(options.permit.deadline),options.permit.v,
options.permit.r,options.permit.s]));calldatas.push(NonfungiblePositionManager.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId,liquidity:toHex(partialPosition.liquidity),amount0Min:toHex(position),amount1Min:toHex(_partialPosition$burn),deadline}]));var _options$collectOptio=options.collectOptions;deadline=_options$collectOptio.expectedCurrencyOwed0;partialPosition=_options$collectOptio.expectedCurrencyOwed1;var excluded=["expectedCurrencyOwed0","expectedCurrencyOwed1"];if(null==_options$collectOptio)_options$collectOptio=
{};else{var target={},sourceKeys=Object.keys(_options$collectOptio),i;for(i=0;i<sourceKeys.length;i++){var key=sourceKeys[i];0<=excluded.indexOf(key)||(target[key]=_options$collectOptio[key])}_options$collectOptio=target}calldatas.push.apply(calldatas,NonfungiblePositionManager.encodeCollect(_extends({tokenId:options.tokenId,expectedCurrencyOwed0:deadline.add(sdkCore.currencyEquals(deadline.currency,sdkCore.ETHER)?sdkCore.CurrencyAmount.ether(position):new sdkCore.TokenAmount(deadline.currency,position)),
expectedCurrencyOwed1:partialPosition.add(sdkCore.currencyEquals(partialPosition.currency,sdkCore.ETHER)?sdkCore.CurrencyAmount.ether(_partialPosition$burn):new sdkCore.TokenAmount(partialPosition.currency,_partialPosition$burn))},_options$collectOptio)));options.liquidityPercentage.equalTo(ONE)?options.burnToken&&calldatas.push(NonfungiblePositionManager.INTERFACE.encodeFunctionData("burn",[tokenId])):!0===options.burnToken?invariant(!1,"CANNOT_BURN"):void 0;return{calldata:NonfungiblePositionManager.INTERFACE.encodeFunctionData("multicall",
[calldatas]),value:toHex(0)}};return NonfungiblePositionManager}(SelfPermit);module$jscomp$0.INTERFACE=new abi.Interface(global.abi);global=function(_SelfPermit){function SwapRouter(){return _SelfPermit.call(this)||this}_inheritsLoose(SwapRouter,_SelfPermit);SwapRouter.swapCallParameters=function(trade,options){var calldatas=[];options.inputTokenPermit&&(trade.inputAmount.currency instanceof sdkCore.Token?void 0:invariant(!1,"NON_TOKEN_PERMIT"),calldatas.push(SwapRouter.encodePermit(trade.inputAmount.currency,
options.inputTokenPermit)));var recipient=sdkCore.validateAndParseAddress(options.recipient),deadline=toHex(options.deadline),amountIn=toHex(trade.maximumAmountIn(options.slippageTolerance).raw),amountOut=toHex(trade.minimumAmountOut(options.slippageTolerance).raw),value=sdkCore.currencyEquals(trade.inputAmount.currency,sdkCore.ETHER)?amountIn:toHex(0),singleHop=1===trade.route.pools.length,mustRefund=sdkCore.currencyEquals(trade.inputAmount.currency,sdkCore.ETHER)&&trade.tradeType===sdkCore.TradeType.EXACT_OUTPUT,
outputIsETHER=sdkCore.currencyEquals(trade.outputAmount.currency,sdkCore.ETHER),routerMustCustody=outputIsETHER||!!options.fee;if(singleHop)if(trade.tradeType===sdkCore.TradeType.EXACT_INPUT){var _options$sqrtPriceLim;deadline={tokenIn:trade.route.tokenPath[0].address,tokenOut:trade.route.tokenPath[1].address,fee:trade.route.pools[0].fee,recipient:routerMustCustody?"0x0000000000000000000000000000000000000000":recipient,deadline,amountIn,amountOutMinimum:amountOut,sqrtPriceLimitX96:toHex(null!=(_options$sqrtPriceLim=
options.sqrtPriceLimitX96)?_options$sqrtPriceLim:0)};calldatas.push(SwapRouter.INTERFACE.encodeFunctionData("exactInputSingle",[deadline]))}else{var _options$sqrtPriceLim2;deadline={tokenIn:trade.route.tokenPath[0].address,tokenOut:trade.route.tokenPath[1].address,fee:trade.route.pools[0].fee,recipient:routerMustCustody?"0x0000000000000000000000000000000000000000":recipient,deadline,amountOut,amountInMaximum:amountIn,sqrtPriceLimitX96:toHex(null!=(_options$sqrtPriceLim2=options.sqrtPriceLimitX96)?
_options$sqrtPriceLim2:0)};calldatas.push(SwapRouter.INTERFACE.encodeFunctionData("exactOutputSingle",[deadline]))}else void 0!==options.sqrtPriceLimitX96?invariant(!1,"MULTIHOP_PRICE_LIMIT"):void 0,_options$sqrtPriceLim=encodeRouteToPath(trade.route,trade.tradeType===sdkCore.TradeType.EXACT_OUTPUT),trade.tradeType===sdkCore.TradeType.EXACT_INPUT?calldatas.push(SwapRouter.INTERFACE.encodeFunctionData("exactInput",[{path:_options$sqrtPriceLim,recipient:routerMustCustody?"0x0000000000000000000000000000000000000000":
recipient,deadline,amountIn,amountOutMinimum:amountOut}])):calldatas.push(SwapRouter.INTERFACE.encodeFunctionData("exactOutput",[{path:_options$sqrtPriceLim,recipient:routerMustCustody?"0x0000000000000000000000000000000000000000":recipient,deadline,amountOut,amountInMaximum:amountIn}]));mustRefund&&calldatas.push(SwapRouter.INTERFACE.encodeFunctionData("refundETH"));routerMustCustody&&(options.fee?(mustRefund=sdkCore.validateAndParseAddress(options.fee.recipient),options=toHex(options.fee.fee.multiply(1E4).quotient),
outputIsETHER?calldatas.push(SwapRouter.INTERFACE.encodeFunctionData("unwrapWETH9WithFee",[amountOut,recipient,options,mustRefund])):calldatas.push(SwapRouter.INTERFACE.encodeFunctionData("sweepTokenWithFee",[trade.route.tokenPath[trade.route.tokenPath.length-1].address,amountOut,recipient,options,mustRefund]))):calldatas.push(SwapRouter.INTERFACE.encodeFunctionData("unwrapWETH9",[amountOut,recipient])));return{calldata:1===calldatas.length?calldatas[0]:SwapRouter.INTERFACE.encodeFunctionData("multicall",
[calldatas]),value}};return SwapRouter}(SelfPermit);global.INTERFACE=new abi.Interface(require.abi);exports$jscomp$0.ADDRESS_ZERO="0x0000000000000000000000000000000000000000";exports$jscomp$0.FACTORY_ADDRESS="0x1F98431c8aD98523631AE4a59f267346ea31F984";exports$jscomp$0.FullMath=FullMath;exports$jscomp$0.LiquidityMath=LiquidityMath;exports$jscomp$0.NoTickDataProvider=_TICK_SPACINGS;exports$jscomp$0.NonfungiblePositionManager=module$jscomp$0;exports$jscomp$0.POOL_INIT_CODE_HASH="0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54";
exports$jscomp$0.Pool=Pool;exports$jscomp$0.Position=Position;exports$jscomp$0.Route=Route;exports$jscomp$0.SqrtPriceMath=SqrtPriceMath;exports$jscomp$0.SwapRouter=global;exports$jscomp$0.TICK_SPACINGS=TICK_SPACINGS;exports$jscomp$0.Tick=Tick;exports$jscomp$0.TickList=TickList;exports$jscomp$0.TickListDataProvider=TickListDataProvider;exports$jscomp$0.TickMath=TickMath;exports$jscomp$0.Trade=Trade;exports$jscomp$0.computePoolAddress=computePoolAddress;exports$jscomp$0.encodeRouteToPath=encodeRouteToPath;
exports$jscomp$0.encodeSqrtRatioX96=encodeSqrtRatioX96;exports$jscomp$0.isSorted=isSorted;exports$jscomp$0.maxLiquidityForAmounts=maxLiquidityForAmounts;exports$jscomp$0.mostSignificantBit=mostSignificantBit;exports$jscomp$0.nearestUsableTick=function(tick,tickSpacing){Number.isInteger(tick)&&Number.isInteger(tickSpacing)?void 0:invariant(!1,"INTEGERS");0<tickSpacing?void 0:invariant(!1,"TICK_SPACING");tick>=TickMath.MIN_TICK&&tick<=TickMath.MAX_TICK?void 0:invariant(!1,"TICK_BOUND");tick=Math.round(tick/
tickSpacing)*tickSpacing;return tick<TickMath.MIN_TICK?tick+tickSpacing:tick>TickMath.MAX_TICK?tick-tickSpacing:tick};exports$jscomp$0.priceToClosestTick=function(price){price.baseCurrency instanceof sdkCore.Token&&price.quoteCurrency instanceof sdkCore.Token?void 0:invariant(!1,"TOKENS");var sorted=price.baseCurrency.sortsBefore(price.quoteCurrency),sqrtRatioX96=sorted?encodeSqrtRatioX96(price.raw.numerator,price.raw.denominator):encodeSqrtRatioX96(price.raw.denominator,price.raw.numerator);sqrtRatioX96=
TickMath.getTickAtSqrtRatio(sqrtRatioX96);var nextTickPrice=tickToPrice(price.baseCurrency,price.quoteCurrency,sqrtRatioX96+1);sorted?price.lessThan(nextTickPrice)||sqrtRatioX96++:price.greaterThan(nextTickPrice)||sqrtRatioX96++;return sqrtRatioX96};exports$jscomp$0.tickToPrice=tickToPrice;exports$jscomp$0.toHex=toHex;exports$jscomp$0.tradeComparator=tradeComparator}
//# sourceMappingURL=module$node_modules$$uniswap$v3_sdk$dist$v3_sdk_cjs_development.js.map
