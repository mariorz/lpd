shadow$provide.module$node_modules$$walletconnect$core$dist$cjs$events=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});const utils_1=require("module$node_modules$$walletconnect$utils$dist$cjs$index");class EventManager{constructor(){this._eventEmitters=[]}subscribe(eventEmitter){this._eventEmitters.push(eventEmitter)}trigger(payload){let eventEmitters=[],event;(event=utils_1.isJsonRpcRequest(payload)?payload.method:utils_1.isJsonRpcResponseSuccess(payload)||
utils_1.isJsonRpcResponseError(payload)?`response:${payload.id}`:utils_1.isInternalEvent(payload)?payload.event:"")&&(eventEmitters=this._eventEmitters.filter(eventEmitter=>eventEmitter.event===event));eventEmitters&&eventEmitters.length||utils_1.isReservedEvent(event)||utils_1.isInternalEvent(event)||(eventEmitters=this._eventEmitters.filter(eventEmitter=>"call_request"===eventEmitter.event));eventEmitters.forEach(eventEmitter=>{utils_1.isJsonRpcResponseError(payload)?eventEmitter.callback(Error(payload.error.message),
null):eventEmitter.callback(null,payload)})}}exports.default=EventManager}
//# sourceMappingURL=module$node_modules$$walletconnect$core$dist$cjs$events.js.map
