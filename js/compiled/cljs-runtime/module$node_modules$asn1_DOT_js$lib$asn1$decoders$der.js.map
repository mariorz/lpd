{
"version":3,
"file":"module$node_modules$asn1_DOT_js$lib$asn1$decoders$der.js",
"lineCount":12,
"mappings":"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",
"sources":["node_modules/asn1_DOT_js/lib/asn1/decoders/der.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$asn1_DOT_js$lib$asn1$decoders$der\"] = function(global,require,module,exports) {\n'use strict';\n\nconst inherits = require('inherits');\n\nconst bignum = require('bn.js');\nconst DecoderBuffer = require('../base/buffer').DecoderBuffer;\nconst Node = require('../base/node');\n\n// Import DER constants\nconst der = require('../constants/der');\n\nfunction DERDecoder(entity) {\n  this.enc = 'der';\n  this.name = entity.name;\n  this.entity = entity;\n\n  // Construct base tree\n  this.tree = new DERNode();\n  this.tree._init(entity.body);\n}\nmodule.exports = DERDecoder;\n\nDERDecoder.prototype.decode = function decode(data, options) {\n  if (!DecoderBuffer.isDecoderBuffer(data)) {\n    data = new DecoderBuffer(data, options);\n  }\n\n  return this.tree._decode(data, options);\n};\n\n// Tree methods\n\nfunction DERNode(parent) {\n  Node.call(this, 'der', parent);\n}\ninherits(DERNode, Node);\n\nDERNode.prototype._peekTag = function peekTag(buffer, tag, any) {\n  if (buffer.isEmpty())\n    return false;\n\n  const state = buffer.save();\n  const decodedTag = derDecodeTag(buffer, 'Failed to peek tag: \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  buffer.restore(state);\n\n  return decodedTag.tag === tag || decodedTag.tagStr === tag ||\n    (decodedTag.tagStr + 'of') === tag || any;\n};\n\nDERNode.prototype._decodeTag = function decodeTag(buffer, tag, any) {\n  const decodedTag = derDecodeTag(buffer,\n    'Failed to decode tag of \"' + tag + '\"');\n  if (buffer.isError(decodedTag))\n    return decodedTag;\n\n  let len = derDecodeLen(buffer,\n    decodedTag.primitive,\n    'Failed to get length of \"' + tag + '\"');\n\n  // Failure\n  if (buffer.isError(len))\n    return len;\n\n  if (!any &&\n      decodedTag.tag !== tag &&\n      decodedTag.tagStr !== tag &&\n      decodedTag.tagStr + 'of' !== tag) {\n    return buffer.error('Failed to match tag: \"' + tag + '\"');\n  }\n\n  if (decodedTag.primitive || len !== null)\n    return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n\n  // Indefinite length... find END tag\n  const state = buffer.save();\n  const res = this._skipUntilEnd(\n    buffer,\n    'Failed to skip indefinite length body: \"' + this.tag + '\"');\n  if (buffer.isError(res))\n    return res;\n\n  len = buffer.offset - state.offset;\n  buffer.restore(state);\n  return buffer.skip(len, 'Failed to match body of: \"' + tag + '\"');\n};\n\nDERNode.prototype._skipUntilEnd = function skipUntilEnd(buffer, fail) {\n  for (;;) {\n    const tag = derDecodeTag(buffer, fail);\n    if (buffer.isError(tag))\n      return tag;\n    const len = derDecodeLen(buffer, tag.primitive, fail);\n    if (buffer.isError(len))\n      return len;\n\n    let res;\n    if (tag.primitive || len !== null)\n      res = buffer.skip(len);\n    else\n      res = this._skipUntilEnd(buffer, fail);\n\n    // Failure\n    if (buffer.isError(res))\n      return res;\n\n    if (tag.tagStr === 'end')\n      break;\n  }\n};\n\nDERNode.prototype._decodeList = function decodeList(buffer, tag, decoder,\n  options) {\n  const result = [];\n  while (!buffer.isEmpty()) {\n    const possibleEnd = this._peekTag(buffer, 'end');\n    if (buffer.isError(possibleEnd))\n      return possibleEnd;\n\n    const res = decoder.decode(buffer, 'der', options);\n    if (buffer.isError(res) && possibleEnd)\n      break;\n    result.push(res);\n  }\n  return result;\n};\n\nDERNode.prototype._decodeStr = function decodeStr(buffer, tag) {\n  if (tag === 'bitstr') {\n    const unused = buffer.readUInt8();\n    if (buffer.isError(unused))\n      return unused;\n    return { unused: unused, data: buffer.raw() };\n  } else if (tag === 'bmpstr') {\n    const raw = buffer.raw();\n    if (raw.length % 2 === 1)\n      return buffer.error('Decoding of string type: bmpstr length mismatch');\n\n    let str = '';\n    for (let i = 0; i < raw.length / 2; i++) {\n      str += String.fromCharCode(raw.readUInt16BE(i * 2));\n    }\n    return str;\n  } else if (tag === 'numstr') {\n    const numstr = buffer.raw().toString('ascii');\n    if (!this._isNumstr(numstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'numstr unsupported characters');\n    }\n    return numstr;\n  } else if (tag === 'octstr') {\n    return buffer.raw();\n  } else if (tag === 'objDesc') {\n    return buffer.raw();\n  } else if (tag === 'printstr') {\n    const printstr = buffer.raw().toString('ascii');\n    if (!this._isPrintstr(printstr)) {\n      return buffer.error('Decoding of string type: ' +\n                          'printstr unsupported characters');\n    }\n    return printstr;\n  } else if (/str$/.test(tag)) {\n    return buffer.raw().toString();\n  } else {\n    return buffer.error('Decoding of string type: ' + tag + ' unsupported');\n  }\n};\n\nDERNode.prototype._decodeObjid = function decodeObjid(buffer, values, relative) {\n  let result;\n  const identifiers = [];\n  let ident = 0;\n  let subident = 0;\n  while (!buffer.isEmpty()) {\n    subident = buffer.readUInt8();\n    ident <<= 7;\n    ident |= subident & 0x7f;\n    if ((subident & 0x80) === 0) {\n      identifiers.push(ident);\n      ident = 0;\n    }\n  }\n  if (subident & 0x80)\n    identifiers.push(ident);\n\n  const first = (identifiers[0] / 40) | 0;\n  const second = identifiers[0] % 40;\n\n  if (relative)\n    result = identifiers;\n  else\n    result = [first, second].concat(identifiers.slice(1));\n\n  if (values) {\n    let tmp = values[result.join(' ')];\n    if (tmp === undefined)\n      tmp = values[result.join('.')];\n    if (tmp !== undefined)\n      result = tmp;\n  }\n\n  return result;\n};\n\nDERNode.prototype._decodeTime = function decodeTime(buffer, tag) {\n  const str = buffer.raw().toString();\n\n  let year;\n  let mon;\n  let day;\n  let hour;\n  let min;\n  let sec;\n  if (tag === 'gentime') {\n    year = str.slice(0, 4) | 0;\n    mon = str.slice(4, 6) | 0;\n    day = str.slice(6, 8) | 0;\n    hour = str.slice(8, 10) | 0;\n    min = str.slice(10, 12) | 0;\n    sec = str.slice(12, 14) | 0;\n  } else if (tag === 'utctime') {\n    year = str.slice(0, 2) | 0;\n    mon = str.slice(2, 4) | 0;\n    day = str.slice(4, 6) | 0;\n    hour = str.slice(6, 8) | 0;\n    min = str.slice(8, 10) | 0;\n    sec = str.slice(10, 12) | 0;\n    if (year < 70)\n      year = 2000 + year;\n    else\n      year = 1900 + year;\n  } else {\n    return buffer.error('Decoding ' + tag + ' time is not supported yet');\n  }\n\n  return Date.UTC(year, mon - 1, day, hour, min, sec, 0);\n};\n\nDERNode.prototype._decodeNull = function decodeNull() {\n  return null;\n};\n\nDERNode.prototype._decodeBool = function decodeBool(buffer) {\n  const res = buffer.readUInt8();\n  if (buffer.isError(res))\n    return res;\n  else\n    return res !== 0;\n};\n\nDERNode.prototype._decodeInt = function decodeInt(buffer, values) {\n  // Bigint, return as it is (assume big endian)\n  const raw = buffer.raw();\n  let res = new bignum(raw);\n\n  if (values)\n    res = values[res.toString(10)] || res;\n\n  return res;\n};\n\nDERNode.prototype._use = function use(entity, obj) {\n  if (typeof entity === 'function')\n    entity = entity(obj);\n  return entity._getDecoder('der').tree;\n};\n\n// Utility methods\n\nfunction derDecodeTag(buf, fail) {\n  let tag = buf.readUInt8(fail);\n  if (buf.isError(tag))\n    return tag;\n\n  const cls = der.tagClass[tag >> 6];\n  const primitive = (tag & 0x20) === 0;\n\n  // Multi-octet tag - load\n  if ((tag & 0x1f) === 0x1f) {\n    let oct = tag;\n    tag = 0;\n    while ((oct & 0x80) === 0x80) {\n      oct = buf.readUInt8(fail);\n      if (buf.isError(oct))\n        return oct;\n\n      tag <<= 7;\n      tag |= oct & 0x7f;\n    }\n  } else {\n    tag &= 0x1f;\n  }\n  const tagStr = der.tag[tag];\n\n  return {\n    cls: cls,\n    primitive: primitive,\n    tag: tag,\n    tagStr: tagStr\n  };\n}\n\nfunction derDecodeLen(buf, primitive, fail) {\n  let len = buf.readUInt8(fail);\n  if (buf.isError(len))\n    return len;\n\n  // Indefinite form\n  if (!primitive && len === 0x80)\n    return null;\n\n  // Definite form\n  if ((len & 0x80) === 0) {\n    // Short form\n    return len;\n  }\n\n  // Long form\n  const num = len & 0x7f;\n  if (num > 4)\n    return buf.error('length octect is too long');\n\n  len = 0;\n  for (let i = 0; i < num; i++) {\n    len <<= 8;\n    const j = buf.readUInt8(fail);\n    if (buf.isError(j))\n      return j;\n    len |= j;\n  }\n\n  return len;\n}\n\n};"],
"names":["shadow$provide","global","require","module","exports","DERDecoder","entity","enc","name","tree","DERNode","_init","body","parent","Node","call","derDecodeTag","buf","fail","tag","readUInt8","isError","cls","der","tagClass","primitive","oct","tagStr","derDecodeLen","len","num","error","i","j","inherits","bignum","DecoderBuffer","prototype","decode","DERDecoder.prototype.decode","data","options","isDecoderBuffer","_decode","_peekTag","DERNode.prototype._peekTag","buffer","any","isEmpty","state","save","decodedTag","restore","_decodeTag","DERNode.prototype._decodeTag","skip","res","_skipUntilEnd","offset","DERNode.prototype._skipUntilEnd","_decodeList","DERNode.prototype._decodeList","decoder","result","possibleEnd","push","_decodeStr","DERNode.prototype._decodeStr","unused","raw","length","str","String","fromCharCode","readUInt16BE","numstr","toString","_isNumstr","printstr","_isPrintstr","test","_decodeObjid","DERNode.prototype._decodeObjid","values","relative","identifiers","ident","subident","first","second","concat","slice","tmp","join","undefined","_decodeTime","DERNode.prototype._decodeTime","day","hour","min","year","mon","sec","Date","UTC","_decodeNull","DERNode.prototype._decodeNull","_decodeBool","DERNode.prototype._decodeBool","_decodeInt","DERNode.prototype._decodeInt","_use","DERNode.prototype._use","obj","_getDecoder"]
}
