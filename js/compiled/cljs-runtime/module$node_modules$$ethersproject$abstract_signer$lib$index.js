shadow$provide.module$node_modules$$ethersproject$abstract_signer$lib$index=function(global,require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};return function(d,b){function __(){this.constructor=d}if("function"!==
typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new (P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}
function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=
0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=0<t.length&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3]))_.label=op[1];else if(6===op[0]&&_.label<t[1])_.label=t[1],t=op;else if(t&&_.label<t[2])_.label=t[2],_.ops.push(op);else{t[2]&&_.ops.pop();_.trys.pop();continue}}op=body.call(thisArg,
_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),"throw":verb(1),"return":verb(2)},"function"===typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g};Object.defineProperty(exports,"__esModule",{value:!0});exports.VoidSigner=exports.Signer=void 0;var properties_1=require("module$node_modules$$ethersproject$properties$lib$index"),
logger_1=require("module$node_modules$$ethersproject$logger$lib$index");global=require("module$node_modules$$ethersproject$abstract_signer$lib$_version");var logger=new logger_1.Logger(global.version),allowedTransactionKeys="chainId data from gasLimit gasPrice nonce to value".split(" "),forwardErrors=[logger_1.Logger.errors.INSUFFICIENT_FUNDS,logger_1.Logger.errors.NONCE_EXPIRED,logger_1.Logger.errors.REPLACEMENT_UNDERPRICED];global=function(){function Signer(){logger.checkAbstract(this.constructor,
Signer);properties_1.defineReadOnly(this,"_isSigner",!0)}Signer.prototype.getBalance=function(blockTag){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this._checkProvider("getBalance"),[4,this.provider.getBalance(this.getAddress(),blockTag)];case 1:return[2,_a.sent()]}})})};Signer.prototype.getTransactionCount=function(blockTag){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this._checkProvider("getTransactionCount"),
[4,this.provider.getTransactionCount(this.getAddress(),blockTag)];case 1:return[2,_a.sent()]}})})};Signer.prototype.estimateGas=function(transaction){return __awaiter(this,void 0,void 0,function(){var tx;return __generator(this,function(_a){switch(_a.label){case 0:return this._checkProvider("estimateGas"),[4,properties_1.resolveProperties(this.checkTransaction(transaction))];case 1:return tx=_a.sent(),[4,this.provider.estimateGas(tx)];case 2:return[2,_a.sent()]}})})};Signer.prototype.call=function(transaction,
blockTag){return __awaiter(this,void 0,void 0,function(){var tx;return __generator(this,function(_a){switch(_a.label){case 0:return this._checkProvider("call"),[4,properties_1.resolveProperties(this.checkTransaction(transaction))];case 1:return tx=_a.sent(),[4,this.provider.call(tx,blockTag)];case 2:return[2,_a.sent()]}})})};Signer.prototype.sendTransaction=function(transaction){var _this=this;this._checkProvider("sendTransaction");return this.populateTransaction(transaction).then(function(tx){return _this.signTransaction(tx).then(function(signedTx){return _this.provider.sendTransaction(signedTx)})})};
Signer.prototype.getChainId=function(){return __awaiter(this,void 0,void 0,function(){var network;return __generator(this,function(_a){switch(_a.label){case 0:return this._checkProvider("getChainId"),[4,this.provider.getNetwork()];case 1:return network=_a.sent(),[2,network.chainId]}})})};Signer.prototype.getGasPrice=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this._checkProvider("getGasPrice"),[4,this.provider.getGasPrice()];
case 1:return[2,_a.sent()]}})})};Signer.prototype.resolveName=function(name){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this._checkProvider("resolveName"),[4,this.provider.resolveName(name)];case 1:return[2,_a.sent()]}})})};Signer.prototype.checkTransaction=function(transaction){for(var key in transaction)-1===allowedTransactionKeys.indexOf(key)&&logger.throwArgumentError("invalid transaction key: "+key,"transaction",transaction);
key=properties_1.shallowCopy(transaction);key.from=null==key.from?this.getAddress():Promise.all([Promise.resolve(key.from),this.getAddress()]).then(function(result){result[0].toLowerCase()!==result[1].toLowerCase()&&logger.throwArgumentError("from address mismatch","transaction",transaction);return result[0]});return key};Signer.prototype.populateTransaction=function(transaction){return __awaiter(this,void 0,void 0,function(){var tx,_this=this;return __generator(this,function(_a$jscomp$0){switch(_a$jscomp$0.label){case 0:return[4,
properties_1.resolveProperties(this.checkTransaction(transaction))];case 1:return tx=_a$jscomp$0.sent(),null!=tx.to&&(tx.to=Promise.resolve(tx.to).then(function(to){return __awaiter(_this,void 0,void 0,function(){var address;return __generator(this,function(_a){switch(_a.label){case 0:return null==to?[2,null]:[4,this.resolveName(to)];case 1:return address=_a.sent(),null==address&&logger.throwArgumentError("provided ENS name resolves to null","tx.to",to),[2,address]}})})})),null==tx.gasPrice&&(tx.gasPrice=
this.getGasPrice()),null==tx.nonce&&(tx.nonce=this.getTransactionCount("pending")),null==tx.gasLimit&&(tx.gasLimit=this.estimateGas(tx).catch(function(error){if(0<=forwardErrors.indexOf(error.code))throw error;return logger.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error,tx})})),tx.chainId=null==tx.chainId?this.getChainId():Promise.all([Promise.resolve(tx.chainId),this.getChainId()]).then(function(results){0!==
results[1]&&results[0]!==results[1]&&logger.throwArgumentError("chainId address mismatch","transaction",transaction);return results[0]}),[4,properties_1.resolveProperties(tx)];case 2:return[2,_a$jscomp$0.sent()]}})})};Signer.prototype._checkProvider=function(operation){this.provider||logger.throwError("missing provider",logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:operation||"_checkProvider"})};Signer.isSigner=function(value){return!(!value||!value._isSigner)};return Signer}();exports.Signer=
global;global=function(_super){function VoidSigner(address,provider){logger.checkNew(this.constructor,VoidSigner);var _this=_super.call(this)||this;properties_1.defineReadOnly(_this,"address",address);properties_1.defineReadOnly(_this,"provider",provider||null);return _this}__extends(VoidSigner,_super);VoidSigner.prototype.getAddress=function(){return Promise.resolve(this.address)};VoidSigner.prototype._fail=function(message,operation){return Promise.resolve().then(function(){logger.throwError(message,
logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation})})};VoidSigner.prototype.signMessage=function(message){return this._fail("VoidSigner cannot sign messages","signMessage")};VoidSigner.prototype.signTransaction=function(transaction){return this._fail("VoidSigner cannot sign transactions","signTransaction")};VoidSigner.prototype._signTypedData=function(domain,types,value){return this._fail("VoidSigner cannot sign typed data","signTypedData")};VoidSigner.prototype.connect=function(provider){return new VoidSigner(this.address,
provider)};return VoidSigner}(global);exports.VoidSigner=global}
//# sourceMappingURL=module$node_modules$$ethersproject$abstract_signer$lib$index.js.map
