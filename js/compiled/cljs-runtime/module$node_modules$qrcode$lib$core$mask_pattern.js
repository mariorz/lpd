shadow$provide.module$node_modules$qrcode$lib$core$mask_pattern=function(global,require,module$jscomp$0,exports){function getMaskAt(maskPattern,i,j){switch(maskPattern){case exports.Patterns.PATTERN000:return 0===(i+j)%2;case exports.Patterns.PATTERN001:return 0===i%2;case exports.Patterns.PATTERN010:return 0===j%3;case exports.Patterns.PATTERN011:return 0===(i+j)%3;case exports.Patterns.PATTERN100:return 0===(Math.floor(i/2)+Math.floor(j/3))%2;case exports.Patterns.PATTERN101:return 0===i*j%2+i*
j%3;case exports.Patterns.PATTERN110:return 0===(i*j%2+i*j%3)%2;case exports.Patterns.PATTERN111:return 0===(i*j%3+(i+j)%2)%2;default:throw Error("bad maskPattern:"+maskPattern);}}exports.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};exports.isValid=function(mask){return null!=mask&&""!==mask&&!isNaN(mask)&&0<=mask&&7>=mask};exports.from=function(value){return exports.isValid(value)?parseInt(value,10):void 0};exports.getPenaltyN1=
function(data){for(var size=data.size,points=0,sameCountCol,sameCountRow,lastCol,lastRow,row=0;row<size;row++){sameCountCol=sameCountRow=0;lastCol=lastRow=null;for(var col=0;col<size;col++){var module=data.get(row,col);module===lastCol?sameCountCol++:(5<=sameCountCol&&(points+=3+(sameCountCol-5)),lastCol=module,sameCountCol=1);module=data.get(col,row);module===lastRow?sameCountRow++:(5<=sameCountRow&&(points+=3+(sameCountRow-5)),lastRow=module,sameCountRow=1)}5<=sameCountCol&&(points+=3+(sameCountCol-
5));5<=sameCountRow&&(points+=3+(sameCountRow-5))}return points};exports.getPenaltyN2=function(data){for(var size=data.size,points=0,row=0;row<size-1;row++)for(var col=0;col<size-1;col++){var last=data.get(row,col)+data.get(row,col+1)+data.get(row+1,col)+data.get(row+1,col+1);4!==last&&0!==last||points++}return 3*points};exports.getPenaltyN3=function(data){for(var size=data.size,points=0,bitsCol,bitsRow,row=0;row<size;row++)for(var col=bitsCol=bitsRow=0;col<size;col++)bitsCol=bitsCol<<1&2047|data.get(row,
col),10<=col&&(1488===bitsCol||93===bitsCol)&&points++,bitsRow=bitsRow<<1&2047|data.get(col,row),10<=col&&(1488===bitsRow||93===bitsRow)&&points++;return 40*points};exports.getPenaltyN4=function(data){for(var darkCount=0,modulesCount=data.data.length,i=0;i<modulesCount;i++)darkCount+=data.data[i];return 10*Math.abs(Math.ceil(100*darkCount/modulesCount/5)-10)};exports.applyMask=function(pattern,data){for(var size=data.size,col=0;col<size;col++)for(var row=0;row<size;row++)data.isReserved(row,col)||
data.xor(row,col,getMaskAt(pattern,row,col))};exports.getBestMask=function(data,setupFormatFunc){for(var numPatterns=Object.keys(exports.Patterns).length,bestPattern=0,lowerPenalty=Infinity,p=0;p<numPatterns;p++){setupFormatFunc(p);exports.applyMask(p,data);var penalty=exports.getPenaltyN1(data)+exports.getPenaltyN2(data)+exports.getPenaltyN3(data)+exports.getPenaltyN4(data);exports.applyMask(p,data);penalty<lowerPenalty&&(lowerPenalty=penalty,bestPattern=p)}return bestPattern}}
//# sourceMappingURL=module$node_modules$qrcode$lib$core$mask_pattern.js.map
