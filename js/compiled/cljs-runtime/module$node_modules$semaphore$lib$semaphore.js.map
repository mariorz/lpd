{
"version":3,
"file":"module$node_modules$semaphore$lib$semaphore.js",
"lineCount":4,
"mappings":"AAAAA,cAAA,CAAe,2CAAf,CAAgE,QAAQ,CAACC,eAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CACxG,IAAIC,QAAUH,OAAA,CAAQ,qCAAR,CACZ,UAAQ,CAACD,MAAD,CAAS,CAUnBK,QAASA,UAAS,CAACC,QAAD,CAAW,CAC5B,IAAID,UAAY,CACfC,SAAUA,QAAVA,EAAsB,CADP,CAEfC,QAAS,CAFM,CAGfC,MAAO,EAHQ,CAIfC,UAAW,CAAA,CAJI,CAMfC,KAAMA,QAAQ,EAAG,CAChB,GAA4B,CAAA,CAA5B,GAAIL,SAAJ,CAAcI,SAAd,CAAmC,CAC3BJ,SAAA,CAAUE,OAAV,EACAF,UAAA,CAAUI,SAAV,CAAsB,CAAA,CACtB,KAAIE,QAAU,CAHa,CAAnC,IAKYA,QAAJ,CAAc,CAEtB,KAAIC,KAAO,CAAEC,EAAG,CAAL,CAEgB,WAA3B,EAAI,MAAOC,UAAA,CAAU,CAAV,CAAX,CACCF,IADD,CACMG,IADN,CACaD,SAAA,CAAU,CAAV,CADb,CAGCF,IAHD,CAGMC,CAHN,CAGUC,SAAA,CAAU,CAAV,CAGc,EAAxB,EAAIA,SAAJ,CAAcE,MAAd;CAC4B,UAA3B,EAAI,MAAOF,UAAA,CAAU,CAAV,CAAX,CAAuCF,IAAvC,CAA4CG,IAA5C,CAAmDD,SAAA,CAAU,CAAV,CAAnD,CACKF,IADL,CACUC,CADV,CACcC,SAAA,CAAU,CAAV,CAFf,CAKA,KAAIC,KAAOH,IAAPG,CAAYA,IAChBH,KAAA,CAAKG,IAAL,CAAYE,QAAQ,EAAG,CAAEF,IAAA,CAAKV,SAAL,CAAea,KAAf,CAAF,CAEvB,IAAIb,SAAJ,CAAcE,OAAd,CAAwBK,IAAxB,CAA6BC,CAA7B,CAAiCF,OAAjC,CAA2CN,SAA3C,CAAqDC,QAArD,CAKC,MAJuB,EAIhB,GAJIK,OAIJ,GAHCN,SAAA,CAAUE,OAAV,EACA,CAAAF,SAAA,CAAUI,SAAV,CAAsB,CAAA,CAEvB,EAAAJ,SAAA,CAAUG,KAAV,CAAgBW,IAAhB,CAAqBP,IAArB,CAGRP,UAAA,CAAUE,OAAV,EAAqBK,IAArB,CAA0BC,CAA1B,CAA8BF,OAC9BC,KAAA,CAAKG,IAAL,CAAUV,SAAV,CAAoBa,KAApB,CACsB,EAAhB,GAAIP,OAAJ,GAAmBN,SAAnB,CAA6BI,SAA7B,CAAyC,CAAA,CAAzC,CAlCU,CANF,CA2CfS,MAAOA,QAAQ,CAACL,CAAD,CAAI,CAGlBR,SAAA,CAAUE,OAAV,EAFIM,CAEJ,EAFS,CAIT,IAAKR,SAAL,CAAeG,KAAf,CAAqBQ,MAArB,CAQIJ,CAEJ,CAFWP,SAAA,CAAUG,KAAV,CAAgB,CAAhB,CAEX,CAAII,CAAJ,CAASC,CAAT,CAAaR,SAAb,CAAuBE,OAAvB,CAAiCF,SAAjC,CAA2CC,QAA3C;CAIAD,SAAA,CAAUG,KAAV,CAAgBY,KAAhB,EAGA,CAFAf,SAEA,CAFUE,OAEV,EAFqBK,CAErB,CAF0BC,CAE1B,CAAAQ,QAAA,CAAST,CAAT,CAAcG,IAAd,CAPA,CAVA,KACC,IAAwB,CAAxB,CAAIV,SAAJ,CAAcE,OAAd,CACC,KAAUe,MAAJ,CAAU,8BAAV,CAAN,CAPgB,CA3CJ,CAoEfC,UAAWA,QAAQ,CAACV,CAAD,CAAI,CAEtB,MAAOR,UAAP,CAAiBE,OAAjB,EADIM,CACJ,EADS,CACT,GAAgCR,SAAhC,CAA0CC,QAFpB,CApER,CA0EhB,OAAOD,UA3EqB,CAN7B,IAAIgB,SAAWA,QAAS,CAACG,EAAD,CAAK,CAAEC,UAAA,CAAWD,EAAX,CAAe,CAAf,CAAF,CACP,YAAtB,EAAI,MAAOpB,QAAX,EAAqCA,OAArC,EAA2E,UAA3E,EAAgD,MAAOA,QAAP,CAAeiB,QAA/D,GAECA,QAFD,CAEYjB,OAFZ,CAEoBiB,QAFpB,CAmFuB,SAAvB,GAAI,MAAOlB,QAAX,CAEID,MAFJ,CAEWC,OAFX,CAEqBE,SAFrB,CAG6B,UAAtB,GAAI,MAAOqB,OAAX,EAAoCA,MAApC,CAA2CC,GAA3C,CAEHD,MAAA,CAAO,QAAS,EAAG,CACf,MAAOrB,UADQ,CAAnB,CAFG;AAOHL,MAPG,CAOIK,SAPJ,CAOgBA,SAlGJ,CAAjB,CAAA,CAoGA,IApGA,CAFsG;",
"sources":["node_modules/semaphore/lib/semaphore.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$semaphore$lib$semaphore\"] = function(global,require,module,exports) {\nvar process = require('process');\n;(function(global) {\n\n'use strict';\n\nvar nextTick = function (fn) { setTimeout(fn, 0); }\nif (typeof process != 'undefined' && process && typeof process.nextTick == 'function') {\n\t// node.js and the like\n\tnextTick = process.nextTick;\n}\n\nfunction semaphore(capacity) {\n\tvar semaphore = {\n\t\tcapacity: capacity || 1,\n\t\tcurrent: 0,\n\t\tqueue: [],\n\t\tfirstHere: false,\n\n\t\ttake: function() {\n\t\t\tif (semaphore.firstHere === false) {\n        \t\t\tsemaphore.current++;\n        \t\t\tsemaphore.firstHere = true;\n        \t\t\tvar isFirst = 1;\n      \t\t\t} else {\n        \t\t\tvar isFirst = 0;\n      \t\t\t}\n\t\t\tvar item = { n: 1 };\n\n\t\t\tif (typeof arguments[0] == 'function') {\n\t\t\t\titem.task = arguments[0];\n\t\t\t} else {\n\t\t\t\titem.n = arguments[0];\n\t\t\t}\n\n\t\t\tif (arguments.length >= 2)  {\n\t\t\t\tif (typeof arguments[1] == 'function') item.task = arguments[1];\n\t\t\t\telse item.n = arguments[1];\n\t\t\t}\n\n\t\t\tvar task = item.task;\n\t\t\titem.task = function() { task(semaphore.leave); };\n\n\t\t\tif (semaphore.current + item.n - isFirst > semaphore.capacity) {\n        \t\t\tif (isFirst === 1) {\n        \t\t\t\tsemaphore.current--;\n        \t\t\t\tsemaphore.firstHere = false;\n        \t\t\t}\n\t\t\t\treturn semaphore.queue.push(item);\n\t\t\t}\n\n\t\t\tsemaphore.current += item.n - isFirst;\n\t\t\titem.task(semaphore.leave);\n      \t\t\tif (isFirst === 1) semaphore.firstHere = false;\n\t\t},\n\n\t\tleave: function(n) {\n\t\t\tn = n || 1;\n\n\t\t\tsemaphore.current -= n;\n\n\t\t\tif (!semaphore.queue.length) {\n\t\t\t\tif (semaphore.current < 0) {\n\t\t\t\t\tthrow new Error('leave called too many times.');\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar item = semaphore.queue[0];\n\n\t\t\tif (item.n + semaphore.current > semaphore.capacity) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsemaphore.queue.shift();\n\t\t\tsemaphore.current += item.n;\n\n\t\t\tnextTick(item.task);\n\t\t},\n\n\t\tavailable: function(n) {\n\t\t\tn = n || 1;\n\t\t\treturn(semaphore.current + n <= semaphore.capacity);\n\t\t}\n\t};\n\n\treturn semaphore;\n};\n\nif (typeof exports === 'object') {\n    // node export\n    module.exports = semaphore;\n} else if (typeof define === 'function' && define.amd) {\n    // amd export\n    define(function () {\n        return semaphore;\n    });\n} else {\n    // browser global\n    global.semaphore = semaphore;\n}\n}(this));\n\n};"],
"names":["shadow$provide","global","require","module","exports","process","semaphore","capacity","current","queue","firstHere","take","isFirst","item","n","arguments","task","length","item.task","leave","push","shift","nextTick","Error","available","fn","setTimeout","define","amd"]
}
